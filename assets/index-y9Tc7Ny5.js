(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function lp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function my(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var n=i.default;if(typeof n=="function"){var s=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(l){var u=Object.getOwnPropertyDescriptor(i,l);Object.defineProperty(s,l,u.get?u:{enumerable:!0,get:function(){return i[l]}})}),s}var Lu={exports:{}},Cs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function py(){if(bm)return Cs;bm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(l,u,c){var h=null;if(c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),"key"in u){c={};for(var m in u)m!=="key"&&(c[m]=u[m])}else c=u;return u=c.ref,{$$typeof:i,type:l,key:h,ref:u!==void 0?u:null,props:c}}return Cs.Fragment=n,Cs.jsx=s,Cs.jsxs=s,Cs}var _m;function gy(){return _m||(_m=1,Lu.exports=py()),Lu.exports}var f=gy(),qu={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function vy(){if(Sm)return ye;Sm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function j(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,z={};function x(E,K,M){this.props=E,this.context=K,this.refs=z,this.updater=M||N}x.prototype.isReactComponent={},x.prototype.setState=function(E,K){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,K,"setState")},x.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function L(){}L.prototype=x.prototype;function A(E,K,M){this.props=E,this.context=K,this.refs=z,this.updater=M||N}var R=A.prototype=new L;R.constructor=A,C(R,x.prototype),R.isPureReactComponent=!0;var P=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function X(E,K,M,B,$,re){return M=re.ref,{$$typeof:i,type:E,key:K,ref:M!==void 0?M:null,props:re}}function W(E,K){return X(E.type,K,void 0,void 0,void 0,E.props)}function ee(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function ue(E){var K={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(M){return K[M]})}var ae=/\/+/g;function ne(E,K){return typeof E=="object"&&E!==null&&E.key!=null?ue(""+E.key):K.toString(36)}function fe(){}function De(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(fe,fe):(E.status="pending",E.then(function(K){E.status==="pending"&&(E.status="fulfilled",E.value=K)},function(K){E.status==="pending"&&(E.status="rejected",E.reason=K)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function ge(E,K,M,B,$){var re=typeof E;(re==="undefined"||re==="boolean")&&(E=null);var I=!1;if(E===null)I=!0;else switch(re){case"bigint":case"string":case"number":I=!0;break;case"object":switch(E.$$typeof){case i:case n:I=!0;break;case y:return I=E._init,ge(I(E._payload),K,M,B,$)}}if(I)return $=$(E),I=B===""?"."+ne(E,0):B,P($)?(M="",I!=null&&(M=I.replace(ae,"$&/")+"/"),ge($,K,M,"",function(qe){return qe})):$!=null&&(ee($)&&($=W($,M+($.key==null||E&&E.key===$.key?"":(""+$.key).replace(ae,"$&/")+"/")+I)),K.push($)),1;I=0;var se=B===""?".":B+":";if(P(E))for(var Z=0;Z<E.length;Z++)B=E[Z],re=se+ne(B,Z),I+=ge(B,K,M,re,$);else if(Z=j(E),typeof Z=="function")for(E=Z.call(E),Z=0;!(B=E.next()).done;)B=B.value,re=se+ne(B,Z++),I+=ge(B,K,M,re,$);else if(re==="object"){if(typeof E.then=="function")return ge(De(E),K,M,B,$);throw K=String(E),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return I}function H(E,K,M){if(E==null)return E;var B=[],$=0;return ge(E,B,"","",function(re){return K.call(M,re,$++)}),B}function te(E){if(E._status===-1){var K=E._result;K=K(),K.then(function(M){(E._status===0||E._status===-1)&&(E._status=1,E._result=M)},function(M){(E._status===0||E._status===-1)&&(E._status=2,E._result=M)}),E._status===-1&&(E._status=0,E._result=K)}if(E._status===1)return E._result.default;throw E._result}var ie=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function Ee(){}return ye.Children={map:H,forEach:function(E,K,M){H(E,function(){K.apply(this,arguments)},M)},count:function(E){var K=0;return H(E,function(){K++}),K},toArray:function(E){return H(E,function(K){return K})||[]},only:function(E){if(!ee(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ye.Component=x,ye.Fragment=s,ye.Profiler=u,ye.PureComponent=A,ye.StrictMode=l,ye.Suspense=p,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ye.__COMPILER_RUNTIME={__proto__:null,c:function(E){return J.H.useMemoCache(E)}},ye.cache=function(E){return function(){return E.apply(null,arguments)}},ye.cloneElement=function(E,K,M){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var B=C({},E.props),$=E.key,re=void 0;if(K!=null)for(I in K.ref!==void 0&&(re=void 0),K.key!==void 0&&($=""+K.key),K)!G.call(K,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&K.ref===void 0||(B[I]=K[I]);var I=arguments.length-2;if(I===1)B.children=M;else if(1<I){for(var se=Array(I),Z=0;Z<I;Z++)se[Z]=arguments[Z+2];B.children=se}return X(E.type,$,void 0,void 0,re,B)},ye.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},ye.createElement=function(E,K,M){var B,$={},re=null;if(K!=null)for(B in K.key!==void 0&&(re=""+K.key),K)G.call(K,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&($[B]=K[B]);var I=arguments.length-2;if(I===1)$.children=M;else if(1<I){for(var se=Array(I),Z=0;Z<I;Z++)se[Z]=arguments[Z+2];$.children=se}if(E&&E.defaultProps)for(B in I=E.defaultProps,I)$[B]===void 0&&($[B]=I[B]);return X(E,re,void 0,void 0,null,$)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(E){return{$$typeof:m,render:E}},ye.isValidElement=ee,ye.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:te}},ye.memo=function(E,K){return{$$typeof:g,type:E,compare:K===void 0?null:K}},ye.startTransition=function(E){var K=J.T,M={};J.T=M;try{var B=E(),$=J.S;$!==null&&$(M,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(Ee,ie)}catch(re){ie(re)}finally{J.T=K}},ye.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ye.use=function(E){return J.H.use(E)},ye.useActionState=function(E,K,M){return J.H.useActionState(E,K,M)},ye.useCallback=function(E,K){return J.H.useCallback(E,K)},ye.useContext=function(E){return J.H.useContext(E)},ye.useDebugValue=function(){},ye.useDeferredValue=function(E,K){return J.H.useDeferredValue(E,K)},ye.useEffect=function(E,K,M){var B=J.H;if(typeof M=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return B.useEffect(E,K)},ye.useId=function(){return J.H.useId()},ye.useImperativeHandle=function(E,K,M){return J.H.useImperativeHandle(E,K,M)},ye.useInsertionEffect=function(E,K){return J.H.useInsertionEffect(E,K)},ye.useLayoutEffect=function(E,K){return J.H.useLayoutEffect(E,K)},ye.useMemo=function(E,K){return J.H.useMemo(E,K)},ye.useOptimistic=function(E,K){return J.H.useOptimistic(E,K)},ye.useReducer=function(E,K,M){return J.H.useReducer(E,K,M)},ye.useRef=function(E){return J.H.useRef(E)},ye.useState=function(E){return J.H.useState(E)},ye.useSyncExternalStore=function(E,K,M){return J.H.useSyncExternalStore(E,K,M)},ye.useTransition=function(){return J.H.useTransition()},ye.version="19.1.1",ye}var wm;function pc(){return wm||(wm=1,qu.exports=vy()),qu.exports}var S=pc();const Wa=lp(S);var Bu={exports:{}},As={},Hu={exports:{}},$u={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function yy(){return jm||(jm=1,(function(i){function n(H,te){var ie=H.length;H.push(te);e:for(;0<ie;){var Ee=ie-1>>>1,E=H[Ee];if(0<u(E,te))H[Ee]=te,H[ie]=E,ie=Ee;else break e}}function s(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var te=H[0],ie=H.pop();if(ie!==te){H[0]=ie;e:for(var Ee=0,E=H.length,K=E>>>1;Ee<K;){var M=2*(Ee+1)-1,B=H[M],$=M+1,re=H[$];if(0>u(B,ie))$<E&&0>u(re,B)?(H[Ee]=re,H[$]=ie,Ee=$):(H[Ee]=B,H[M]=ie,Ee=M);else if($<E&&0>u(re,ie))H[Ee]=re,H[$]=ie,Ee=$;else break e}}return te}function u(H,te){var ie=H.sortIndex-te.sortIndex;return ie!==0?ie:H.id-te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],y=1,_=null,j=3,N=!1,C=!1,z=!1,x=!1,L=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function P(H){for(var te=s(g);te!==null;){if(te.callback===null)l(g);else if(te.startTime<=H)l(g),te.sortIndex=te.expirationTime,n(p,te);else break;te=s(g)}}function J(H){if(z=!1,P(H),!C)if(s(p)!==null)C=!0,G||(G=!0,ne());else{var te=s(g);te!==null&&ge(J,te.startTime-H)}}var G=!1,X=-1,W=5,ee=-1;function ue(){return x?!0:!(i.unstable_now()-ee<W)}function ae(){if(x=!1,G){var H=i.unstable_now();ee=H;var te=!0;try{e:{C=!1,z&&(z=!1,A(X),X=-1),N=!0;var ie=j;try{t:{for(P(H),_=s(p);_!==null&&!(_.expirationTime>H&&ue());){var Ee=_.callback;if(typeof Ee=="function"){_.callback=null,j=_.priorityLevel;var E=Ee(_.expirationTime<=H);if(H=i.unstable_now(),typeof E=="function"){_.callback=E,P(H),te=!0;break t}_===s(p)&&l(p),P(H)}else l(p);_=s(p)}if(_!==null)te=!0;else{var K=s(g);K!==null&&ge(J,K.startTime-H),te=!1}}break e}finally{_=null,j=ie,N=!1}te=void 0}}finally{te?ne():G=!1}}}var ne;if(typeof R=="function")ne=function(){R(ae)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,De=fe.port2;fe.port1.onmessage=ae,ne=function(){De.postMessage(null)}}else ne=function(){L(ae,0)};function ge(H,te){X=L(function(){H(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return j},i.unstable_next=function(H){switch(j){case 1:case 2:case 3:var te=3;break;default:te=j}var ie=j;j=te;try{return H()}finally{j=ie}},i.unstable_requestPaint=function(){x=!0},i.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=j;j=H;try{return te()}finally{j=ie}},i.unstable_scheduleCallback=function(H,te,ie){var Ee=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ee+ie:Ee):ie=Ee,H){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=ie+E,H={id:y++,callback:te,priorityLevel:H,startTime:ie,expirationTime:E,sortIndex:-1},ie>Ee?(H.sortIndex=ie,n(g,H),s(p)===null&&H===s(g)&&(z?(A(X),X=-1):z=!0,ge(J,ie-Ee))):(H.sortIndex=E,n(p,H),C||N||(C=!0,G||(G=!0,ne()))),H},i.unstable_shouldYield=ue,i.unstable_wrapCallback=function(H){var te=j;return function(){var ie=j;j=te;try{return H.apply(this,arguments)}finally{j=ie}}}})($u)),$u}var xm;function by(){return xm||(xm=1,Hu.exports=yy()),Hu.exports}var Pu={exports:{}},gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function _y(){if(Em)return gt;Em=1;var i=pc();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(p,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:p,containerInfo:g,implementation:y}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,gt.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return c(p,g,null,y)},gt.flushSync=function(p){var g=h.T,y=l.p;try{if(h.T=null,l.p=2,p)return p()}finally{h.T=g,l.p=y,l.d.f()}},gt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(p,g))},gt.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},gt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,_=m(y,g.crossOrigin),j=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?l.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:j,fetchPriority:N}):y==="script"&&l.d.X(p,{crossOrigin:_,integrity:j,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);l.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(p)},gt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=m(y,g.crossOrigin);l.d.L(p,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gt.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=m(g.as,g.crossOrigin);l.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(p)},gt.requestFormReset=function(p){l.d.r(p)},gt.unstable_batchedUpdates=function(p,g){return p(g)},gt.useFormState=function(p,g,y){return h.H.useFormState(p,g,y)},gt.useFormStatus=function(){return h.H.useHostTransitionStatus()},gt.version="19.1.1",gt}var Tm;function op(){if(Tm)return Pu.exports;Tm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Pu.exports=_y(),Pu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function Sy(){if(Nm)return As;Nm=1;var i=by(),n=pc(),s=op();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,r=t;;){var o=a.return;if(o===null)break;var d=o.alternate;if(d===null){if(r=o.return,r!==null){a=r;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===a)return m(o),e;if(d===r)return m(o),t;d=d.sibling}throw Error(l(188))}if(a.return!==r.return)a=o,r=d;else{for(var v=!1,b=o.child;b;){if(b===a){v=!0,a=o,r=d;break}if(b===r){v=!0,r=o,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,r=o;break}if(b===r){v=!0,r=d,a=o;break}b=b.sibling}if(!v)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),R=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Symbol.for("react.client.reference");function De(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===fe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case x:return"Profiler";case z:return"StrictMode";case J:return"Suspense";case G:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case R:return(e.displayName||"Context")+".Provider";case A:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:De(e.type)||"Memo";case W:t=e._payload,e=e._init;try{return De(e(t))}catch{}}return null}var ge=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Ee=[],E=-1;function K(e){return{current:e}}function M(e){0>E||(e.current=Ee[E],Ee[E]=null,E--)}function B(e,t){E++,Ee[E]=e.current,e.current=t}var $=K(null),re=K(null),I=K(null),se=K(null);function Z(e,t){switch(B(I,t),B(re,e),B($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Kh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Kh(t),e=Xh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M($),B($,e)}function qe(){M($),M(re),M(I)}function Be(e){e.memoizedState!==null&&B(se,e);var t=$.current,a=Xh(t,e.type);t!==a&&(B(re,e),B($,a))}function Ve(e){re.current===e&&(M($),M(re)),se.current===e&&(M(se),js._currentValue=ie)}var Pt=Object.prototype.hasOwnProperty,Je=i.unstable_scheduleCallback,Ta=i.unstable_cancelCallback,jl=i.unstable_shouldYield,Rr=i.unstable_requestPaint,kt=i.unstable_now,xl=i.unstable_getCurrentPriorityLevel,Vs=i.unstable_ImmediatePriority,Qs=i.unstable_UserBlockingPriority,F=i.unstable_NormalPriority,ce=i.unstable_LowPriority,Ne=i.unstable_IdlePriority,_e=i.log,Ue=i.unstable_setDisableYieldValue,Ce=null,$e=null;function xt(e){if(typeof _e=="function"&&Ue(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Ce,e)}catch{}}var We=Math.clz32?Math.clz32:eg,ra=Math.log,Wp=Math.LN2;function eg(e){return e>>>=0,e===0?32:31-(ra(e)/Wp|0)|0}var Ks=256,Xs=4194304;function an(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zs(e,t,a){var r=e.pendingLanes;if(r===0)return 0;var o=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var b=r&134217727;return b!==0?(r=b&~d,r!==0?o=an(r):(v&=b,v!==0?o=an(v):a||(a=b&~e,a!==0&&(o=an(a))))):(b=r&~d,b!==0?o=an(b):v!==0?o=an(v):a||(a=r&~e,a!==0&&(o=an(a)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:o}function kr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function tg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ac(){var e=Ks;return Ks<<=1,(Ks&4194048)===0&&(Ks=256),e}function Oc(){var e=Xs;return Xs<<=1,(Xs&62914560)===0&&(Xs=4194304),e}function El(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Dr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ag(e,t,a,r,o,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,w=e.expirationTimes,D=e.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-We(a),Q=1<<Y;b[Y]=0,w[Y]=-1;var U=D[Y];if(U!==null)for(D[Y]=null,Y=0;Y<U.length;Y++){var q=U[Y];q!==null&&(q.lane&=-536870913)}a&=~Q}r!==0&&Rc(e,r,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~t))}function Rc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-We(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|a&4194090}function kc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-We(a),o=1<<r;o&t|e[r]&t&&(e[r]|=t),a&=~o}}function Tl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Nl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Dc(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:hm(e.type))}function ng(e,t){var a=te.p;try{return te.p=e,t()}finally{te.p=a}}var Na=Math.random().toString(36).slice(2),mt="__reactFiber$"+Na,bt="__reactProps$"+Na,An="__reactContainer$"+Na,Cl="__reactEvents$"+Na,rg="__reactListeners$"+Na,sg="__reactHandles$"+Na,Uc="__reactResources$"+Na,Ur="__reactMarker$"+Na;function Al(e){delete e[mt],delete e[bt],delete e[Cl],delete e[rg],delete e[sg]}function On(e){var t=e[mt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[An]||a[mt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Fh(e);e!==null;){if(a=e[mt])return a;e=Fh(e)}return t}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[mt]||e[An]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Mr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function kn(e){var t=e[Uc];return t||(t=e[Uc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[Ur]=!0}var Mc=new Set,zc={};function nn(e,t){Dn(e,t),Dn(e+"Capture",t)}function Dn(e,t){for(zc[e]=t,e=0;e<t.length;e++)Mc.add(t[e])}var ig=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lc={},qc={};function lg(e){return Pt.call(qc,e)?!0:Pt.call(Lc,e)?!1:ig.test(e)?qc[e]=!0:(Lc[e]=!0,!1)}function Js(e,t,a){if(lg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Is(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function sa(e,t,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+r)}}var Ol,Bc;function Un(e){if(Ol===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ol=t&&t[1]||"",Bc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ol+e+Bc}var Rl=!1;function kl(e,t){if(!e||Rl)return"";Rl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var U=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){U=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){U=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&U&&typeof q.stack=="string")return[q.stack,U.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var w=v.split(`
`),D=b.split(`
`);for(o=r=0;r<w.length&&!w[r].includes("DetermineComponentFrameRoot");)r++;for(;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;if(r===w.length||o===D.length)for(r=w.length-1,o=D.length-1;1<=r&&0<=o&&w[r]!==D[o];)o--;for(;1<=r&&0<=o;r--,o--)if(w[r]!==D[o]){if(r!==1||o!==1)do if(r--,o--,0>o||w[r]!==D[o]){var Y=`
`+w[r].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=r&&0<=o);break}}}finally{Rl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Un(a):""}function og(e){switch(e.tag){case 26:case 27:case 5:return Un(e.type);case 16:return Un("Lazy");case 13:return Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return kl(e.type,!1);case 11:return kl(e.type.render,!1);case 1:return kl(e.type,!0);case 31:return Un("Activity");default:return""}}function Hc(e){try{var t="";do t+=og(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $c(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ug(e){var t=$c(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(v){r=""+v,d.call(this,v)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fs(e){e._valueTracker||(e._valueTracker=ug(e))}function Pc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=$c(e)?e.checked?"true":"false":e.value),e=r,e!==a?(t.setValue(e),!0):!1}function Ws(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cg=/[\n"\\]/g;function Ut(e){return e.replace(cg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Dl(e,t,a,r,o,d,v,b){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Dt(t)):e.value!==""+Dt(t)&&(e.value=""+Dt(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?Ul(e,v,Dt(t)):a!=null?Ul(e,v,Dt(a)):r!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Dt(b):e.removeAttribute("name")}function Gc(e,t,a,r,o,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;a=a!=null?""+Dt(a):"",t=t!=null?""+Dt(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=b?e.checked:!!r,e.defaultChecked=!!r,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ul(e,t,a){t==="number"&&Ws(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Mn(e,t,a,r){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Dt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Yc(e,t,a){if(t!=null&&(t=""+Dt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Dt(a):""}function Vc(e,t,a,r){if(t==null){if(r!=null){if(a!=null)throw Error(l(92));if(ge(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),t=a}a=Dt(t),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r)}function zn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var dg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qc(e,t,a){var r=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,a):typeof a!="number"||a===0||dg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Kc(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&a[o]!==r&&Qc(e,o,r)}else for(var d in t)t.hasOwnProperty(d)&&Qc(e,d,t[d])}function Ml(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(e){return hg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var zl=null;function Ll(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ln=null,qn=null;function Xc(e){var t=Rn(e);if(t&&(e=t.stateNode)){var a=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Dl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ut(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var o=r[bt]||null;if(!o)throw Error(l(90));Dl(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)r=a[t],r.form===e.form&&Pc(r)}break e;case"textarea":Yc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Mn(e,!!a.multiple,t,!1)}}}var ql=!1;function Zc(e,t,a){if(ql)return e(t,a);ql=!0;try{var r=e(t);return r}finally{if(ql=!1,(Ln!==null||qn!==null)&&(Bi(),Ln&&(t=Ln,e=qn,qn=Ln=null,Xc(t),e)))for(t=0;t<e.length;t++)Xc(e[t])}}function zr(e,t){var a=e.stateNode;if(a===null)return null;var r=a[bt]||null;if(r===null)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=!1;if(ia)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{Bl=!1}var Ca=null,Hl=null,ti=null;function Jc(){if(ti)return ti;var e,t=Hl,a=t.length,r,o="value"in Ca?Ca.value:Ca.textContent,d=o.length;for(e=0;e<a&&t[e]===o[e];e++);var v=a-e;for(r=1;r<=v&&t[a-r]===o[d-r];r++);return ti=o.slice(e,1<r?1-r:void 0)}function ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function Ic(){return!1}function _t(e){function t(a,r,o,d,v){this._reactName=a,this._targetInst=o,this.type=r,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ni:Ic,this.isPropagationStopped=Ic,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),t}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=_t(rn),qr=y({},rn,{view:0,detail:0}),mg=_t(qr),$l,Pl,Br,si=y({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Br&&(Br&&e.type==="mousemove"?($l=e.screenX-Br.screenX,Pl=e.screenY-Br.screenY):Pl=$l=0,Br=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:Pl}}),Fc=_t(si),pg=y({},si,{dataTransfer:0}),gg=_t(pg),vg=y({},qr,{relatedTarget:0}),Gl=_t(vg),yg=y({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),bg=_t(yg),_g=y({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sg=_t(_g),wg=y({},rn,{data:0}),Wc=_t(wg),jg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Eg[e])?!!t[e]:!1}function Yl(){return Tg}var Ng=y({},qr,{key:function(e){if(e.key){var t=jg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yl,charCode:function(e){return e.type==="keypress"?ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cg=_t(Ng),Ag=y({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ed=_t(Ag),Og=y({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yl}),Rg=_t(Og),kg=y({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dg=_t(kg),Ug=y({},si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mg=_t(Ug),zg=y({},rn,{newState:0,oldState:0}),Lg=_t(zg),qg=[9,13,27,32],Vl=ia&&"CompositionEvent"in window,Hr=null;ia&&"documentMode"in document&&(Hr=document.documentMode);var Bg=ia&&"TextEvent"in window&&!Hr,td=ia&&(!Vl||Hr&&8<Hr&&11>=Hr),ad=" ",nd=!1;function rd(e,t){switch(e){case"keyup":return qg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function Hg(e,t){switch(e){case"compositionend":return sd(t);case"keypress":return t.which!==32?null:(nd=!0,ad);case"textInput":return e=t.data,e===ad&&nd?null:e;default:return null}}function $g(e,t){if(Bn)return e==="compositionend"||!Vl&&rd(e,t)?(e=Jc(),ti=Hl=Ca=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return td&&t.locale!=="ko"?null:t.data;default:return null}}var Pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function id(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pg[e.type]:t==="textarea"}function ld(e,t,a,r){Ln?qn?qn.push(r):qn=[r]:Ln=r,t=Vi(t,"onChange"),0<t.length&&(a=new ri("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var $r=null,Pr=null;function Gg(e){Ph(e,0)}function ii(e){var t=Mr(e);if(Pc(t))return e}function od(e,t){if(e==="change")return t}var ud=!1;if(ia){var Ql;if(ia){var Kl="oninput"in document;if(!Kl){var cd=document.createElement("div");cd.setAttribute("oninput","return;"),Kl=typeof cd.oninput=="function"}Ql=Kl}else Ql=!1;ud=Ql&&(!document.documentMode||9<document.documentMode)}function dd(){$r&&($r.detachEvent("onpropertychange",fd),Pr=$r=null)}function fd(e){if(e.propertyName==="value"&&ii(Pr)){var t=[];ld(t,Pr,e,Ll(e)),Zc(Gg,t)}}function Yg(e,t,a){e==="focusin"?(dd(),$r=t,Pr=a,$r.attachEvent("onpropertychange",fd)):e==="focusout"&&dd()}function Vg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(Pr)}function Qg(e,t){if(e==="click")return ii(t)}function Kg(e,t){if(e==="input"||e==="change")return ii(t)}function Xg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Xg;function Gr(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var o=a[r];if(!Pt.call(t,o)||!Et(e[o],t[o]))return!1}return!0}function hd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function md(e,t){var a=hd(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hd(a)}}function pd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ws(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ws(e.document)}return t}function Xl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Zg=ia&&"documentMode"in document&&11>=document.documentMode,Hn=null,Zl=null,Yr=null,Jl=!1;function vd(e,t,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jl||Hn==null||Hn!==Ws(r)||(r=Hn,"selectionStart"in r&&Xl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yr&&Gr(Yr,r)||(Yr=r,r=Vi(Zl,"onSelect"),0<r.length&&(t=new ri("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=Hn)))}function sn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var $n={animationend:sn("Animation","AnimationEnd"),animationiteration:sn("Animation","AnimationIteration"),animationstart:sn("Animation","AnimationStart"),transitionrun:sn("Transition","TransitionRun"),transitionstart:sn("Transition","TransitionStart"),transitioncancel:sn("Transition","TransitionCancel"),transitionend:sn("Transition","TransitionEnd")},Il={},yd={};ia&&(yd=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function ln(e){if(Il[e])return Il[e];if(!$n[e])return e;var t=$n[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in yd)return Il[e]=t[a];return e}var bd=ln("animationend"),_d=ln("animationiteration"),Sd=ln("animationstart"),Jg=ln("transitionrun"),Ig=ln("transitionstart"),Fg=ln("transitioncancel"),wd=ln("transitionend"),jd=new Map,Fl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fl.push("scrollEnd");function Gt(e,t){jd.set(e,t),nn(t,[e])}var xd=new WeakMap;function Mt(e,t){if(typeof e=="object"&&e!==null){var a=xd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Hc(t)},xd.set(e,t),t)}return{value:e,source:t,stack:Hc(t)}}var zt=[],Pn=0,Wl=0;function li(){for(var e=Pn,t=Wl=Pn=0;t<e;){var a=zt[t];zt[t++]=null;var r=zt[t];zt[t++]=null;var o=zt[t];zt[t++]=null;var d=zt[t];if(zt[t++]=null,r!==null&&o!==null){var v=r.pending;v===null?o.next=o:(o.next=v.next,v.next=o),r.pending=o}d!==0&&Ed(a,o,d)}}function oi(e,t,a,r){zt[Pn++]=e,zt[Pn++]=t,zt[Pn++]=a,zt[Pn++]=r,Wl|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function eo(e,t,a,r){return oi(e,t,a,r),ui(e)}function Gn(e,t){return oi(e,null,null,t),ui(e)}function Ed(e,t,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var o=!1,d=e.return;d!==null;)d.childLanes|=a,r=d.alternate,r!==null&&(r.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-We(a),e=d.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=a|536870912),d):null}function ui(e){if(50<ps)throw ps=0,lu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Yn={};function Wg(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,a,r){return new Wg(e,t,a,r)}function to(e){return e=e.prototype,!(!e||!e.isReactComponent)}function la(e,t){var a=e.alternate;return a===null?(a=Tt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Td(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ci(e,t,a,r,o,d){var v=0;if(r=e,typeof e=="function")to(e)&&(v=1);else if(typeof e=="string")v=ty(e,a,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Tt(31,a,t,o),e.elementType=ee,e.lanes=d,e;case C:return on(a.children,o,d,t);case z:v=8,o|=24;break;case x:return e=Tt(12,a,t,o|2),e.elementType=x,e.lanes=d,e;case J:return e=Tt(13,a,t,o),e.elementType=J,e.lanes=d,e;case G:return e=Tt(19,a,t,o),e.elementType=G,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:case R:v=10;break e;case A:v=9;break e;case P:v=11;break e;case X:v=14;break e;case W:v=16,r=null;break e}v=29,a=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=Tt(v,a,t,o),t.elementType=e,t.type=r,t.lanes=d,t}function on(e,t,a,r){return e=Tt(7,e,r,t),e.lanes=a,e}function ao(e,t,a){return e=Tt(6,e,null,t),e.lanes=a,e}function no(e,t,a){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vn=[],Qn=0,di=null,fi=0,Lt=[],qt=0,un=null,oa=1,ua="";function cn(e,t){Vn[Qn++]=fi,Vn[Qn++]=di,di=e,fi=t}function Nd(e,t,a){Lt[qt++]=oa,Lt[qt++]=ua,Lt[qt++]=un,un=e;var r=oa;e=ua;var o=32-We(r)-1;r&=~(1<<o),a+=1;var d=32-We(t)+o;if(30<d){var v=o-o%5;d=(r&(1<<v)-1).toString(32),r>>=v,o-=v,oa=1<<32-We(t)+o|a<<o|r,ua=d+e}else oa=1<<d|a<<o|r,ua=e}function ro(e){e.return!==null&&(cn(e,1),Nd(e,1,0))}function so(e){for(;e===di;)di=Vn[--Qn],Vn[Qn]=null,fi=Vn[--Qn],Vn[Qn]=null;for(;e===un;)un=Lt[--qt],Lt[qt]=null,ua=Lt[--qt],Lt[qt]=null,oa=Lt[--qt],Lt[qt]=null}var vt=null,Xe=null,Oe=!1,dn=null,Xt=!1,io=Error(l(519));function fn(e){var t=Error(l(418,""));throw Kr(Mt(t,e)),io}function Cd(e){var t=e.stateNode,a=e.type,r=e.memoizedProps;switch(t[mt]=e,t[bt]=r,a){case"dialog":je("cancel",t),je("close",t);break;case"iframe":case"object":case"embed":je("load",t);break;case"video":case"audio":for(a=0;a<vs.length;a++)je(vs[a],t);break;case"source":je("error",t);break;case"img":case"image":case"link":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"input":je("invalid",t),Gc(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Fs(t);break;case"select":je("invalid",t);break;case"textarea":je("invalid",t),Vc(t,r.value,r.defaultValue,r.children),Fs(t)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||r.suppressHydrationWarning===!0||Qh(t.textContent,a)?(r.popover!=null&&(je("beforetoggle",t),je("toggle",t)),r.onScroll!=null&&je("scroll",t),r.onScrollEnd!=null&&je("scrollend",t),r.onClick!=null&&(t.onclick=Qi),t=!0):t=!1,t||fn(e)}function Ad(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:vt=vt.return}}function Vr(e){if(e!==vt)return!1;if(!Oe)return Ad(e),Oe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ju(e.type,e.memoizedProps)),a=!a),a&&Xe&&fn(e),Ad(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Xe=Vt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Xe=null}}else t===27?(t=Xe,Ya(e.type)?(e=Nu,Nu=null,Xe=e):Xe=t):Xe=vt?Vt(e.stateNode.nextSibling):null;return!0}function Qr(){Xe=vt=null,Oe=!1}function Od(){var e=dn;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),dn=null),e}function Kr(e){dn===null?dn=[e]:dn.push(e)}var lo=K(null),hn=null,ca=null;function Aa(e,t,a){B(lo,t._currentValue),t._currentValue=a}function da(e){e._currentValue=lo.current,M(lo)}function oo(e,t,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function uo(e,t,a,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var v=o.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=o;for(var w=0;w<t.length;w++)if(b.context===t[w]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),oo(d.return,a,e),r||(v=null);break e}d=b.next}}else if(o.tag===18){if(v=o.return,v===null)throw Error(l(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),oo(v,a,e),v=null}else v=o.child;if(v!==null)v.return=o;else for(v=o;v!==null;){if(v===e){v=null;break}if(o=v.sibling,o!==null){o.return=v.return,v=o;break}v=v.return}o=v}}function Xr(e,t,a,r){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var v=o.alternate;if(v===null)throw Error(l(387));if(v=v.memoizedProps,v!==null){var b=o.type;Et(o.pendingProps.value,v.value)||(e!==null?e.push(b):e=[b])}}else if(o===se.current){if(v=o.alternate,v===null)throw Error(l(387));v.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(js):e=[js])}o=o.return}e!==null&&uo(t,e,a,r),t.flags|=262144}function hi(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mn(e){hn=e,ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return Rd(hn,e)}function mi(e,t){return hn===null&&mn(e),Rd(e,t)}function Rd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ca===null){if(e===null)throw Error(l(308));ca=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ca=ca.next=t;return a}var ev=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},tv=i.unstable_scheduleCallback,av=i.unstable_NormalPriority,at={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function co(){return{controller:new ev,data:new Map,refCount:0}}function Zr(e){e.refCount--,e.refCount===0&&tv(av,function(){e.controller.abort()})}var Jr=null,fo=0,Kn=0,Xn=null;function nv(e,t){if(Jr===null){var a=Jr=[];fo=0,Kn=mu(),Xn={status:"pending",value:void 0,then:function(r){a.push(r)}}}return fo++,t.then(kd,kd),t}function kd(){if(--fo===0&&Jr!==null){Xn!==null&&(Xn.status="fulfilled");var e=Jr;Jr=null,Kn=0,Xn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function rv(e,t){var a=[],r={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),r}var Dd=H.S;H.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&nv(e,t),Dd!==null&&Dd(e,t)};var pn=K(null);function ho(){var e=pn.current;return e!==null?e:Pe.pooledCache}function pi(e,t){t===null?B(pn,pn.current):B(pn,t.pool)}function Ud(){var e=ho();return e===null?null:{parent:at._currentValue,pool:e}}var Ir=Error(l(460)),Md=Error(l(474)),gi=Error(l(542)),mo={then:function(){}};function zd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vi(){}function Ld(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(vi,vi),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bd(e),e;default:if(typeof t.status=="string")t.then(vi,vi);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bd(e),e}throw Fr=t,Ir}}var Fr=null;function qd(){if(Fr===null)throw Error(l(459));var e=Fr;return Fr=null,e}function Bd(e){if(e===Ir||e===gi)throw Error(l(483))}var Oa=!1;function po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function go(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ka(e,t,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Re&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=ui(e),Ed(e,null,a),t}return oi(e,r,t,a),ui(e)}function Wr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,kc(e,a)}}function vo(e,t){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var o=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?o=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?o=d=t:d=d.next=t}else o=d=t;a={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var yo=!1;function es(){if(yo){var e=Xn;if(e!==null)throw e}}function ts(e,t,a,r){yo=!1;var o=e.updateQueue;Oa=!1;var d=o.firstBaseUpdate,v=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var w=b,D=w.next;w.next=null,v===null?d=D:v.next=D,v=w;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==v&&(b===null?Y.firstBaseUpdate=D:b.next=D,Y.lastBaseUpdate=w))}if(d!==null){var Q=o.baseState;v=0,Y=D=w=null,b=d;do{var U=b.lane&-536870913,q=U!==b.lane;if(q?(Te&U)===U:(r&U)===U){U!==0&&U===Kn&&(yo=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var pe=e,he=b;U=t;var Le=a;switch(he.tag){case 1:if(pe=he.payload,typeof pe=="function"){Q=pe.call(Le,Q,U);break e}Q=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=he.payload,U=typeof pe=="function"?pe.call(Le,Q,U):pe,U==null)break e;Q=y({},Q,U);break e;case 2:Oa=!0}}U=b.callback,U!==null&&(e.flags|=64,q&&(e.flags|=8192),q=o.callbacks,q===null?o.callbacks=[U]:q.push(U))}else q={lane:U,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(D=Y=q,w=Q):Y=Y.next=q,v|=U;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;q=b,b=q.next,q.next=null,o.lastBaseUpdate=q,o.shared.pending=null}}while(!0);Y===null&&(w=Q),o.baseState=w,o.firstBaseUpdate=D,o.lastBaseUpdate=Y,d===null&&(o.shared.lanes=0),Ha|=v,e.lanes=v,e.memoizedState=Q}}function Hd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function $d(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Hd(a[e],t)}var Zn=K(null),yi=K(0);function Pd(e,t){e=ya,B(yi,e),B(Zn,t),ya=e|t.baseLanes}function bo(){B(yi,ya),B(Zn,Zn.current)}function _o(){ya=yi.current,M(Zn),M(yi)}var Da=0,be=null,Me=null,et=null,bi=!1,Jn=!1,gn=!1,_i=0,as=0,In=null,sv=0;function Ie(){throw Error(l(321))}function So(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Et(e[a],t[a]))return!1;return!0}function wo(e,t,a,r,o,d){return Da=d,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?Tf:Nf,gn=!1,d=a(r,o),gn=!1,Jn&&(d=Yd(t,a,r,o)),Gd(e),d}function Gd(e){H.H=Ti;var t=Me!==null&&Me.next!==null;if(Da=0,et=Me=be=null,bi=!1,as=0,In=null,t)throw Error(l(300));e===null||lt||(e=e.dependencies,e!==null&&hi(e)&&(lt=!0))}function Yd(e,t,a,r){be=e;var o=0;do{if(Jn&&(In=null),as=0,Jn=!1,25<=o)throw Error(l(301));if(o+=1,et=Me=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=fv,d=t(a,r)}while(Jn);return d}function iv(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?ns(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(be.flags|=1024),t}function jo(){var e=_i!==0;return _i=0,e}function xo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Eo(e){if(bi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bi=!1}Da=0,et=Me=be=null,Jn=!1,as=_i=0,In=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?be.memoizedState=et=e:et=et.next=e,et}function tt(){if(Me===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=et===null?be.memoizedState:et.next;if(t!==null)et=t,Me=e;else{if(e===null)throw be.alternate===null?Error(l(467)):Error(l(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},et===null?be.memoizedState=et=e:et=et.next=e}return et}function To(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ns(e){var t=as;return as+=1,In===null&&(In=[]),e=Ld(In,e,t),t=be,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?Tf:Nf),e}function Si(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ns(e);if(e.$$typeof===R)return pt(e)}throw Error(l(438,String(e)))}function No(e){var t=null,a=be.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var r=be.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=To(),be.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),r=0;r<e;r++)a[r]=ue;return t.index++,a}function fa(e,t){return typeof t=="function"?t(e):t}function wi(e){var t=tt();return Co(t,Me,e)}function Co(e,t,a){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var o=e.baseQueue,d=r.pending;if(d!==null){if(o!==null){var v=o.next;o.next=d.next,d.next=v}t.baseQueue=o=d,r.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var b=v=null,w=null,D=t,Y=!1;do{var Q=D.lane&-536870913;if(Q!==D.lane?(Te&Q)===Q:(Da&Q)===Q){var U=D.revertLane;if(U===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),Q===Kn&&(Y=!0);else if((Da&U)===U){D=D.next,U===Kn&&(Y=!0);continue}else Q={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},w===null?(b=w=Q,v=d):w=w.next=Q,be.lanes|=U,Ha|=U;Q=D.action,gn&&a(d,Q),d=D.hasEagerState?D.eagerState:a(d,Q)}else U={lane:Q,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},w===null?(b=w=U,v=d):w=w.next=U,be.lanes|=Q,Ha|=Q;D=D.next}while(D!==null&&D!==t);if(w===null?v=d:w.next=b,!Et(d,e.memoizedState)&&(lt=!0,Y&&(a=Xn,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=w,r.lastRenderedState=d}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ao(e){var t=tt(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var r=a.dispatch,o=a.pending,d=t.memoizedState;if(o!==null){a.pending=null;var v=o=o.next;do d=e(d,v.action),v=v.next;while(v!==o);Et(d,t.memoizedState)||(lt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,r]}function Vd(e,t,a){var r=be,o=tt(),d=Oe;if(d){if(a===void 0)throw Error(l(407));a=a()}else a=t();var v=!Et((Me||o).memoizedState,a);v&&(o.memoizedState=a,lt=!0),o=o.queue;var b=Xd.bind(null,r,o,e);if(rs(2048,8,b,[e]),o.getSnapshot!==t||v||et!==null&&et.memoizedState.tag&1){if(r.flags|=2048,Fn(9,ji(),Kd.bind(null,r,o,a,t),null),Pe===null)throw Error(l(349));d||(Da&124)!==0||Qd(r,t,a)}return a}function Qd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=be.updateQueue,t===null?(t=To(),be.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Kd(e,t,a,r){t.value=a,t.getSnapshot=r,Zd(t)&&Jd(e)}function Xd(e,t,a){return a(function(){Zd(t)&&Jd(e)})}function Zd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Et(e,a)}catch{return!0}}function Jd(e){var t=Gn(e,2);t!==null&&Rt(t,e,2)}function Oo(e){var t=St();if(typeof e=="function"){var a=e;if(e=a(),gn){xt(!0);try{a()}finally{xt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t}function Id(e,t,a,r){return e.baseState=a,Co(e,Me,typeof r=="function"?r:fa)}function lv(e,t,a,r,o){if(Ei(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};H.T!==null?a(!0):d.isTransition=!1,r(d),a=t.pending,a===null?(d.next=t.pending=d,Fd(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Fd(e,t){var a=t.action,r=t.payload,o=e.state;if(t.isTransition){var d=H.T,v={};H.T=v;try{var b=a(o,r),w=H.S;w!==null&&w(v,b),Wd(e,t,b)}catch(D){Ro(e,t,D)}finally{H.T=d}}else try{d=a(o,r),Wd(e,t,d)}catch(D){Ro(e,t,D)}}function Wd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){ef(e,t,r)},function(r){return Ro(e,t,r)}):ef(e,t,a)}function ef(e,t,a){t.status="fulfilled",t.value=a,tf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Fd(e,a)))}function Ro(e,t,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=a,tf(t),t=t.next;while(t!==r)}e.action=null}function tf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function af(e,t){return t}function nf(e,t){if(Oe){var a=Pe.formState;if(a!==null){e:{var r=be;if(Oe){if(Xe){t:{for(var o=Xe,d=Xt;o.nodeType!==8;){if(!d){o=null;break t}if(o=Vt(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Xe=Vt(o.nextSibling),r=o.data==="F!";break e}}fn(r)}r=!1}r&&(t=a[0])}}return a=St(),a.memoizedState=a.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:t},a.queue=r,a=jf.bind(null,be,r),r.dispatch=a,r=Oo(!1),d=zo.bind(null,be,!1,r.queue),r=St(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,a=lv.bind(null,be,o,d,a),o.dispatch=a,r.memoizedState=e,[t,a,!1]}function rf(e){var t=tt();return sf(t,Me,e)}function sf(e,t,a){if(t=Co(e,t,af)[0],e=wi(fa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ns(t)}catch(v){throw v===Ir?gi:v}else r=t;t=tt();var o=t.queue,d=o.dispatch;return a!==t.memoizedState&&(be.flags|=2048,Fn(9,ji(),ov.bind(null,o,a),null)),[r,d,e]}function ov(e,t){e.action=t}function lf(e){var t=tt(),a=Me;if(a!==null)return sf(t,a,e);tt(),t=t.memoizedState,a=tt();var r=a.queue.dispatch;return a.memoizedState=e,[t,r,!1]}function Fn(e,t,a,r){return e={tag:e,create:a,deps:r,inst:t,next:null},t=be.updateQueue,t===null&&(t=To(),be.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function ji(){return{destroy:void 0,resource:void 0}}function of(){return tt().memoizedState}function xi(e,t,a,r){var o=St();r=r===void 0?null:r,be.flags|=e,o.memoizedState=Fn(1|t,ji(),a,r)}function rs(e,t,a,r){var o=tt();r=r===void 0?null:r;var d=o.memoizedState.inst;Me!==null&&r!==null&&So(r,Me.memoizedState.deps)?o.memoizedState=Fn(t,d,a,r):(be.flags|=e,o.memoizedState=Fn(1|t,d,a,r))}function uf(e,t){xi(8390656,8,e,t)}function cf(e,t){rs(2048,8,e,t)}function df(e,t){return rs(4,2,e,t)}function ff(e,t){return rs(4,4,e,t)}function hf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mf(e,t,a){a=a!=null?a.concat([e]):null,rs(4,4,hf.bind(null,t,e),a)}function ko(){}function pf(e,t){var a=tt();t=t===void 0?null:t;var r=a.memoizedState;return t!==null&&So(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function gf(e,t){var a=tt();t=t===void 0?null:t;var r=a.memoizedState;if(t!==null&&So(t,r[1]))return r[0];if(r=e(),gn){xt(!0);try{e()}finally{xt(!1)}}return a.memoizedState=[r,t],r}function Do(e,t,a){return a===void 0||(Da&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=bh(),be.lanes|=e,Ha|=e,a)}function vf(e,t,a,r){return Et(a,t)?a:Zn.current!==null?(e=Do(e,a,r),Et(e,t)||(lt=!0),e):(Da&42)===0?(lt=!0,e.memoizedState=a):(e=bh(),be.lanes|=e,Ha|=e,t)}function yf(e,t,a,r,o){var d=te.p;te.p=d!==0&&8>d?d:8;var v=H.T,b={};H.T=b,zo(e,!1,t,a);try{var w=o(),D=H.S;if(D!==null&&D(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Y=rv(w,r);ss(e,t,Y,Ot(e))}else ss(e,t,r,Ot(e))}catch(Q){ss(e,t,{then:function(){},status:"rejected",reason:Q},Ot())}finally{te.p=d,H.T=v}}function uv(){}function Uo(e,t,a,r){if(e.tag!==5)throw Error(l(476));var o=bf(e).queue;yf(e,o,t,ie,a===null?uv:function(){return _f(e),a(r)})}function bf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:ie},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _f(e){var t=bf(e).next.queue;ss(e,t,{},Ot())}function Mo(){return pt(js)}function Sf(){return tt().memoizedState}function wf(){return tt().memoizedState}function cv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ot();e=Ra(a);var r=ka(t,e,a);r!==null&&(Rt(r,t,a),Wr(r,t,a)),t={cache:co()},e.payload=t;return}t=t.return}}function dv(e,t,a){var r=Ot();a={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ei(e)?xf(t,a):(a=eo(e,t,a,r),a!==null&&(Rt(a,e,r),Ef(a,t,r)))}function jf(e,t,a){var r=Ot();ss(e,t,a,r)}function ss(e,t,a,r){var o={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ei(e))xf(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var v=t.lastRenderedState,b=d(v,a);if(o.hasEagerState=!0,o.eagerState=b,Et(b,v))return oi(e,t,o,0),Pe===null&&li(),!1}catch{}finally{}if(a=eo(e,t,o,r),a!==null)return Rt(a,e,r),Ef(a,t,r),!0}return!1}function zo(e,t,a,r){if(r={lane:2,revertLane:mu(),action:r,hasEagerState:!1,eagerState:null,next:null},Ei(e)){if(t)throw Error(l(479))}else t=eo(e,a,r,2),t!==null&&Rt(t,e,2)}function Ei(e){var t=e.alternate;return e===be||t!==null&&t===be}function xf(e,t){Jn=bi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ef(e,t,a){if((a&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,kc(e,a)}}var Ti={readContext:pt,use:Si,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie},Tf={readContext:pt,use:Si,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:uf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,xi(4194308,4,hf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return xi(4194308,4,e,t)},useInsertionEffect:function(e,t){xi(4,2,e,t)},useMemo:function(e,t){var a=St();t=t===void 0?null:t;var r=e();if(gn){xt(!0);try{e()}finally{xt(!1)}}return a.memoizedState=[r,t],r},useReducer:function(e,t,a){var r=St();if(a!==void 0){var o=a(t);if(gn){xt(!0);try{a(t)}finally{xt(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=dv.bind(null,be,e),[r.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:function(e){e=Oo(e);var t=e.queue,a=jf.bind(null,be,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ko,useDeferredValue:function(e,t){var a=St();return Do(a,e,t)},useTransition:function(){var e=Oo(!1);return e=yf.bind(null,be,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var r=be,o=St();if(Oe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Pe===null)throw Error(l(349));(Te&124)!==0||Qd(r,t,a)}o.memoizedState=a;var d={value:a,getSnapshot:t};return o.queue=d,uf(Xd.bind(null,r,d,e),[e]),r.flags|=2048,Fn(9,ji(),Kd.bind(null,r,d,a,t),null),a},useId:function(){var e=St(),t=Pe.identifierPrefix;if(Oe){var a=ua,r=oa;a=(r&~(1<<32-We(r)-1)).toString(32)+a,t=""+t+"R"+a,a=_i++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=sv++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Mo,useFormState:nf,useActionState:nf,useOptimistic:function(e){var t=St();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=zo.bind(null,be,!0,a),a.dispatch=t,[e,t]},useMemoCache:No,useCacheRefresh:function(){return St().memoizedState=cv.bind(null,be)}},Nf={readContext:pt,use:Si,useCallback:pf,useContext:pt,useEffect:cf,useImperativeHandle:mf,useInsertionEffect:df,useLayoutEffect:ff,useMemo:gf,useReducer:wi,useRef:of,useState:function(){return wi(fa)},useDebugValue:ko,useDeferredValue:function(e,t){var a=tt();return vf(a,Me.memoizedState,e,t)},useTransition:function(){var e=wi(fa)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:ns(e),t]},useSyncExternalStore:Vd,useId:Sf,useHostTransitionStatus:Mo,useFormState:rf,useActionState:rf,useOptimistic:function(e,t){var a=tt();return Id(a,Me,e,t)},useMemoCache:No,useCacheRefresh:wf},fv={readContext:pt,use:Si,useCallback:pf,useContext:pt,useEffect:cf,useImperativeHandle:mf,useInsertionEffect:df,useLayoutEffect:ff,useMemo:gf,useReducer:Ao,useRef:of,useState:function(){return Ao(fa)},useDebugValue:ko,useDeferredValue:function(e,t){var a=tt();return Me===null?Do(a,e,t):vf(a,Me.memoizedState,e,t)},useTransition:function(){var e=Ao(fa)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:ns(e),t]},useSyncExternalStore:Vd,useId:Sf,useHostTransitionStatus:Mo,useFormState:lf,useActionState:lf,useOptimistic:function(e,t){var a=tt();return Me!==null?Id(a,Me,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:No,useCacheRefresh:wf},Wn=null,is=0;function Ni(e){var t=is;return is+=1,Wn===null&&(Wn=[]),Ld(Wn,e,t)}function ls(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ci(e,t){throw t.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Cf(e){var t=e._init;return t(e._payload)}function Af(e){function t(O,T){if(e){var k=O.deletions;k===null?(O.deletions=[T],O.flags|=16):k.push(T)}}function a(O,T){if(!e)return null;for(;T!==null;)t(O,T),T=T.sibling;return null}function r(O){for(var T=new Map;O!==null;)O.key!==null?T.set(O.key,O):T.set(O.index,O),O=O.sibling;return T}function o(O,T){return O=la(O,T),O.index=0,O.sibling=null,O}function d(O,T,k){return O.index=k,e?(k=O.alternate,k!==null?(k=k.index,k<T?(O.flags|=67108866,T):k):(O.flags|=67108866,T)):(O.flags|=1048576,T)}function v(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function b(O,T,k,V){return T===null||T.tag!==6?(T=ao(k,O.mode,V),T.return=O,T):(T=o(T,k),T.return=O,T)}function w(O,T,k,V){var le=k.type;return le===C?Y(O,T,k.props.children,V,k.key):T!==null&&(T.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===W&&Cf(le)===T.type)?(T=o(T,k.props),ls(T,k),T.return=O,T):(T=ci(k.type,k.key,k.props,null,O.mode,V),ls(T,k),T.return=O,T)}function D(O,T,k,V){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=no(k,O.mode,V),T.return=O,T):(T=o(T,k.children||[]),T.return=O,T)}function Y(O,T,k,V,le){return T===null||T.tag!==7?(T=on(k,O.mode,V,le),T.return=O,T):(T=o(T,k),T.return=O,T)}function Q(O,T,k){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=ao(""+T,O.mode,k),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case j:return k=ci(T.type,T.key,T.props,null,O.mode,k),ls(k,T),k.return=O,k;case N:return T=no(T,O.mode,k),T.return=O,T;case W:var V=T._init;return T=V(T._payload),Q(O,T,k)}if(ge(T)||ne(T))return T=on(T,O.mode,k,null),T.return=O,T;if(typeof T.then=="function")return Q(O,Ni(T),k);if(T.$$typeof===R)return Q(O,mi(O,T),k);Ci(O,T)}return null}function U(O,T,k,V){var le=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return le!==null?null:b(O,T,""+k,V);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case j:return k.key===le?w(O,T,k,V):null;case N:return k.key===le?D(O,T,k,V):null;case W:return le=k._init,k=le(k._payload),U(O,T,k,V)}if(ge(k)||ne(k))return le!==null?null:Y(O,T,k,V,null);if(typeof k.then=="function")return U(O,T,Ni(k),V);if(k.$$typeof===R)return U(O,T,mi(O,k),V);Ci(O,k)}return null}function q(O,T,k,V,le){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return O=O.get(k)||null,b(T,O,""+V,le);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return O=O.get(V.key===null?k:V.key)||null,w(T,O,V,le);case N:return O=O.get(V.key===null?k:V.key)||null,D(T,O,V,le);case W:var Se=V._init;return V=Se(V._payload),q(O,T,k,V,le)}if(ge(V)||ne(V))return O=O.get(k)||null,Y(T,O,V,le,null);if(typeof V.then=="function")return q(O,T,k,Ni(V),le);if(V.$$typeof===R)return q(O,T,k,mi(T,V),le);Ci(T,V)}return null}function pe(O,T,k,V){for(var le=null,Se=null,de=T,me=T=0,ut=null;de!==null&&me<k.length;me++){de.index>me?(ut=de,de=null):ut=de.sibling;var Ae=U(O,de,k[me],V);if(Ae===null){de===null&&(de=ut);break}e&&de&&Ae.alternate===null&&t(O,de),T=d(Ae,T,me),Se===null?le=Ae:Se.sibling=Ae,Se=Ae,de=ut}if(me===k.length)return a(O,de),Oe&&cn(O,me),le;if(de===null){for(;me<k.length;me++)de=Q(O,k[me],V),de!==null&&(T=d(de,T,me),Se===null?le=de:Se.sibling=de,Se=de);return Oe&&cn(O,me),le}for(de=r(de);me<k.length;me++)ut=q(de,O,me,k[me],V),ut!==null&&(e&&ut.alternate!==null&&de.delete(ut.key===null?me:ut.key),T=d(ut,T,me),Se===null?le=ut:Se.sibling=ut,Se=ut);return e&&de.forEach(function(Za){return t(O,Za)}),Oe&&cn(O,me),le}function he(O,T,k,V){if(k==null)throw Error(l(151));for(var le=null,Se=null,de=T,me=T=0,ut=null,Ae=k.next();de!==null&&!Ae.done;me++,Ae=k.next()){de.index>me?(ut=de,de=null):ut=de.sibling;var Za=U(O,de,Ae.value,V);if(Za===null){de===null&&(de=ut);break}e&&de&&Za.alternate===null&&t(O,de),T=d(Za,T,me),Se===null?le=Za:Se.sibling=Za,Se=Za,de=ut}if(Ae.done)return a(O,de),Oe&&cn(O,me),le;if(de===null){for(;!Ae.done;me++,Ae=k.next())Ae=Q(O,Ae.value,V),Ae!==null&&(T=d(Ae,T,me),Se===null?le=Ae:Se.sibling=Ae,Se=Ae);return Oe&&cn(O,me),le}for(de=r(de);!Ae.done;me++,Ae=k.next())Ae=q(de,O,me,Ae.value,V),Ae!==null&&(e&&Ae.alternate!==null&&de.delete(Ae.key===null?me:Ae.key),T=d(Ae,T,me),Se===null?le=Ae:Se.sibling=Ae,Se=Ae);return e&&de.forEach(function(hy){return t(O,hy)}),Oe&&cn(O,me),le}function Le(O,T,k,V){if(typeof k=="object"&&k!==null&&k.type===C&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case j:e:{for(var le=k.key;T!==null;){if(T.key===le){if(le=k.type,le===C){if(T.tag===7){a(O,T.sibling),V=o(T,k.props.children),V.return=O,O=V;break e}}else if(T.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===W&&Cf(le)===T.type){a(O,T.sibling),V=o(T,k.props),ls(V,k),V.return=O,O=V;break e}a(O,T);break}else t(O,T);T=T.sibling}k.type===C?(V=on(k.props.children,O.mode,V,k.key),V.return=O,O=V):(V=ci(k.type,k.key,k.props,null,O.mode,V),ls(V,k),V.return=O,O=V)}return v(O);case N:e:{for(le=k.key;T!==null;){if(T.key===le)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){a(O,T.sibling),V=o(T,k.children||[]),V.return=O,O=V;break e}else{a(O,T);break}else t(O,T);T=T.sibling}V=no(k,O.mode,V),V.return=O,O=V}return v(O);case W:return le=k._init,k=le(k._payload),Le(O,T,k,V)}if(ge(k))return pe(O,T,k,V);if(ne(k)){if(le=ne(k),typeof le!="function")throw Error(l(150));return k=le.call(k),he(O,T,k,V)}if(typeof k.then=="function")return Le(O,T,Ni(k),V);if(k.$$typeof===R)return Le(O,T,mi(O,k),V);Ci(O,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,T!==null&&T.tag===6?(a(O,T.sibling),V=o(T,k),V.return=O,O=V):(a(O,T),V=ao(k,O.mode,V),V.return=O,O=V),v(O)):a(O,T)}return function(O,T,k,V){try{is=0;var le=Le(O,T,k,V);return Wn=null,le}catch(de){if(de===Ir||de===gi)throw de;var Se=Tt(29,de,null,O.mode);return Se.lanes=V,Se.return=O,Se}finally{}}}var er=Af(!0),Of=Af(!1),Bt=K(null),Zt=null;function Ua(e){var t=e.alternate;B(nt,nt.current&1),B(Bt,e),Zt===null&&(t===null||Zn.current!==null||t.memoizedState!==null)&&(Zt=e)}function Rf(e){if(e.tag===22){if(B(nt,nt.current),B(Bt,e),Zt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Zt=e)}}else Ma()}function Ma(){B(nt,nt.current),B(Bt,Bt.current)}function ha(e){M(Bt),Zt===e&&(Zt=null),M(nt)}var nt=K(0);function Ai(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Tu(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Lo(e,t,a,r){t=e.memoizedState,a=a(r,t),a=a==null?t:y({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var qo={enqueueSetState:function(e,t,a){e=e._reactInternals;var r=Ot(),o=Ra(r);o.payload=t,a!=null&&(o.callback=a),t=ka(e,o,r),t!==null&&(Rt(t,e,r),Wr(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=Ot(),o=Ra(r);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=ka(e,o,r),t!==null&&(Rt(t,e,r),Wr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ot(),r=Ra(a);r.tag=2,t!=null&&(r.callback=t),t=ka(e,r,a),t!==null&&(Rt(t,e,a),Wr(t,e,a))}};function kf(e,t,a,r,o,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,d,v):t.prototype&&t.prototype.isPureReactComponent?!Gr(a,r)||!Gr(o,d):!0}function Df(e,t,a,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function vn(e,t){var a=t;if("ref"in t){a={};for(var r in t)r!=="ref"&&(a[r]=t[r])}if(e=e.defaultProps){a===t&&(a=y({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}var Oi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Uf(e){Oi(e)}function Mf(e){console.error(e)}function zf(e){Oi(e)}function Ri(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Lf(e,t,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Bo(e,t,a){return a=Ra(a),a.tag=3,a.payload={element:null},a.callback=function(){Ri(e,t)},a}function qf(e){return e=Ra(e),e.tag=3,e}function Bf(e,t,a,r){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=r.value;e.payload=function(){return o(d)},e.callback=function(){Lf(t,a,r)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Lf(t,a,r),typeof o!="function"&&($a===null?$a=new Set([this]):$a.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})})}function hv(e,t,a,r,o){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=a.alternate,t!==null&&Xr(t,a,o,!0),a=Bt.current,a!==null){switch(a.tag){case 13:return Zt===null?uu():a.alternate===null&&Ze===0&&(Ze=3),a.flags&=-257,a.flags|=65536,a.lanes=o,r===mo?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([r]):t.add(r),du(e,r,o)),!1;case 22:return a.flags|=65536,r===mo?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([r]):a.add(r)),du(e,r,o)),!1}throw Error(l(435,a.tag))}return du(e,r,o),uu(),!1}if(Oe)return t=Bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==io&&(e=Error(l(422),{cause:r}),Kr(Mt(e,a)))):(r!==io&&(t=Error(l(423),{cause:r}),Kr(Mt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Mt(r,a),o=Bo(e.stateNode,r,o),vo(e,o),Ze!==4&&(Ze=2)),!1;var d=Error(l(520),{cause:r});if(d=Mt(d,a),ms===null?ms=[d]:ms.push(d),Ze!==4&&(Ze=2),t===null)return!0;r=Mt(r,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Bo(a.stateNode,r,e),vo(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($a===null||!$a.has(d))))return a.flags|=65536,o&=-o,a.lanes|=o,o=qf(o),Bf(o,e,a,r),vo(a,o),!1}a=a.return}while(a!==null);return!1}var Hf=Error(l(461)),lt=!1;function dt(e,t,a,r){t.child=e===null?Of(t,null,a,r):er(t,e.child,a,r)}function $f(e,t,a,r,o){a=a.render;var d=t.ref;if("ref"in r){var v={};for(var b in r)b!=="ref"&&(v[b]=r[b])}else v=r;return mn(t),r=wo(e,t,a,v,d,o),b=jo(),e!==null&&!lt?(xo(e,t,o),ma(e,t,o)):(Oe&&b&&ro(t),t.flags|=1,dt(e,t,r,o),t.child)}function Pf(e,t,a,r,o){if(e===null){var d=a.type;return typeof d=="function"&&!to(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,Gf(e,t,d,r,o)):(e=ci(a.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Ko(e,o)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Gr,a(v,r)&&e.ref===t.ref)return ma(e,t,o)}return t.flags|=1,e=la(d,r),e.ref=t.ref,e.return=t,t.child=e}function Gf(e,t,a,r,o){if(e!==null){var d=e.memoizedProps;if(Gr(d,r)&&e.ref===t.ref)if(lt=!1,t.pendingProps=r=d,Ko(e,o))(e.flags&131072)!==0&&(lt=!0);else return t.lanes=e.lanes,ma(e,t,o)}return Ho(e,t,a,r,o)}function Yf(e,t,a){var r=t.pendingProps,o=r.children,d=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((t.flags&128)!==0){if(r=d!==null?d.baseLanes|a:a,e!==null){for(o=t.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;t.childLanes=d&~r}else t.childLanes=0,t.child=null;return Vf(e,t,r,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&pi(t,d!==null?d.cachePool:null),d!==null?Pd(t,d):bo(),Rf(t);else return t.lanes=t.childLanes=536870912,Vf(e,t,d!==null?d.baseLanes|a:a,a)}else d!==null?(pi(t,d.cachePool),Pd(t,d),Ma(),t.memoizedState=null):(e!==null&&pi(t,null),bo(),Ma());return dt(e,t,o,a),t.child}function Vf(e,t,a,r){var o=ho();return o=o===null?null:{parent:at._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&pi(t,null),bo(),Rf(t),e!==null&&Xr(e,t,r,!0),null}function ki(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ho(e,t,a,r,o){return mn(t),a=wo(e,t,a,r,void 0,o),r=jo(),e!==null&&!lt?(xo(e,t,o),ma(e,t,o)):(Oe&&r&&ro(t),t.flags|=1,dt(e,t,a,o),t.child)}function Qf(e,t,a,r,o,d){return mn(t),t.updateQueue=null,a=Yd(t,r,a,o),Gd(e),r=jo(),e!==null&&!lt?(xo(e,t,d),ma(e,t,d)):(Oe&&r&&ro(t),t.flags|=1,dt(e,t,a,d),t.child)}function Kf(e,t,a,r,o){if(mn(t),t.stateNode===null){var d=Yn,v=a.contextType;typeof v=="object"&&v!==null&&(d=pt(v)),d=new a(r,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=r,d.state=t.memoizedState,d.refs={},po(t),v=a.contextType,d.context=typeof v=="object"&&v!==null?pt(v):Yn,d.state=t.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Lo(t,a,v,r),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&qo.enqueueReplaceState(d,d.state,null),ts(t,r,d,o),es(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,w=vn(a,b);d.props=w;var D=d.context,Y=a.contextType;v=Yn,typeof Y=="object"&&Y!==null&&(v=pt(Y));var Q=a.getDerivedStateFromProps;Y=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||D!==v)&&Df(t,d,r,v),Oa=!1;var U=t.memoizedState;d.state=U,ts(t,r,d,o),es(),D=t.memoizedState,b||U!==D||Oa?(typeof Q=="function"&&(Lo(t,a,Q,r),D=t.memoizedState),(w=Oa||kf(t,a,w,r,U,D,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=D),d.props=r,d.state=D,d.context=v,r=w):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,go(e,t),v=t.memoizedProps,Y=vn(a,v),d.props=Y,Q=t.pendingProps,U=d.context,D=a.contextType,w=Yn,typeof D=="object"&&D!==null&&(w=pt(D)),b=a.getDerivedStateFromProps,(D=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Q||U!==w)&&Df(t,d,r,w),Oa=!1,U=t.memoizedState,d.state=U,ts(t,r,d,o),es();var q=t.memoizedState;v!==Q||U!==q||Oa||e!==null&&e.dependencies!==null&&hi(e.dependencies)?(typeof b=="function"&&(Lo(t,a,b,r),q=t.memoizedState),(Y=Oa||kf(t,a,Y,r,U,q,w)||e!==null&&e.dependencies!==null&&hi(e.dependencies))?(D||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,q,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,q,w)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=q),d.props=r,d.state=q,d.context=w,r=Y):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),r=!1)}return d=r,ki(e,t),r=(t.flags&128)!==0,d||r?(d=t.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&r?(t.child=er(t,e.child,null,o),t.child=er(t,null,a,o)):dt(e,t,a,o),t.memoizedState=d.state,e=t.child):e=ma(e,t,o),e}function Xf(e,t,a,r){return Qr(),t.flags|=256,dt(e,t,a,r),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Po(e){return{baseLanes:e,cachePool:Ud()}}function Go(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ht),e}function Zf(e,t,a){var r=t.pendingProps,o=!1,d=(t.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(nt.current&2)!==0),v&&(o=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(o?Ua(t):Ma(),Oe){var b=Xe,w;if(w=b){e:{for(w=b,b=Xt;w.nodeType!==8;){if(!b){b=null;break e}if(w=Vt(w.nextSibling),w===null){b=null;break e}}b=w}b!==null?(t.memoizedState={dehydrated:b,treeContext:un!==null?{id:oa,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},w=Tt(18,null,null,0),w.stateNode=b,w.return=t,t.child=w,vt=t,Xe=null,w=!0):w=!1}w||fn(t)}if(b=t.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Tu(b)?t.lanes=32:t.lanes=536870912,null;ha(t)}return b=r.children,r=r.fallback,o?(Ma(),o=t.mode,b=Di({mode:"hidden",children:b},o),r=on(r,o,a,null),b.return=t,r.return=t,b.sibling=r,t.child=b,o=t.child,o.memoizedState=Po(a),o.childLanes=Go(e,v,a),t.memoizedState=$o,r):(Ua(t),Yo(t,b))}if(w=e.memoizedState,w!==null&&(b=w.dehydrated,b!==null)){if(d)t.flags&256?(Ua(t),t.flags&=-257,t=Vo(e,t,a)):t.memoizedState!==null?(Ma(),t.child=e.child,t.flags|=128,t=null):(Ma(),o=r.fallback,b=t.mode,r=Di({mode:"visible",children:r.children},b),o=on(o,b,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,er(t,e.child,null,a),r=t.child,r.memoizedState=Po(a),r.childLanes=Go(e,v,a),t.memoizedState=$o,t=o);else if(Ua(t),Tu(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var D=v.dgst;v=D,r=Error(l(419)),r.stack="",r.digest=v,Kr({value:r,source:null,stack:null}),t=Vo(e,t,a)}else if(lt||Xr(e,t,a,!1),v=(a&e.childLanes)!==0,lt||v){if(v=Pe,v!==null&&(r=a&-a,r=(r&42)!==0?1:Tl(r),r=(r&(v.suspendedLanes|a))!==0?0:r,r!==0&&r!==w.retryLane))throw w.retryLane=r,Gn(e,r),Rt(v,e,r),Hf;b.data==="$?"||uu(),t=Vo(e,t,a)}else b.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Xe=Vt(b.nextSibling),vt=t,Oe=!0,dn=null,Xt=!1,e!==null&&(Lt[qt++]=oa,Lt[qt++]=ua,Lt[qt++]=un,oa=e.id,ua=e.overflow,un=t),t=Yo(t,r.children),t.flags|=4096);return t}return o?(Ma(),o=r.fallback,b=t.mode,w=e.child,D=w.sibling,r=la(w,{mode:"hidden",children:r.children}),r.subtreeFlags=w.subtreeFlags&65011712,D!==null?o=la(D,o):(o=on(o,b,a,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,b=e.child.memoizedState,b===null?b=Po(a):(w=b.cachePool,w!==null?(D=at._currentValue,w=w.parent!==D?{parent:D,pool:D}:w):w=Ud(),b={baseLanes:b.baseLanes|a,cachePool:w}),o.memoizedState=b,o.childLanes=Go(e,v,a),t.memoizedState=$o,r):(Ua(t),a=e.child,e=a.sibling,a=la(a,{mode:"visible",children:r.children}),a.return=t,a.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=a,t.memoizedState=null,a)}function Yo(e,t){return t=Di({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Di(e,t){return e=Tt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vo(e,t,a){return er(t,e.child,null,a),e=Yo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jf(e,t,a){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),oo(e.return,t,a)}function Qo(e,t,a,r,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=a,d.tailMode=o)}function If(e,t,a){var r=t.pendingProps,o=r.revealOrder,d=r.tail;if(dt(e,t,r.children,a),r=nt.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jf(e,a,t);else if(e.tag===19)Jf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(nt,r),o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Ai(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Qo(t,!1,o,a,d);break;case"backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ai(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Qo(t,!0,a,null,d);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ma(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ha|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Xr(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=la(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=la(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ko(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&hi(e)))}function mv(e,t,a){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),Aa(t,at,e.memoizedState.cache),Qr();break;case 27:case 5:Be(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:Aa(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ua(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Zf(e,t,a):(Ua(t),e=ma(e,t,a),e!==null?e.sibling:null);Ua(t);break;case 19:var o=(e.flags&128)!==0;if(r=(a&t.childLanes)!==0,r||(Xr(e,t,a,!1),r=(a&t.childLanes)!==0),o){if(r)return If(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),B(nt,nt.current),r)break;return null;case 22:case 23:return t.lanes=0,Yf(e,t,a);case 24:Aa(t,at,e.memoizedState.cache)}return ma(e,t,a)}function Ff(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)lt=!0;else{if(!Ko(e,a)&&(t.flags&128)===0)return lt=!1,mv(e,t,a);lt=(e.flags&131072)!==0}else lt=!1,Oe&&(t.flags&1048576)!==0&&Nd(t,fi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,typeof r=="function")to(r)?(e=vn(r,e),t.tag=1,t=Kf(null,t,r,e,a)):(t.tag=0,t=Ho(null,t,r,e,a));else{if(r!=null){if(o=r.$$typeof,o===P){t.tag=11,t=$f(null,t,r,e,a);break e}else if(o===X){t.tag=14,t=Pf(null,t,r,e,a);break e}}throw t=De(r)||r,Error(l(306,t,""))}}return t;case 0:return Ho(e,t,t.type,t.pendingProps,a);case 1:return r=t.type,o=vn(r,t.pendingProps),Kf(e,t,r,o,a);case 3:e:{if(Z(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var d=t.memoizedState;o=d.element,go(e,t),ts(t,r,null,a);var v=t.memoizedState;if(r=v.cache,Aa(t,at,r),r!==d.cache&&uo(t,[at],a,!0),es(),r=v.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Xf(e,t,r,a);break e}else if(r!==o){o=Mt(Error(l(424)),t),Kr(o),t=Xf(e,t,r,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xe=Vt(e.firstChild),vt=t,Oe=!0,dn=null,Xt=!0,a=Of(t,null,r,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qr(),r===o){t=ma(e,t,a);break e}dt(e,t,r,a)}t=t.child}return t;case 26:return ki(e,t),e===null?(a=am(t.type,null,t.pendingProps,null))?t.memoizedState=a:Oe||(a=t.type,e=t.pendingProps,r=Ki(I.current).createElement(a),r[mt]=t,r[bt]=e,ht(r,a,e),it(r),t.stateNode=r):t.memoizedState=am(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Be(t),e===null&&Oe&&(r=t.stateNode=Wh(t.type,t.pendingProps,I.current),vt=t,Xt=!0,o=Xe,Ya(t.type)?(Nu=o,Xe=Vt(r.firstChild)):Xe=o),dt(e,t,t.pendingProps.children,a),ki(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((o=r=Xe)&&(r=Pv(r,t.type,t.pendingProps,Xt),r!==null?(t.stateNode=r,vt=t,Xe=Vt(r.firstChild),Xt=!1,o=!0):o=!1),o||fn(t)),Be(t),o=t.type,d=t.pendingProps,v=e!==null?e.memoizedProps:null,r=d.children,ju(o,d)?r=null:v!==null&&ju(o,v)&&(t.flags|=32),t.memoizedState!==null&&(o=wo(e,t,iv,null,null,a),js._currentValue=o),ki(e,t),dt(e,t,r,a),t.child;case 6:return e===null&&Oe&&((e=a=Xe)&&(a=Gv(a,t.pendingProps,Xt),a!==null?(t.stateNode=a,vt=t,Xe=null,e=!0):e=!1),e||fn(t)),null;case 13:return Zf(e,t,a);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=er(t,null,r,a):dt(e,t,r,a),t.child;case 11:return $f(e,t,t.type,t.pendingProps,a);case 7:return dt(e,t,t.pendingProps,a),t.child;case 8:return dt(e,t,t.pendingProps.children,a),t.child;case 12:return dt(e,t,t.pendingProps.children,a),t.child;case 10:return r=t.pendingProps,Aa(t,t.type,r.value),dt(e,t,r.children,a),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,mn(t),o=pt(o),r=r(o),t.flags|=1,dt(e,t,r,a),t.child;case 14:return Pf(e,t,t.type,t.pendingProps,a);case 15:return Gf(e,t,t.type,t.pendingProps,a);case 19:return If(e,t,a);case 31:return r=t.pendingProps,a=t.mode,r={mode:r.mode,children:r.children},e===null?(a=Di(r,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=la(e.child,r),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Yf(e,t,a);case 24:return mn(t),r=pt(at),e===null?(o=ho(),o===null&&(o=Pe,d=co(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=a),o=d),t.memoizedState={parent:r,cache:o},po(t),Aa(t,at,o)):((e.lanes&a)!==0&&(go(e,t),ts(t,null,null,a),es()),o=e.memoizedState,d=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Aa(t,at,r)):(r=d.cache,Aa(t,at,r),r!==o.cache&&uo(t,[at],a,!0))),dt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function pa(e){e.flags|=4}function Wf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!lm(t)){if(t=Bt.current,t!==null&&((Te&4194048)===Te?Zt!==null:(Te&62914560)!==Te&&(Te&536870912)===0||t!==Zt))throw Fr=mo,Md;e.flags|=8192}}function Ui(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Oc():536870912,e.lanes|=t,rr|=t)}function os(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function pv(e,t,a){var r=t.pendingProps;switch(so(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return a=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),da(at),qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vr(t)?pa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Od())),Qe(t),null;case 26:return a=t.memoizedState,e===null?(pa(t),a!==null?(Qe(t),Wf(t,a)):(Qe(t),t.flags&=-16777217)):a?a!==e.memoizedState?(pa(t),Qe(t),Wf(t,a)):(Qe(t),t.flags&=-16777217):(e.memoizedProps!==r&&pa(t),Qe(t),t.flags&=-16777217),null;case 27:Ve(t),a=I.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&pa(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Qe(t),null}e=$.current,Vr(t)?Cd(t):(e=Wh(o,r,a),t.stateNode=e,pa(t))}return Qe(t),null;case 5:if(Ve(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&pa(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return Qe(t),null}if(e=$.current,Vr(t))Cd(t);else{switch(o=Ki(I.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?o.createElement(a,{is:r.is}):o.createElement(a)}}e[mt]=t,e[bt]=r;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ht(e,a,r),a){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&pa(t)}}return Qe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&pa(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=I.current,Vr(t)){if(e=t.stateNode,a=t.memoizedProps,r=null,o=vt,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[mt]=t,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Qh(e.nodeValue,a)),e||fn(t)}else e=Ki(e).createTextNode(r),e[mt]=t,t.stateNode=e}return Qe(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Vr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[mt]=t}else Qr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),o=!1}else o=Od(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(ha(t),t):(ha(t),null)}if(ha(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=r!==null,e=e!==null&&e.memoizedState!==null,a){r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool);var d=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==o&&(r.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Ui(t,t.updateQueue),Qe(t),null;case 4:return qe(),e===null&&yu(t.stateNode.containerInfo),Qe(t),null;case 10:return da(t.type),Qe(t),null;case 19:if(M(nt),o=t.memoizedState,o===null)return Qe(t),null;if(r=(t.flags&128)!==0,d=o.rendering,d===null)if(r)os(o,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Ai(e),d!==null){for(t.flags|=128,os(o,!1),e=d.updateQueue,t.updateQueue=e,Ui(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Td(a,e),a=a.sibling;return B(nt,nt.current&1|2),t.child}e=e.sibling}o.tail!==null&&kt()>Li&&(t.flags|=128,r=!0,os(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ai(d),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Ui(t,e),os(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Oe)return Qe(t),null}else 2*kt()-o.renderingStartTime>Li&&a!==536870912&&(t.flags|=128,r=!0,os(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=kt(),t.sibling=null,e=nt.current,B(nt,r?e&1|2:e&1),t):(Qe(t),null);case 22:case 23:return ha(t),_o(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(a&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),a=t.updateQueue,a!==null&&Ui(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==a&&(t.flags|=2048),e!==null&&M(pn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),da(at),Qe(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function gv(e,t){switch(so(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return da(at),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ve(t),null;case 13:if(ha(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(nt),null;case 4:return qe(),null;case 10:return da(t.type),null;case 22:case 23:return ha(t),_o(),e!==null&&M(pn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return da(at),null;case 25:return null;default:return null}}function eh(e,t){switch(so(t),t.tag){case 3:da(at),qe();break;case 26:case 27:case 5:Ve(t);break;case 4:qe();break;case 13:ha(t);break;case 19:M(nt);break;case 10:da(t.type);break;case 22:case 23:ha(t),_o(),e!==null&&M(pn);break;case 24:da(at)}}function us(e,t){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var o=r.next;a=o;do{if((a.tag&e)===e){r=void 0;var d=a.create,v=a.inst;r=d(),v.destroy=r}a=a.next}while(a!==o)}}catch(b){He(t,t.return,b)}}function za(e,t,a){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&e)===e){var v=r.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,o=t;var w=a,D=b;try{D()}catch(Y){He(o,w,Y)}}}r=r.next}while(r!==d)}}catch(Y){He(t,t.return,Y)}}function th(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{$d(t,a)}catch(r){He(e,e.return,r)}}}function ah(e,t,a){a.props=vn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){He(e,t,r)}}function cs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(o){He(e,t,o)}}function Jt(e,t){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(o){He(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){He(e,t,o)}else a.current=null}function nh(e){var t=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(o){He(e,e.return,o)}}function Xo(e,t,a){try{var r=e.stateNode;Lv(r,e.type,a,t),r[bt]=t}catch(o){He(e,e.return,o)}}function rh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ya(e.type)||e.tag===4}function Zo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jo(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Qi));else if(r!==4&&(r===27&&Ya(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Jo(e,t,a),e=e.sibling;e!==null;)Jo(e,t,a),e=e.sibling}function Mi(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(r!==4&&(r===27&&Ya(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Mi(e,t,a),e=e.sibling;e!==null;)Mi(e,t,a),e=e.sibling}function sh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ht(t,r,a),t[mt]=e,t[bt]=a}catch(d){He(e,e.return,d)}}var ga=!1,Fe=!1,Io=!1,ih=typeof WeakSet=="function"?WeakSet:Set,ot=null;function vv(e,t){if(e=e.containerInfo,Su=Wi,e=gd(e),Xl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var o=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,w=-1,D=0,Y=0,Q=e,U=null;t:for(;;){for(var q;Q!==a||o!==0&&Q.nodeType!==3||(b=v+o),Q!==d||r!==0&&Q.nodeType!==3||(w=v+r),Q.nodeType===3&&(v+=Q.nodeValue.length),(q=Q.firstChild)!==null;)U=Q,Q=q;for(;;){if(Q===e)break t;if(U===a&&++D===o&&(b=v),U===d&&++Y===r&&(w=v),(q=Q.nextSibling)!==null)break;Q=U,U=Q.parentNode}Q=q}a=b===-1||w===-1?null:{start:b,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(wu={focusedElem:e,selectionRange:a},Wi=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){switch(t=ot,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,o=d.memoizedProps,d=d.memoizedState,r=a.stateNode;try{var pe=vn(a.type,o,a.elementType===a.type);e=r.getSnapshotBeforeUpdate(pe,d),r.__reactInternalSnapshotBeforeUpdate=e}catch(he){He(a,a.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Eu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Eu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function lh(e,t,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:La(e,a),r&4&&us(5,a);break;case 1:if(La(e,a),r&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(v){He(a,a.return,v)}else{var o=vn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){He(a,a.return,v)}}r&64&&th(a),r&512&&cs(a,a.return);break;case 3:if(La(e,a),r&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{$d(e,t)}catch(v){He(a,a.return,v)}}break;case 27:t===null&&r&4&&sh(a);case 26:case 5:La(e,a),t===null&&r&4&&nh(a),r&512&&cs(a,a.return);break;case 12:La(e,a);break;case 13:La(e,a),r&4&&ch(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Tv.bind(null,a),Yv(e,a))));break;case 22:if(r=a.memoizedState!==null||ga,!r){t=t!==null&&t.memoizedState!==null||Fe,o=ga;var d=Fe;ga=r,(Fe=t)&&!d?qa(e,a,(a.subtreeFlags&8772)!==0):La(e,a),ga=o,Fe=d}break;case 30:break;default:La(e,a)}}function oh(e){var t=e.alternate;t!==null&&(e.alternate=null,oh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Al(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,wt=!1;function va(e,t,a){for(a=a.child;a!==null;)uh(e,t,a),a=a.sibling}function uh(e,t,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Ce,a)}catch{}switch(a.tag){case 26:Fe||Jt(a,t),va(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||Jt(a,t);var r=Ye,o=wt;Ya(a.type)&&(Ye=a.stateNode,wt=!1),va(e,t,a),bs(a.stateNode),Ye=r,wt=o;break;case 5:Fe||Jt(a,t);case 6:if(r=Ye,o=wt,Ye=null,va(e,t,a),Ye=r,wt=o,Ye!==null)if(wt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(d){He(a,t,d)}else try{Ye.removeChild(a.stateNode)}catch(d){He(a,t,d)}break;case 18:Ye!==null&&(wt?(e=Ye,Ih(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ns(e)):Ih(Ye,a.stateNode));break;case 4:r=Ye,o=wt,Ye=a.stateNode.containerInfo,wt=!0,va(e,t,a),Ye=r,wt=o;break;case 0:case 11:case 14:case 15:Fe||za(2,a,t),Fe||za(4,a,t),va(e,t,a);break;case 1:Fe||(Jt(a,t),r=a.stateNode,typeof r.componentWillUnmount=="function"&&ah(a,t,r)),va(e,t,a);break;case 21:va(e,t,a);break;case 22:Fe=(r=Fe)||a.memoizedState!==null,va(e,t,a),Fe=r;break;default:va(e,t,a)}}function ch(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ns(e)}catch(a){He(t,t.return,a)}}function yv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ih),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ih),t;default:throw Error(l(435,e.tag))}}function Fo(e,t){var a=yv(e);t.forEach(function(r){var o=Nv.bind(null,e,r);a.has(r)||(a.add(r),r.then(o,o))})}function Nt(e,t){var a=t.deletions;if(a!==null)for(var r=0;r<a.length;r++){var o=a[r],d=e,v=t,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Ya(b.type)){Ye=b.stateNode,wt=!1;break e}break;case 5:Ye=b.stateNode,wt=!1;break e;case 3:case 4:Ye=b.stateNode.containerInfo,wt=!0;break e}b=b.return}if(Ye===null)throw Error(l(160));uh(d,v,o),Ye=null,wt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)dh(t,e),t=t.sibling}var Yt=null;function dh(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(t,e),Ct(e),r&4&&(za(3,e,e.return),us(3,e),za(5,e,e.return));break;case 1:Nt(t,e),Ct(e),r&512&&(Fe||a===null||Jt(a,a.return)),r&64&&ga&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var o=Yt;if(Nt(t,e),Ct(e),r&512&&(Fe||a===null||Jt(a,a.return)),r&4){var d=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Ur]||d[mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(r),o.head.insertBefore(d,o.querySelector("head > title"))),ht(d,r,a),d[mt]=e,it(d),r=d;break e;case"link":var v=sm("link","href",o).get(r+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=o.createElement(r),ht(d,r,a),o.head.appendChild(d);break;case"meta":if(v=sm("meta","content",o).get(r+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=o.createElement(r),ht(d,r,a),o.head.appendChild(d);break;default:throw Error(l(468,r))}d[mt]=e,it(d),r=d}e.stateNode=r}else im(o,e.type,e.stateNode);else e.stateNode=rm(o,r,e.memoizedProps);else d!==r?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,r===null?im(o,e.type,e.stateNode):rm(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Xo(e,e.memoizedProps,a.memoizedProps)}break;case 27:Nt(t,e),Ct(e),r&512&&(Fe||a===null||Jt(a,a.return)),a!==null&&r&4&&Xo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Nt(t,e),Ct(e),r&512&&(Fe||a===null||Jt(a,a.return)),e.flags&32){o=e.stateNode;try{zn(o,"")}catch(q){He(e,e.return,q)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Xo(e,o,a!==null?a.memoizedProps:o)),r&1024&&(Io=!0);break;case 6:if(Nt(t,e),Ct(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(q){He(e,e.return,q)}}break;case 3:if(Ji=null,o=Yt,Yt=Xi(t.containerInfo),Nt(t,e),Yt=o,Ct(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Ns(t.containerInfo)}catch(q){He(e,e.return,q)}Io&&(Io=!1,fh(e));break;case 4:r=Yt,Yt=Xi(e.stateNode.containerInfo),Nt(t,e),Ct(e),Yt=r;break;case 12:Nt(t,e),Ct(e);break;case 13:Nt(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ru=kt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Fo(e,r)));break;case 22:o=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,D=ga,Y=Fe;if(ga=D||o,Fe=Y||w,Nt(t,e),Fe=Y,ga=D,Ct(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||w||ga||Fe||yn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(d=w.stateNode,o)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=w.stateNode;var Q=w.memoizedProps.style,U=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;b.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(q){He(w,w.return,q)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(q){He(w,w.return,q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Fo(e,a))));break;case 19:Nt(t,e),Ct(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Fo(e,r)));break;case 30:break;case 21:break;default:Nt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var a,r=e.return;r!==null;){if(rh(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,d=Zo(e);Mi(e,d,o);break;case 5:var v=a.stateNode;a.flags&32&&(zn(v,""),a.flags&=-33);var b=Zo(e);Mi(e,b,v);break;case 3:case 4:var w=a.stateNode.containerInfo,D=Zo(e);Jo(e,D,w);break;default:throw Error(l(161))}}catch(Y){He(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function La(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lh(e,t.alternate,t),t=t.sibling}function yn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:za(4,t,t.return),yn(t);break;case 1:Jt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&ah(t,t.return,a),yn(t);break;case 27:bs(t.stateNode);case 26:case 5:Jt(t,t.return),yn(t);break;case 22:t.memoizedState===null&&yn(t);break;case 30:yn(t);break;default:yn(t)}e=e.sibling}}function qa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,d=t,v=d.flags;switch(d.tag){case 0:case 11:case 15:qa(o,d,a),us(4,d);break;case 1:if(qa(o,d,a),r=d,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(D){He(r,r.return,D)}if(r=d,o=r.updateQueue,o!==null){var b=r.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Hd(w[o],b)}catch(D){He(r,r.return,D)}}a&&v&64&&th(d),cs(d,d.return);break;case 27:sh(d);case 26:case 5:qa(o,d,a),a&&r===null&&v&4&&nh(d),cs(d,d.return);break;case 12:qa(o,d,a);break;case 13:qa(o,d,a),a&&v&4&&ch(o,d);break;case 22:d.memoizedState===null&&qa(o,d,a),cs(d,d.return);break;case 30:break;default:qa(o,d,a)}t=t.sibling}}function Wo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zr(a))}function eu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zr(e))}function It(e,t,a,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hh(e,t,a,r),t=t.sibling}function hh(e,t,a,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,a,r),o&2048&&us(9,t);break;case 1:It(e,t,a,r);break;case 3:It(e,t,a,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zr(e)));break;case 12:if(o&2048){It(e,t,a,r),e=t.stateNode;try{var d=t.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){He(t,t.return,w)}}else It(e,t,a,r);break;case 13:It(e,t,a,r);break;case 23:break;case 22:d=t.stateNode,v=t.alternate,t.memoizedState!==null?d._visibility&2?It(e,t,a,r):ds(e,t):d._visibility&2?It(e,t,a,r):(d._visibility|=2,tr(e,t,a,r,(t.subtreeFlags&10256)!==0)),o&2048&&Wo(v,t);break;case 24:It(e,t,a,r),o&2048&&eu(t.alternate,t);break;default:It(e,t,a,r)}}function tr(e,t,a,r,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,v=t,b=a,w=r,D=v.flags;switch(v.tag){case 0:case 11:case 15:tr(d,v,b,w,o),us(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?tr(d,v,b,w,o):ds(d,v):(Y._visibility|=2,tr(d,v,b,w,o)),o&&D&2048&&Wo(v.alternate,v);break;case 24:tr(d,v,b,w,o),o&&D&2048&&eu(v.alternate,v);break;default:tr(d,v,b,w,o)}t=t.sibling}}function ds(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,r=t,o=r.flags;switch(r.tag){case 22:ds(a,r),o&2048&&Wo(r.alternate,r);break;case 24:ds(a,r),o&2048&&eu(r.alternate,r);break;default:ds(a,r)}t=t.sibling}}var fs=8192;function ar(e){if(e.subtreeFlags&fs)for(e=e.child;e!==null;)mh(e),e=e.sibling}function mh(e){switch(e.tag){case 26:ar(e),e.flags&fs&&e.memoizedState!==null&&ny(Yt,e.memoizedState,e.memoizedProps);break;case 5:ar(e);break;case 3:case 4:var t=Yt;Yt=Xi(e.stateNode.containerInfo),ar(e),Yt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=fs,fs=16777216,ar(e),fs=t):ar(e));break;default:ar(e)}}function ph(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function hs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];ot=r,vh(r,e)}ph(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gh(e),e=e.sibling}function gh(e){switch(e.tag){case 0:case 11:case 15:hs(e),e.flags&2048&&za(9,e,e.return);break;case 3:hs(e);break;case 12:hs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zi(e)):hs(e);break;default:hs(e)}}function zi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];ot=r,vh(r,e)}ph(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:za(8,t,t.return),zi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,zi(t));break;default:zi(t)}e=e.sibling}}function vh(e,t){for(;ot!==null;){var a=ot;switch(a.tag){case 0:case 11:case 15:za(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Zr(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,ot=r;else e:for(a=e;ot!==null;){r=ot;var o=r.sibling,d=r.return;if(oh(r),r===a){ot=null;break e}if(o!==null){o.return=d,ot=o;break e}ot=d}}}var bv={getCacheForType:function(e){var t=pt(at),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},_v=typeof WeakMap=="function"?WeakMap:Map,Re=0,Pe=null,we=null,Te=0,ke=0,At=null,Ba=!1,nr=!1,tu=!1,ya=0,Ze=0,Ha=0,bn=0,au=0,Ht=0,rr=0,ms=null,jt=null,nu=!1,ru=0,Li=1/0,qi=null,$a=null,ft=0,Pa=null,sr=null,ir=0,su=0,iu=null,yh=null,ps=0,lu=null;function Ot(){if((Re&2)!==0&&Te!==0)return Te&-Te;if(H.T!==null){var e=Kn;return e!==0?e:mu()}return Dc()}function bh(){Ht===0&&(Ht=(Te&536870912)===0||Oe?Ac():536870912);var e=Bt.current;return e!==null&&(e.flags|=32),Ht}function Rt(e,t,a){(e===Pe&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(lr(e,0),Ga(e,Te,Ht,!1)),Dr(e,a),((Re&2)===0||e!==Pe)&&(e===Pe&&((Re&2)===0&&(bn|=a),Ze===4&&Ga(e,Te,Ht,!1)),Ft(e))}function _h(e,t,a){if((Re&6)!==0)throw Error(l(327));var r=!a&&(t&124)===0&&(t&e.expiredLanes)===0||kr(e,t),o=r?jv(e,t):cu(e,t,!0),d=r;do{if(o===0){nr&&!r&&Ga(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!Sv(a)){o=cu(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var b=e;o=ms;var w=b.current.memoizedState.isDehydrated;if(w&&(lr(b,v).flags|=256),v=cu(b,v,!1),v!==2){if(tu&&!w){b.errorRecoveryDisabledLanes|=d,bn|=d,o=4;break e}d=jt,jt=o,d!==null&&(jt===null?jt=d:jt.push.apply(jt,d))}o=v}if(d=!1,o!==2)continue}}if(o===1){lr(e,0),Ga(e,t,0,!0);break}e:{switch(r=e,d=o,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ga(r,t,Ht,!Ba);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=ru+300-kt(),10<o)){if(Ga(r,t,Ht,!Ba),Zs(r,0,!0)!==0)break e;r.timeoutHandle=Zh(Sh.bind(null,r,a,jt,qi,nu,t,Ht,bn,rr,Ba,d,2,-0,0),o);break e}Sh(r,a,jt,qi,nu,t,Ht,bn,rr,Ba,d,0,-0,0)}}break}while(!0);Ft(e)}function Sh(e,t,a,r,o,d,v,b,w,D,Y,Q,U,q){if(e.timeoutHandle=-1,Q=t.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(ws={stylesheets:null,count:0,unsuspend:ay},mh(t),Q=ry(),Q!==null)){e.cancelPendingCommit=Q(Ch.bind(null,e,t,d,a,r,o,v,b,w,Y,1,U,q)),Ga(e,d,v,!D);return}Ch(e,t,d,a,r,o,v,b,w)}function Sv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var o=a[r],d=o.getSnapshot;o=o.value;try{if(!Et(d(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t,a,r){t&=~au,t&=~bn,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var d=31-We(o),v=1<<d;r[d]=-1,o&=~v}a!==0&&Rc(e,a,t)}function Bi(){return(Re&6)===0?(gs(0),!1):!0}function ou(){if(we!==null){if(ke===0)var e=we.return;else e=we,ca=hn=null,Eo(e),Wn=null,is=0,e=we;for(;e!==null;)eh(e.alternate,e),e=e.return;we=null}}function lr(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Bv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ou(),Pe=e,we=a=la(e.current,null),Te=t,ke=0,At=null,Ba=!1,nr=kr(e,t),tu=!1,rr=Ht=au=bn=Ha=Ze=0,jt=ms=null,nu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-We(r),d=1<<o;t|=e[o],r&=~d}return ya=t,li(),a}function wh(e,t){be=null,H.H=Ti,t===Ir||t===gi?(t=qd(),ke=3):t===Md?(t=qd(),ke=4):ke=t===Hf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,we===null&&(Ze=1,Ri(e,Mt(t,e.current)))}function jh(){var e=H.H;return H.H=Ti,e===null?Ti:e}function xh(){var e=H.A;return H.A=bv,e}function uu(){Ze=4,Ba||(Te&4194048)!==Te&&Bt.current!==null||(nr=!0),(Ha&134217727)===0&&(bn&134217727)===0||Pe===null||Ga(Pe,Te,Ht,!1)}function cu(e,t,a){var r=Re;Re|=2;var o=jh(),d=xh();(Pe!==e||Te!==t)&&(qi=null,lr(e,t)),t=!1;var v=Ze;e:do try{if(ke!==0&&we!==null){var b=we,w=At;switch(ke){case 8:ou(),v=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(t=!0);var D=ke;if(ke=0,At=null,or(e,b,w,D),a&&nr){v=0;break e}break;default:D=ke,ke=0,At=null,or(e,b,w,D)}}wv(),v=Ze;break}catch(Y){wh(e,Y)}while(!0);return t&&e.shellSuspendCounter++,ca=hn=null,Re=r,H.H=o,H.A=d,we===null&&(Pe=null,Te=0,li()),v}function wv(){for(;we!==null;)Eh(we)}function jv(e,t){var a=Re;Re|=2;var r=jh(),o=xh();Pe!==e||Te!==t?(qi=null,Li=kt()+500,lr(e,t)):nr=kr(e,t);e:do try{if(ke!==0&&we!==null){t=we;var d=At;t:switch(ke){case 1:ke=0,At=null,or(e,t,d,1);break;case 2:case 9:if(zd(d)){ke=0,At=null,Th(t);break}t=function(){ke!==2&&ke!==9||Pe!==e||(ke=7),Ft(e)},d.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:zd(d)?(ke=0,At=null,Th(t)):(ke=0,At=null,or(e,t,d,7));break;case 5:var v=null;switch(we.tag){case 26:v=we.memoizedState;case 5:case 27:var b=we;if(!v||lm(v)){ke=0,At=null;var w=b.sibling;if(w!==null)we=w;else{var D=b.return;D!==null?(we=D,Hi(D)):we=null}break t}}ke=0,At=null,or(e,t,d,5);break;case 6:ke=0,At=null,or(e,t,d,6);break;case 8:ou(),Ze=6;break e;default:throw Error(l(462))}}xv();break}catch(Y){wh(e,Y)}while(!0);return ca=hn=null,H.H=r,H.A=o,Re=a,we!==null?0:(Pe=null,Te=0,li(),Ze)}function xv(){for(;we!==null&&!jl();)Eh(we)}function Eh(e){var t=Ff(e.alternate,e,ya);e.memoizedProps=e.pendingProps,t===null?Hi(e):we=t}function Th(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Qf(a,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Qf(a,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:Eo(t);default:eh(a,t),t=we=Td(t,ya),t=Ff(a,t,ya)}e.memoizedProps=e.pendingProps,t===null?Hi(e):we=t}function or(e,t,a,r){ca=hn=null,Eo(t),Wn=null,is=0;var o=t.return;try{if(hv(e,o,t,a,Te)){Ze=1,Ri(e,Mt(a,e.current)),we=null;return}}catch(d){if(o!==null)throw we=o,d;Ze=1,Ri(e,Mt(a,e.current)),we=null;return}t.flags&32768?(Oe||r===1?e=!0:nr||(Te&536870912)!==0?e=!1:(Ba=e=!0,(r===2||r===9||r===3||r===6)&&(r=Bt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Nh(t,e)):Hi(t)}function Hi(e){var t=e;do{if((t.flags&32768)!==0){Nh(t,Ba);return}e=t.return;var a=pv(t.alternate,t,ya);if(a!==null){we=a;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ze===0&&(Ze=5)}function Nh(e,t){do{var a=gv(e.alternate,e);if(a!==null){a.flags&=32767,we=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=a}while(e!==null);Ze=6,we=null}function Ch(e,t,a,r,o,d,v,b,w){e.cancelPendingCommit=null;do $i();while(ft!==0);if((Re&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=Wl,ag(e,a,d,v,b,w),e===Pe&&(we=Pe=null,Te=0),sr=t,Pa=e,ir=a,su=d,iu=o,yh=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Cv(F,function(){return Dh(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=H.T,H.T=null,o=te.p,te.p=2,v=Re,Re|=4;try{vv(e,t,a)}finally{Re=v,te.p=o,H.T=r}}ft=1,Ah(),Oh(),Rh()}}function Ah(){if(ft===1){ft=0;var e=Pa,t=sr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var r=te.p;te.p=2;var o=Re;Re|=4;try{dh(t,e);var d=wu,v=gd(e.containerInfo),b=d.focusedElem,w=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&pd(b.ownerDocument.documentElement,b)){if(w!==null&&Xl(b)){var D=w.start,Y=w.end;if(Y===void 0&&(Y=D),"selectionStart"in b)b.selectionStart=D,b.selectionEnd=Math.min(Y,b.value.length);else{var Q=b.ownerDocument||document,U=Q&&Q.defaultView||window;if(U.getSelection){var q=U.getSelection(),pe=b.textContent.length,he=Math.min(w.start,pe),Le=w.end===void 0?he:Math.min(w.end,pe);!q.extend&&he>Le&&(v=Le,Le=he,he=v);var O=md(b,he),T=md(b,Le);if(O&&T&&(q.rangeCount!==1||q.anchorNode!==O.node||q.anchorOffset!==O.offset||q.focusNode!==T.node||q.focusOffset!==T.offset)){var k=Q.createRange();k.setStart(O.node,O.offset),q.removeAllRanges(),he>Le?(q.addRange(k),q.extend(T.node,T.offset)):(k.setEnd(T.node,T.offset),q.addRange(k))}}}}for(Q=[],q=b;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Q.length;b++){var V=Q[b];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Wi=!!Su,wu=Su=null}finally{Re=o,te.p=r,H.T=a}}e.current=t,ft=2}}function Oh(){if(ft===2){ft=0;var e=Pa,t=sr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var r=te.p;te.p=2;var o=Re;Re|=4;try{lh(e,t.alternate,t)}finally{Re=o,te.p=r,H.T=a}}ft=3}}function Rh(){if(ft===4||ft===3){ft=0,Rr();var e=Pa,t=sr,a=ir,r=yh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ft=5:(ft=0,sr=Pa=null,kh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&($a=null),Nl(a),t=t.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Ce,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=H.T,o=te.p,te.p=2,H.T=null;try{for(var d=e.onRecoverableError,v=0;v<r.length;v++){var b=r[v];d(b.value,{componentStack:b.stack})}}finally{H.T=t,te.p=o}}(ir&3)!==0&&$i(),Ft(e),o=e.pendingLanes,(a&4194090)!==0&&(o&42)!==0?e===lu?ps++:(ps=0,lu=e):ps=0,gs(0)}}function kh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zr(t)))}function $i(e){return Ah(),Oh(),Rh(),Dh()}function Dh(){if(ft!==5)return!1;var e=Pa,t=su;su=0;var a=Nl(ir),r=H.T,o=te.p;try{te.p=32>a?32:a,H.T=null,a=iu,iu=null;var d=Pa,v=ir;if(ft=0,sr=Pa=null,ir=0,(Re&6)!==0)throw Error(l(331));var b=Re;if(Re|=4,gh(d.current),hh(d,d.current,v,a),Re=b,gs(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Ce,d)}catch{}return!0}finally{te.p=o,H.T=r,kh(e,t)}}function Uh(e,t,a){t=Mt(a,t),t=Bo(e.stateNode,t,2),e=ka(e,t,2),e!==null&&(Dr(e,2),Ft(e))}function He(e,t,a){if(e.tag===3)Uh(e,e,a);else for(;t!==null;){if(t.tag===3){Uh(t,e,a);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($a===null||!$a.has(r))){e=Mt(a,e),a=qf(2),r=ka(t,a,2),r!==null&&(Bf(a,r,t,e),Dr(r,2),Ft(r));break}}t=t.return}}function du(e,t,a){var r=e.pingCache;if(r===null){r=e.pingCache=new _v;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(a)||(tu=!0,o.add(a),e=Ev.bind(null,e,t,a),t.then(e,e))}function Ev(e,t,a){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Pe===e&&(Te&a)===a&&(Ze===4||Ze===3&&(Te&62914560)===Te&&300>kt()-ru?(Re&2)===0&&lr(e,0):au|=a,rr===Te&&(rr=0)),Ft(e)}function Mh(e,t){t===0&&(t=Oc()),e=Gn(e,t),e!==null&&(Dr(e,t),Ft(e))}function Tv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Mh(e,a)}function Nv(e,t){var a=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),Mh(e,a)}function Cv(e,t){return Je(e,t)}var Pi=null,ur=null,fu=!1,Gi=!1,hu=!1,_n=0;function Ft(e){e!==ur&&e.next===null&&(ur===null?Pi=ur=e:ur=ur.next=e),Gi=!0,fu||(fu=!0,Ov())}function gs(e,t){if(!hu&&Gi){hu=!0;do for(var a=!1,r=Pi;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var d=0;else{var v=r.suspendedLanes,b=r.pingedLanes;d=(1<<31-We(42|e)+1)-1,d&=o&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Bh(r,d))}else d=Te,d=Zs(r,r===Pe?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||kr(r,d)||(a=!0,Bh(r,d));r=r.next}while(a);hu=!1}}function Av(){zh()}function zh(){Gi=fu=!1;var e=0;_n!==0&&(qv()&&(e=_n),_n=0);for(var t=kt(),a=null,r=Pi;r!==null;){var o=r.next,d=Lh(r,t);d===0?(r.next=null,a===null?Pi=o:a.next=o,o===null&&(ur=a)):(a=r,(e!==0||(d&3)!==0)&&(Gi=!0)),r=o}gs(e)}function Lh(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-We(d),b=1<<v,w=o[v];w===-1?((b&a)===0||(b&r)!==0)&&(o[v]=tg(b,t)):w<=t&&(e.expiredLanes|=b),d&=~b}if(t=Pe,a=Te,a=Zs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ta(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||kr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(r!==null&&Ta(r),Nl(a)){case 2:case 8:a=Qs;break;case 32:a=F;break;case 268435456:a=Ne;break;default:a=F}return r=qh.bind(null,e),a=Je(a,r),e.callbackPriority=t,e.callbackNode=a,t}return r!==null&&r!==null&&Ta(r),e.callbackPriority=2,e.callbackNode=null,2}function qh(e,t){if(ft!==0&&ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if($i()&&e.callbackNode!==a)return null;var r=Te;return r=Zs(e,e===Pe?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(_h(e,r,t),Lh(e,kt()),e.callbackNode!=null&&e.callbackNode===a?qh.bind(null,e):null)}function Bh(e,t){if($i())return null;_h(e,t,!0)}function Ov(){Hv(function(){(Re&6)!==0?Je(Vs,Av):zh()})}function mu(){return _n===0&&(_n=Ac()),_n}function Hh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ei(""+e)}function $h(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Rv(e,t,a,r,o){if(t==="submit"&&a&&a.stateNode===o){var d=Hh((o[bt]||null).action),v=r.submitter;v&&(t=(t=v[bt]||null)?Hh(t.formAction):v.getAttribute("formAction"),t!==null&&(d=t,v=null));var b=new ri("action","action",null,r,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(_n!==0){var w=v?$h(o,v):new FormData(o);Uo(a,{pending:!0,data:w,method:o.method,action:d},null,w)}}else typeof d=="function"&&(b.preventDefault(),w=v?$h(o,v):new FormData(o),Uo(a,{pending:!0,data:w,method:o.method,action:d},d,w))},currentTarget:o}]})}}for(var pu=0;pu<Fl.length;pu++){var gu=Fl[pu],kv=gu.toLowerCase(),Dv=gu[0].toUpperCase()+gu.slice(1);Gt(kv,"on"+Dv)}Gt(bd,"onAnimationEnd"),Gt(_d,"onAnimationIteration"),Gt(Sd,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(Jg,"onTransitionRun"),Gt(Ig,"onTransitionStart"),Gt(Fg,"onTransitionCancel"),Gt(wd,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vs));function Ph(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],o=r.event;r=r.listeners;e:{var d=void 0;if(t)for(var v=r.length-1;0<=v;v--){var b=r[v],w=b.instance,D=b.currentTarget;if(b=b.listener,w!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=D;try{d(o)}catch(Y){Oi(Y)}o.currentTarget=null,d=w}else for(v=0;v<r.length;v++){if(b=r[v],w=b.instance,D=b.currentTarget,b=b.listener,w!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=D;try{d(o)}catch(Y){Oi(Y)}o.currentTarget=null,d=w}}}}function je(e,t){var a=t[Cl];a===void 0&&(a=t[Cl]=new Set);var r=e+"__bubble";a.has(r)||(Gh(t,e,2,!1),a.add(r))}function vu(e,t,a){var r=0;t&&(r|=4),Gh(a,e,r,t)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function yu(e){if(!e[Yi]){e[Yi]=!0,Mc.forEach(function(a){a!=="selectionchange"&&(Uv.has(a)||vu(a,!1,e),vu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yi]||(t[Yi]=!0,vu("selectionchange",!1,t))}}function Gh(e,t,a,r){switch(hm(t)){case 2:var o=ly;break;case 8:o=oy;break;default:o=ku}a=o.bind(null,t,a,e),o=void 0,!Bl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function bu(e,t,a,r,o){var d=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var v=r.tag;if(v===3||v===4){var b=r.stateNode.containerInfo;if(b===o)break;if(v===4)for(v=r.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===o)return;v=v.return}for(;b!==null;){if(v=On(b),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){r=d=v;continue e}b=b.parentNode}}r=r.return}Zc(function(){var D=d,Y=Ll(a),Q=[];e:{var U=jd.get(e);if(U!==void 0){var q=ri,pe=e;switch(e){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":q=Cg;break;case"focusin":pe="focus",q=Gl;break;case"focusout":pe="blur",q=Gl;break;case"beforeblur":case"afterblur":q=Gl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Rg;break;case bd:case _d:case Sd:q=bg;break;case wd:q=Dg;break;case"scroll":case"scrollend":q=mg;break;case"wheel":q=Mg;break;case"copy":case"cut":case"paste":q=Sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ed;break;case"toggle":case"beforetoggle":q=Lg}var he=(t&4)!==0,Le=!he&&(e==="scroll"||e==="scrollend"),O=he?U!==null?U+"Capture":null:U;he=[];for(var T=D,k;T!==null;){var V=T;if(k=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||k===null||O===null||(V=zr(T,O),V!=null&&he.push(ys(T,V,k))),Le)break;T=T.return}0<he.length&&(U=new q(U,pe,null,a,Y),Q.push({event:U,listeners:he}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",U&&a!==zl&&(pe=a.relatedTarget||a.fromElement)&&(On(pe)||pe[An]))break e;if((q||U)&&(U=Y.window===Y?Y:(U=Y.ownerDocument)?U.defaultView||U.parentWindow:window,q?(pe=a.relatedTarget||a.toElement,q=D,pe=pe?On(pe):null,pe!==null&&(Le=c(pe),he=pe.tag,pe!==Le||he!==5&&he!==27&&he!==6)&&(pe=null)):(q=null,pe=D),q!==pe)){if(he=Fc,V="onMouseLeave",O="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(he=ed,V="onPointerLeave",O="onPointerEnter",T="pointer"),Le=q==null?U:Mr(q),k=pe==null?U:Mr(pe),U=new he(V,T+"leave",q,a,Y),U.target=Le,U.relatedTarget=k,V=null,On(Y)===D&&(he=new he(O,T+"enter",pe,a,Y),he.target=k,he.relatedTarget=Le,V=he),Le=V,q&&pe)t:{for(he=q,O=pe,T=0,k=he;k;k=cr(k))T++;for(k=0,V=O;V;V=cr(V))k++;for(;0<T-k;)he=cr(he),T--;for(;0<k-T;)O=cr(O),k--;for(;T--;){if(he===O||O!==null&&he===O.alternate)break t;he=cr(he),O=cr(O)}he=null}else he=null;q!==null&&Yh(Q,U,q,he,!1),pe!==null&&Le!==null&&Yh(Q,Le,pe,he,!0)}}e:{if(U=D?Mr(D):window,q=U.nodeName&&U.nodeName.toLowerCase(),q==="select"||q==="input"&&U.type==="file")var le=od;else if(id(U))if(ud)le=Kg;else{le=Vg;var Se=Yg}else q=U.nodeName,!q||q.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?D&&Ml(D.elementType)&&(le=od):le=Qg;if(le&&(le=le(e,D))){ld(Q,le,a,Y);break e}Se&&Se(e,U,D),e==="focusout"&&D&&U.type==="number"&&D.memoizedProps.value!=null&&Ul(U,"number",U.value)}switch(Se=D?Mr(D):window,e){case"focusin":(id(Se)||Se.contentEditable==="true")&&(Hn=Se,Zl=D,Yr=null);break;case"focusout":Yr=Zl=Hn=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,vd(Q,a,Y);break;case"selectionchange":if(Zg)break;case"keydown":case"keyup":vd(Q,a,Y)}var de;if(Vl)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Bn?rd(e,a)&&(me="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(me="onCompositionStart");me&&(td&&a.locale!=="ko"&&(Bn||me!=="onCompositionStart"?me==="onCompositionEnd"&&Bn&&(de=Jc()):(Ca=Y,Hl="value"in Ca?Ca.value:Ca.textContent,Bn=!0)),Se=Vi(D,me),0<Se.length&&(me=new Wc(me,e,null,a,Y),Q.push({event:me,listeners:Se}),de?me.data=de:(de=sd(a),de!==null&&(me.data=de)))),(de=Bg?Hg(e,a):$g(e,a))&&(me=Vi(D,"onBeforeInput"),0<me.length&&(Se=new Wc("onBeforeInput","beforeinput",null,a,Y),Q.push({event:Se,listeners:me}),Se.data=de)),Rv(Q,e,D,a,Y)}Ph(Q,t)})}function ys(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Vi(e,t){for(var a=t+"Capture",r=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=zr(e,a),o!=null&&r.unshift(ys(e,o,d)),o=zr(e,t),o!=null&&r.push(ys(e,o,d))),e.tag===3)return r;e=e.return}return[]}function cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yh(e,t,a,r,o){for(var d=t._reactName,v=[];a!==null&&a!==r;){var b=a,w=b.alternate,D=b.stateNode;if(b=b.tag,w!==null&&w===r)break;b!==5&&b!==26&&b!==27||D===null||(w=D,o?(D=zr(a,d),D!=null&&v.unshift(ys(a,D,w))):o||(D=zr(a,d),D!=null&&v.push(ys(a,D,w)))),a=a.return}v.length!==0&&e.push({event:t,listeners:v})}var Mv=/\r\n?/g,zv=/\u0000|\uFFFD/g;function Vh(e){return(typeof e=="string"?e:""+e).replace(Mv,`
`).replace(zv,"")}function Qh(e,t){return t=Vh(t),Vh(e)===t}function Qi(){}function ze(e,t,a,r,o,d){switch(a){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||zn(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&zn(e,""+r);break;case"className":Is(e,"class",r);break;case"tabIndex":Is(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Is(e,a,r);break;case"style":Kc(e,r,d);break;case"data":if(t!=="object"){Is(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=ei(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&ze(e,t,"name",o.name,o,null),ze(e,t,"formEncType",o.formEncType,o,null),ze(e,t,"formMethod",o.formMethod,o,null),ze(e,t,"formTarget",o.formTarget,o,null)):(ze(e,t,"encType",o.encType,o,null),ze(e,t,"method",o.method,o,null),ze(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=ei(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=Qi);break;case"onScroll":r!=null&&je("scroll",e);break;case"onScrollEnd":r!=null&&je("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=ei(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":je("beforetoggle",e),je("toggle",e),Js(e,"popover",r);break;case"xlinkActuate":sa(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":sa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":sa(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":sa(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":sa(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":sa(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":sa(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":sa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":sa(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Js(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fg.get(a)||a,Js(e,a,r))}}function _u(e,t,a,r,o,d){switch(a){case"style":Kc(e,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof r=="string"?zn(e,r):(typeof r=="number"||typeof r=="bigint")&&zn(e,""+r);break;case"onScroll":r!=null&&je("scroll",e);break;case"onScrollEnd":r!=null&&je("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Qi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),d=e[bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof r=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,r,o);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):Js(e,a,r)}}}function ht(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",e),je("load",e);var r=!1,o=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,d,v,a,null)}}o&&ze(e,t,"srcSet",a.srcSet,a,null),r&&ze(e,t,"src",a.src,a,null);return;case"input":je("invalid",e);var b=d=v=o=null,w=null,D=null;for(r in a)if(a.hasOwnProperty(r)){var Y=a[r];if(Y!=null)switch(r){case"name":o=Y;break;case"type":v=Y;break;case"checked":w=Y;break;case"defaultChecked":D=Y;break;case"value":d=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(l(137,t));break;default:ze(e,t,r,Y,a,null)}}Gc(e,d,b,w,D,v,o,!1),Fs(e);return;case"select":je("invalid",e),r=v=d=null;for(o in a)if(a.hasOwnProperty(o)&&(b=a[o],b!=null))switch(o){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":r=b;default:ze(e,t,o,b,a,null)}t=d,a=v,e.multiple=!!r,t!=null?Mn(e,!!r,t,!1):a!=null&&Mn(e,!!r,a,!0);return;case"textarea":je("invalid",e),d=o=r=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":r=b;break;case"defaultValue":o=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:ze(e,t,v,b,a,null)}Vc(e,r,o,d),Fs(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(r=a[w],r!=null))switch(w){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ze(e,t,w,r,a,null)}return;case"dialog":je("beforetoggle",e),je("toggle",e),je("cancel",e),je("close",e);break;case"iframe":case"object":je("load",e);break;case"video":case"audio":for(r=0;r<vs.length;r++)je(vs[r],e);break;case"image":je("error",e),je("load",e);break;case"details":je("toggle",e);break;case"embed":case"source":case"link":je("error",e),je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(r=a[D],r!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,D,r,a,null)}return;default:if(Ml(t)){for(Y in a)a.hasOwnProperty(Y)&&(r=a[Y],r!==void 0&&_u(e,t,Y,r,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(r=a[b],r!=null&&ze(e,t,b,r,a,null))}function Lv(e,t,a,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,v=null,b=null,w=null,D=null,Y=null;for(q in a){var Q=a[q];if(a.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=Q;default:r.hasOwnProperty(q)||ze(e,t,q,null,r,Q)}}for(var U in r){var q=r[U];if(Q=a[U],r.hasOwnProperty(U)&&(q!=null||Q!=null))switch(U){case"type":d=q;break;case"name":o=q;break;case"checked":D=q;break;case"defaultChecked":Y=q;break;case"value":v=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,t));break;default:q!==Q&&ze(e,t,U,q,r,Q)}}Dl(e,v,b,w,D,Y,d,o);return;case"select":q=v=b=U=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":q=w;default:r.hasOwnProperty(d)||ze(e,t,d,null,r,w)}for(o in r)if(d=r[o],w=a[o],r.hasOwnProperty(o)&&(d!=null||w!=null))switch(o){case"value":U=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==w&&ze(e,t,o,d,r,w)}t=b,a=v,r=q,U!=null?Mn(e,!!a,U,!1):!!r!=!!a&&(t!=null?Mn(e,!!a,t,!0):Mn(e,!!a,a?[]:"",!1));return;case"textarea":q=U=null;for(b in a)if(o=a[b],a.hasOwnProperty(b)&&o!=null&&!r.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ze(e,t,b,null,r,o)}for(v in r)if(o=r[v],d=a[v],r.hasOwnProperty(v)&&(o!=null||d!=null))switch(v){case"value":U=o;break;case"defaultValue":q=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==d&&ze(e,t,v,o,r,d)}Yc(e,U,q);return;case"option":for(var pe in a)if(U=a[pe],a.hasOwnProperty(pe)&&U!=null&&!r.hasOwnProperty(pe))switch(pe){case"selected":e.selected=!1;break;default:ze(e,t,pe,null,r,U)}for(w in r)if(U=r[w],q=a[w],r.hasOwnProperty(w)&&U!==q&&(U!=null||q!=null))switch(w){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:ze(e,t,w,U,r,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in a)U=a[he],a.hasOwnProperty(he)&&U!=null&&!r.hasOwnProperty(he)&&ze(e,t,he,null,r,U);for(D in r)if(U=r[D],q=a[D],r.hasOwnProperty(D)&&U!==q&&(U!=null||q!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:ze(e,t,D,U,r,q)}return;default:if(Ml(t)){for(var Le in a)U=a[Le],a.hasOwnProperty(Le)&&U!==void 0&&!r.hasOwnProperty(Le)&&_u(e,t,Le,void 0,r,U);for(Y in r)U=r[Y],q=a[Y],!r.hasOwnProperty(Y)||U===q||U===void 0&&q===void 0||_u(e,t,Y,U,r,q);return}}for(var O in a)U=a[O],a.hasOwnProperty(O)&&U!=null&&!r.hasOwnProperty(O)&&ze(e,t,O,null,r,U);for(Q in r)U=r[Q],q=a[Q],!r.hasOwnProperty(Q)||U===q||U==null&&q==null||ze(e,t,Q,U,r,q)}var Su=null,wu=null;function Ki(e){return e.nodeType===9?e:e.ownerDocument}function Kh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ju(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xu=null;function qv(){var e=window.event;return e&&e.type==="popstate"?e===xu?!1:(xu=e,!0):(xu=null,!1)}var Zh=typeof setTimeout=="function"?setTimeout:void 0,Bv=typeof clearTimeout=="function"?clearTimeout:void 0,Jh=typeof Promise=="function"?Promise:void 0,Hv=typeof queueMicrotask=="function"?queueMicrotask:typeof Jh<"u"?function(e){return Jh.resolve(null).then(e).catch($v)}:Zh;function $v(e){setTimeout(function(){throw e})}function Ya(e){return e==="head"}function Ih(e,t){var a=t,r=0,o=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<r&&8>r){a=r;var v=e.ownerDocument;if(a&1&&bs(v.documentElement),a&2&&bs(v.body),a&4)for(a=v.head,bs(a),v=a.firstChild;v;){var b=v.nextSibling,w=v.nodeName;v[Ur]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=b}}if(o===0){e.removeChild(d),Ns(t);return}o--}else a==="$"||a==="$?"||a==="$!"?o++:r=a.charCodeAt(0)-48;else r=0;a=d}while(a);Ns(t)}function Eu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Eu(a),Al(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Pv(e,t,a,r){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ur])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function Gv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vt(e.nextSibling),e===null))return null;return e}function Tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Yv(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var r=function(){t(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Nu=null;function Fh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Wh(e,t,a){switch(t=Ki(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function bs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Al(e)}var $t=new Map,em=new Set;function Xi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ba=te.d;te.d={f:Vv,r:Qv,D:Kv,C:Xv,L:Zv,m:Jv,X:Fv,S:Iv,M:Wv};function Vv(){var e=ba.f(),t=Bi();return e||t}function Qv(e){var t=Rn(e);t!==null&&t.tag===5&&t.type==="form"?_f(t):ba.r(e)}var dr=typeof document>"u"?null:document;function tm(e,t,a){var r=dr;if(r&&typeof t=="string"&&t){var o=Ut(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),em.has(o)||(em.add(o),e={rel:e,crossOrigin:a,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),ht(t,"link",e),it(t),r.head.appendChild(t)))}}function Kv(e){ba.D(e),tm("dns-prefetch",e,null)}function Xv(e,t){ba.C(e,t),tm("preconnect",e,t)}function Zv(e,t,a){ba.L(e,t,a);var r=dr;if(r&&e&&t){var o='link[rel="preload"][as="'+Ut(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Ut(a.imageSizes)+'"]')):o+='[href="'+Ut(e)+'"]';var d=o;switch(t){case"style":d=fr(e);break;case"script":d=hr(e)}$t.has(d)||(e=y({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),$t.set(d,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(_s(d))||t==="script"&&r.querySelector(Ss(d))||(t=r.createElement("link"),ht(t,"link",e),it(t),r.head.appendChild(t)))}}function Jv(e,t){ba.m(e,t);var a=dr;if(a&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ut(r)+'"][href="'+Ut(e)+'"]',d=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=hr(e)}if(!$t.has(d)&&(e=y({rel:"modulepreload",href:e},t),$t.set(d,e),a.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ss(d)))return}r=a.createElement("link"),ht(r,"link",e),it(r),a.head.appendChild(r)}}}function Iv(e,t,a){ba.S(e,t,a);var r=dr;if(r&&e){var o=kn(r).hoistableStyles,d=fr(e);t=t||"default";var v=o.get(d);if(!v){var b={loading:0,preload:null};if(v=r.querySelector(_s(d)))b.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},a),(a=$t.get(d))&&Cu(e,a);var w=v=r.createElement("link");it(w),ht(w,"link",e),w._p=new Promise(function(D,Y){w.onload=D,w.onerror=Y}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Zi(v,t,r)}v={type:"stylesheet",instance:v,count:1,state:b},o.set(d,v)}}}function Fv(e,t){ba.X(e,t);var a=dr;if(a&&e){var r=kn(a).hoistableScripts,o=hr(e),d=r.get(o);d||(d=a.querySelector(Ss(o)),d||(e=y({src:e,async:!0},t),(t=$t.get(o))&&Au(e,t),d=a.createElement("script"),it(d),ht(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(o,d))}}function Wv(e,t){ba.M(e,t);var a=dr;if(a&&e){var r=kn(a).hoistableScripts,o=hr(e),d=r.get(o);d||(d=a.querySelector(Ss(o)),d||(e=y({src:e,async:!0,type:"module"},t),(t=$t.get(o))&&Au(e,t),d=a.createElement("script"),it(d),ht(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(o,d))}}function am(e,t,a,r){var o=(o=I.current)?Xi(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=fr(a.href),a=kn(o).hoistableStyles,r=a.get(t),r||(r={type:"style",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=fr(a.href);var d=kn(o).hoistableStyles,v=d.get(e);if(v||(o=o.ownerDocument||o,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=o.querySelector(_s(e)))&&!d._p&&(v.instance=d,v.state.loading=5),$t.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$t.set(e,a),d||ey(o,e,a,v.state))),t&&r===null)throw Error(l(528,""));return v}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=hr(a),a=kn(o).hoistableScripts,r=a.get(t),r||(r={type:"script",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function fr(e){return'href="'+Ut(e)+'"'}function _s(e){return'link[rel="stylesheet"]['+e+"]"}function nm(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function ey(e,t,a,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ht(t,"link",a),it(t),e.head.appendChild(t))}function hr(e){return'[src="'+Ut(e)+'"]'}function Ss(e){return"script[async]"+e}function rm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Ut(a.href)+'"]');if(r)return t.instance=r,it(r),r;var o=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),it(r),ht(r,"style",o),Zi(r,a.precedence,e),t.instance=r;case"stylesheet":o=fr(a.href);var d=e.querySelector(_s(o));if(d)return t.state.loading|=4,t.instance=d,it(d),d;r=nm(a),(o=$t.get(o))&&Cu(r,o),d=(e.ownerDocument||e).createElement("link"),it(d);var v=d;return v._p=new Promise(function(b,w){v.onload=b,v.onerror=w}),ht(d,"link",r),t.state.loading|=4,Zi(d,a.precedence,e),t.instance=d;case"script":return d=hr(a.src),(o=e.querySelector(Ss(d)))?(t.instance=o,it(o),o):(r=a,(o=$t.get(d))&&(r=y({},a),Au(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),it(o),ht(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Zi(r,a.precedence,e));return t.instance}function Zi(e,t,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,d=o,v=0;v<r.length;v++){var b=r[v];if(b.dataset.precedence===t)d=b;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Au(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ji=null;function sm(e,t,a){if(Ji===null){var r=new Map,o=Ji=new Map;o.set(a,r)}else o=Ji,r=o.get(a),r||(r=new Map,o.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var d=a[o];if(!(d[Ur]||d[mt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(t)||"";v=e+v;var b=r.get(v);b?b.push(d):r.set(v,[d])}}return r}function im(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function ty(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function lm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ws=null;function ay(){}function ny(e,t,a){if(ws===null)throw Error(l(475));var r=ws;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=fr(a.href),d=e.querySelector(_s(o));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Ii.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=d,it(d);return}d=e.ownerDocument||e,a=nm(a),(o=$t.get(o))&&Cu(a,o),d=d.createElement("link"),it(d);var v=d;v._p=new Promise(function(b,w){v.onload=b,v.onerror=w}),ht(d,"link",a),t.instance=d}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(r.count++,t=Ii.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function ry(){if(ws===null)throw Error(l(475));var e=ws;return e.stylesheets&&e.count===0&&Ou(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Ou(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ii(){if(this.count--,this.count===0){if(this.stylesheets)Ou(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fi=null;function Ou(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fi=new Map,t.forEach(sy,e),Fi=null,Ii.call(e))}function sy(e,t){if(!(t.state.loading&4)){var a=Fi.get(e);if(a)var r=a.get(null);else{a=new Map,Fi.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var v=o[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),r=v)}r&&a.set(null,r)}o=t.instance,v=o.getAttribute("data-precedence"),d=a.get(v)||r,d===r&&a.set(null,o),a.set(v,o),this.count++,r=Ii.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var js={$$typeof:R,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function iy(e,t,a,r,o,d,v,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=El(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=El(0),this.hiddenUpdates=El(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function om(e,t,a,r,o,d,v,b,w,D,Y,Q){return e=new iy(e,t,a,v,b,w,D,Q),t=1,d===!0&&(t|=24),d=Tt(3,null,null,t),e.current=d,d.stateNode=e,t=co(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:r,isDehydrated:a,cache:t},po(d),e}function um(e){return e?(e=Yn,e):Yn}function cm(e,t,a,r,o,d){o=um(o),r.context===null?r.context=o:r.pendingContext=o,r=Ra(t),r.payload={element:a},d=d===void 0?null:d,d!==null&&(r.callback=d),a=ka(e,r,t),a!==null&&(Rt(a,e,t),Wr(a,e,t))}function dm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ru(e,t){dm(e,t),(e=e.alternate)&&dm(e,t)}function fm(e){if(e.tag===13){var t=Gn(e,67108864);t!==null&&Rt(t,e,67108864),Ru(e,67108864)}}var Wi=!0;function ly(e,t,a,r){var o=H.T;H.T=null;var d=te.p;try{te.p=2,ku(e,t,a,r)}finally{te.p=d,H.T=o}}function oy(e,t,a,r){var o=H.T;H.T=null;var d=te.p;try{te.p=8,ku(e,t,a,r)}finally{te.p=d,H.T=o}}function ku(e,t,a,r){if(Wi){var o=Du(r);if(o===null)bu(e,t,r,el,a),mm(e,r);else if(cy(o,e,t,a,r))r.stopPropagation();else if(mm(e,r),t&4&&-1<uy.indexOf(e)){for(;o!==null;){var d=Rn(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=an(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var w=1<<31-We(v);b.entanglements[1]|=w,v&=~w}Ft(d),(Re&6)===0&&(Li=kt()+500,gs(0))}}break;case 13:b=Gn(d,2),b!==null&&Rt(b,d,2),Bi(),Ru(d,2)}if(d=Du(r),d===null&&bu(e,t,r,el,a),d===o)break;o=d}o!==null&&r.stopPropagation()}else bu(e,t,r,null,a)}}function Du(e){return e=Ll(e),Uu(e)}var el=null;function Uu(e){if(el=null,e=On(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return el=e,null}function hm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xl()){case Vs:return 2;case Qs:return 8;case F:case ce:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var Mu=!1,Va=null,Qa=null,Ka=null,xs=new Map,Es=new Map,Xa=[],uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mm(e,t){switch(e){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function Ts(e,t,a,r,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:d,targetContainers:[o]},t!==null&&(t=Rn(t),t!==null&&fm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function cy(e,t,a,r,o){switch(t){case"focusin":return Va=Ts(Va,e,t,a,r,o),!0;case"dragenter":return Qa=Ts(Qa,e,t,a,r,o),!0;case"mouseover":return Ka=Ts(Ka,e,t,a,r,o),!0;case"pointerover":var d=o.pointerId;return xs.set(d,Ts(xs.get(d)||null,e,t,a,r,o)),!0;case"gotpointercapture":return d=o.pointerId,Es.set(d,Ts(Es.get(d)||null,e,t,a,r,o)),!0}return!1}function pm(e){var t=On(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,ng(e.priority,function(){if(a.tag===13){var r=Ot();r=Tl(r);var o=Gn(a,r);o!==null&&Rt(o,a,r),Ru(a,r)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Du(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);zl=r,a.target.dispatchEvent(r),zl=null}else return t=Rn(a),t!==null&&fm(t),e.blockedOn=a,!1;t.shift()}return!0}function gm(e,t,a){tl(e)&&a.delete(t)}function dy(){Mu=!1,Va!==null&&tl(Va)&&(Va=null),Qa!==null&&tl(Qa)&&(Qa=null),Ka!==null&&tl(Ka)&&(Ka=null),xs.forEach(gm),Es.forEach(gm)}function al(e,t){e.blockedOn===t&&(e.blockedOn=null,Mu||(Mu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,dy)))}var nl=null;function vm(e){nl!==e&&(nl=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nl===e&&(nl=null);for(var t=0;t<e.length;t+=3){var a=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Uu(r||a)===null)continue;break}var d=Rn(a);d!==null&&(e.splice(t,3),t-=3,Uo(d,{pending:!0,data:o,method:a.method,action:r},r,o))}}))}function Ns(e){function t(w){return al(w,e)}Va!==null&&al(Va,e),Qa!==null&&al(Qa,e),Ka!==null&&al(Ka,e),xs.forEach(t),Es.forEach(t);for(var a=0;a<Xa.length;a++){var r=Xa[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Xa.length&&(a=Xa[0],a.blockedOn===null);)pm(a),a.blockedOn===null&&Xa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var o=a[r],d=a[r+1],v=o[bt]||null;if(typeof d=="function")v||vm(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(o=d,v=d[bt]||null)b=v.formAction;else if(Uu(o)!==null)continue}else b=v.action;typeof b=="function"?a[r+1]=b:(a.splice(r,3),r-=3),vm(a)}}}function zu(e){this._internalRoot=e}rl.prototype.render=zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,r=Ot();cm(a,r,e,t,null,null)},rl.prototype.unmount=zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cm(e.current,2,null,e,null,null),Bi(),t[An]=null}};function rl(e){this._internalRoot=e}rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Xa.length&&t!==0&&t<Xa[a].priority;a++);Xa.splice(a,0,e),a===0&&pm(e)}};var ym=n.version;if(ym!=="19.1.1")throw Error(l(527,ym,"19.1.1"));te.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var fy={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{Ce=sl.inject(fy),$e=sl}catch{}}return As.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,r="",o=Uf,d=Mf,v=zf,b=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(b=t.unstable_transitionCallbacks)),t=om(e,1,!1,null,null,a,r,o,d,v,b,null),e[An]=t.current,yu(e),new zu(t)},As.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var r=!1,o="",d=Uf,v=Mf,b=zf,w=null,D=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(D=a.formState)),t=om(e,1,!0,t,a??null,r,o,d,v,b,w,D),t.context=um(null),a=t.current,r=Ot(),r=Tl(r),o=Ra(r),o.callback=null,ka(a,o,r),a=r,t.current.lanes=a,Dr(t,a),Ft(t),e[An]=t.current,yu(e),new rl(t)},As.version="19.1.1",As}var Cm;function wy(){if(Cm)return Bu.exports;Cm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Bu.exports=Sy(),Bu.exports}var jy=wy();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Am="popstate";function xy(i={}){function n(l,u){let{pathname:c,search:h,hash:m}=l.location;return ac("",{pathname:c,search:h,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(l,u){return typeof u=="string"?u:zs(u)}return Ty(n,s,null,i)}function Ke(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function ta(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Ey(){return Math.random().toString(36).substring(2,10)}function Om(i,n){return{usr:i.state,key:i.key,idx:n}}function ac(i,n,s=null,l){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof n=="string"?Cr(n):n,state:s,key:n&&n.key||l||Ey()}}function zs({pathname:i="/",search:n="",hash:s=""}){return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(i+=s.charAt(0)==="#"?s:"#"+s),i}function Cr(i){let n={};if(i){let s=i.indexOf("#");s>=0&&(n.hash=i.substring(s),i=i.substring(0,s));let l=i.indexOf("?");l>=0&&(n.search=i.substring(l),i=i.substring(0,l)),i&&(n.pathname=i)}return n}function Ty(i,n,s,l={}){let{window:u=document.defaultView,v5Compat:c=!1}=l,h=u.history,m="POP",p=null,g=y();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function y(){return(h.state||{idx:null}).idx}function _(){m="POP";let x=y(),L=x==null?null:x-g;g=x,p&&p({action:m,location:z.location,delta:L})}function j(x,L){m="PUSH";let A=ac(z.location,x,L);g=y()+1;let R=Om(A,g),P=z.createHref(A);try{h.pushState(R,"",P)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;u.location.assign(P)}c&&p&&p({action:m,location:z.location,delta:1})}function N(x,L){m="REPLACE";let A=ac(z.location,x,L);g=y();let R=Om(A,g),P=z.createHref(A);h.replaceState(R,"",P),c&&p&&p({action:m,location:z.location,delta:0})}function C(x){return Ny(x)}let z={get action(){return m},get location(){return i(u,h)},listen(x){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(Am,_),p=x,()=>{u.removeEventListener(Am,_),p=null}},createHref(x){return n(u,x)},createURL:C,encodeLocation(x){let L=C(x);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:j,replace:N,go(x){return h.go(x)}};return z}function Ny(i,n=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(s,"No window.location.(origin|href) available to create URL");let l=typeof i=="string"?i:zs(i);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function up(i,n,s="/"){return Cy(i,n,s,!1)}function Cy(i,n,s,l){let u=typeof n=="string"?Cr(n):n,c=Ea(u.pathname||"/",s);if(c==null)return null;let h=cp(i);Ay(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Hy(c);m=qy(h[p],g,l)}return m}function cp(i,n=[],s=[],l="",u=!1){let c=(h,m,p=u,g)=>{let y={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(l)&&p)return;Ke(y.relativePath.startsWith(l),`Absolute route path "${y.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(l.length)}let _=ja([l,y.relativePath]),j=s.concat(y);h.children&&h.children.length>0&&(Ke(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),cp(h.children,n,j,_,p)),!(h.path==null&&!h.index)&&n.push({path:_,score:zy(_,h.index),routesMeta:j})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let p of dp(h.path))c(h,m,!0,p)}),n}function dp(i){let n=i.split("/");if(n.length===0)return[];let[s,...l]=n,u=s.endsWith("?"),c=s.replace(/\?$/,"");if(l.length===0)return u?[c,""]:[c];let h=dp(l.join("/")),m=[];return m.push(...h.map(p=>p===""?c:[c,p].join("/"))),u&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Ay(i){i.sort((n,s)=>n.score!==s.score?s.score-n.score:Ly(n.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var Oy=/^:[\w-]+$/,Ry=3,ky=2,Dy=1,Uy=10,My=-2,Rm=i=>i==="*";function zy(i,n){let s=i.split("/"),l=s.length;return s.some(Rm)&&(l+=My),n&&(l+=ky),s.filter(u=>!Rm(u)).reduce((u,c)=>u+(Oy.test(c)?Ry:c===""?Dy:Uy),l)}function Ly(i,n){return i.length===n.length&&i.slice(0,-1).every((l,u)=>l===n[u])?i[i.length-1]-n[n.length-1]:0}function qy(i,n,s=!1){let{routesMeta:l}=i,u={},c="/",h=[];for(let m=0;m<l.length;++m){let p=l[m],g=m===l.length-1,y=c==="/"?n:n.slice(c.length)||"/",_=ml({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),j=p.route;if(!_&&g&&s&&!l[l.length-1].route.index&&(_=ml({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(u,_.params),h.push({params:u,pathname:ja([c,_.pathname]),pathnameBase:Yy(ja([c,_.pathnameBase])),route:j}),_.pathnameBase!=="/"&&(c=ja([c,_.pathnameBase]))}return h}function ml(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,l]=By(i.path,i.caseSensitive,i.end),u=n.match(s);if(!u)return null;let c=u[0],h=c.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:l.reduce((g,{paramName:y,isOptional:_},j)=>{if(y==="*"){let C=m[j]||"";h=c.slice(0,c.length-C.length).replace(/(.)\/+$/,"$1")}const N=m[j];return _&&!N?g[y]=void 0:g[y]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:h,pattern:i}}function By(i,n=!1,s=!0){ta(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let l=[],u="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(l.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(l.push({paramName:"*"}),u+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?u+="\\/*$":i!==""&&i!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),l]}function Hy(i){try{return i.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ta(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),i}}function Ea(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,l=i.charAt(s);return l&&l!=="/"?null:i.slice(s)||"/"}function $y(i,n="/"){let{pathname:s,search:l="",hash:u=""}=typeof i=="string"?Cr(i):i;return{pathname:s?s.startsWith("/")?s:Py(s,n):n,search:Vy(l),hash:Qy(u)}}function Py(i,n){let s=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(u=>{u===".."?s.length>1&&s.pop():u!=="."&&s.push(u)}),s.length>1?s.join("/"):"/"}function Gu(i,n,s,l){return`Cannot include a '${i}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gy(i){return i.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function fp(i){let n=Gy(i);return n.map((s,l)=>l===n.length-1?s.pathname:s.pathnameBase)}function hp(i,n,s,l=!1){let u;typeof i=="string"?u=Cr(i):(u={...i},Ke(!u.pathname||!u.pathname.includes("?"),Gu("?","pathname","search",u)),Ke(!u.pathname||!u.pathname.includes("#"),Gu("#","pathname","hash",u)),Ke(!u.search||!u.search.includes("#"),Gu("#","search","hash",u)));let c=i===""||u.pathname==="",h=c?"/":u.pathname,m;if(h==null)m=s;else{let _=n.length-1;if(!l&&h.startsWith("..")){let j=h.split("/");for(;j[0]==="..";)j.shift(),_-=1;u.pathname=j.join("/")}m=_>=0?n[_]:"/"}let p=$y(u,m),g=h&&h!=="/"&&h.endsWith("/"),y=(c||h===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var ja=i=>i.join("/").replace(/\/\/+/g,"/"),Yy=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Vy=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Qy=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Ky(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var mp=["POST","PUT","PATCH","DELETE"];new Set(mp);var Xy=["GET",...mp];new Set(Xy);var Ar=S.createContext(null);Ar.displayName="DataRouter";var _l=S.createContext(null);_l.displayName="DataRouterState";S.createContext(!1);var pp=S.createContext({isTransitioning:!1});pp.displayName="ViewTransition";var Zy=S.createContext(new Map);Zy.displayName="Fetchers";var Jy=S.createContext(null);Jy.displayName="Await";var aa=S.createContext(null);aa.displayName="Navigation";var qs=S.createContext(null);qs.displayName="Location";var na=S.createContext({outlet:null,matches:[],isDataRoute:!1});na.displayName="Route";var gc=S.createContext(null);gc.displayName="RouteError";function Iy(i,{relative:n}={}){Ke(Bs(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=S.useContext(aa),{hash:u,pathname:c,search:h}=Hs(i,{relative:n}),m=c;return s!=="/"&&(m=c==="/"?s:ja([s,c])),l.createHref({pathname:m,search:h,hash:u})}function Bs(){return S.useContext(qs)!=null}function Tn(){return Ke(Bs(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(qs).location}var gp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vp(i){S.useContext(aa).static||S.useLayoutEffect(i)}function en(){let{isDataRoute:i}=S.useContext(na);return i?d0():Fy()}function Fy(){Ke(Bs(),"useNavigate() may be used only in the context of a <Router> component.");let i=S.useContext(Ar),{basename:n,navigator:s}=S.useContext(aa),{matches:l}=S.useContext(na),{pathname:u}=Tn(),c=JSON.stringify(fp(l)),h=S.useRef(!1);return vp(()=>{h.current=!0}),S.useCallback((p,g={})=>{if(ta(h.current,gp),!h.current)return;if(typeof p=="number"){s.go(p);return}let y=hp(p,JSON.parse(c),u,g.relative==="path");i==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:ja([n,y.pathname])),(g.replace?s.replace:s.push)(y,g.state,g)},[n,s,c,u,i])}S.createContext(null);function Wy(){let{matches:i}=S.useContext(na),n=i[i.length-1];return n?n.params:{}}function Hs(i,{relative:n}={}){let{matches:s}=S.useContext(na),{pathname:l}=Tn(),u=JSON.stringify(fp(s));return S.useMemo(()=>hp(i,JSON.parse(u),l,n==="path"),[i,u,l,n])}function e0(i,n){return yp(i,n)}function yp(i,n,s,l,u){Ke(Bs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=S.useContext(aa),{matches:h}=S.useContext(na),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",y=m?m.pathnameBase:"/",_=m&&m.route;{let A=_&&_.path||"";bp(g,!_||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let j=Tn(),N;if(n){let A=typeof n=="string"?Cr(n):n;Ke(y==="/"||A.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${A.pathname}" was given in the \`location\` prop.`),N=A}else N=j;let C=N.pathname||"/",z=C;if(y!=="/"){let A=y.replace(/^\//,"").split("/");z="/"+C.replace(/^\//,"").split("/").slice(A.length).join("/")}let x=up(i,{pathname:z});ta(_||x!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ta(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=s0(x&&x.map(A=>Object.assign({},A,{params:Object.assign({},p,A.params),pathname:ja([y,c.encodeLocation?c.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?y:ja([y,c.encodeLocation?c.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),h,s,l,u);return n&&L?S.createElement(qs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},L):L}function t0(){let i=c0(),n=Ky(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:c},"ErrorBoundary")," or"," ",S.createElement("code",{style:c},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},n),s?S.createElement("pre",{style:u},s):null,h)}var a0=S.createElement(t0,null),n0=class extends S.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,n){return n.location!==i.location||n.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:n.error,location:n.location,revalidation:i.revalidation||n.revalidation}}componentDidCatch(i,n){this.props.unstable_onError?this.props.unstable_onError(i,n):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?S.createElement(na.Provider,{value:this.props.routeContext},S.createElement(gc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r0({routeContext:i,match:n,children:s}){let l=S.useContext(Ar);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(na.Provider,{value:i},s)}function s0(i,n=[],s=null,l=null,u=null){if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let c=i,h=s?.errors;if(h!=null){let g=c.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);Ke(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let m=!1,p=-1;if(s)for(let g=0;g<c.length;g++){let y=c[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:_,errors:j}=s,N=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!j||j[y.route.id]===void 0);if(y.route.lazy||N){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((g,y,_)=>{let j,N=!1,C=null,z=null;s&&(j=h&&y.route.id?h[y.route.id]:void 0,C=y.route.errorElement||a0,m&&(p<0&&_===0?(bp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,z=null):p===_&&(N=!0,z=y.route.hydrateFallbackElement||null)));let x=n.concat(c.slice(0,_+1)),L=()=>{let A;return j?A=C:N?A=z:y.route.Component?A=S.createElement(y.route.Component,null):y.route.element?A=y.route.element:A=g,S.createElement(r0,{match:y,routeContext:{outlet:g,matches:x,isDataRoute:s!=null},children:A})};return s&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?S.createElement(n0,{location:s.location,revalidation:s.revalidation,component:C,error:j,children:L(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:l}):L()},null)}function vc(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i0(i){let n=S.useContext(Ar);return Ke(n,vc(i)),n}function l0(i){let n=S.useContext(_l);return Ke(n,vc(i)),n}function o0(i){let n=S.useContext(na);return Ke(n,vc(i)),n}function yc(i){let n=o0(i),s=n.matches[n.matches.length-1];return Ke(s.route.id,`${i} can only be used on routes that contain a unique "id"`),s.route.id}function u0(){return yc("useRouteId")}function c0(){let i=S.useContext(gc),n=l0("useRouteError"),s=yc("useRouteError");return i!==void 0?i:n.errors?.[s]}function d0(){let{router:i}=i0("useNavigate"),n=yc("useNavigate"),s=S.useRef(!1);return vp(()=>{s.current=!0}),S.useCallback(async(u,c={})=>{ta(s.current,gp),s.current&&(typeof u=="number"?i.navigate(u):await i.navigate(u,{fromRouteId:n,...c}))},[i,n])}var km={};function bp(i,n,s){!n&&!km[i]&&(km[i]=!0,ta(!1,s))}S.memo(f0);function f0({routes:i,future:n,state:s,unstable_onError:l}){return yp(i,void 0,s,l,n)}function xr(i){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h0({basename:i="/",children:n=null,location:s,navigationType:l="POP",navigator:u,static:c=!1}){Ke(!Bs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=S.useMemo(()=>({basename:h,navigator:u,static:c,future:{}}),[h,u,c]);typeof s=="string"&&(s=Cr(s));let{pathname:p="/",search:g="",hash:y="",state:_=null,key:j="default"}=s,N=S.useMemo(()=>{let C=Ea(p,h);return C==null?null:{location:{pathname:C,search:g,hash:y,state:_,key:j},navigationType:l}},[h,p,g,y,_,j,l]);return ta(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:S.createElement(aa.Provider,{value:m},S.createElement(qs.Provider,{children:n,value:N}))}function m0({children:i,location:n}){return e0(nc(i),n)}function nc(i,n=[]){let s=[];return S.Children.forEach(i,(l,u)=>{if(!S.isValidElement(l))return;let c=[...n,u];if(l.type===S.Fragment){s.push.apply(s,nc(l.props.children,c));return}Ke(l.type===xr,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!l.props.index||!l.props.children,"An index route cannot have child routes.");let h={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(h.children=nc(l.props.children,c)),s.push(h)}),s}var fl="get",hl="application/x-www-form-urlencoded";function Sl(i){return i!=null&&typeof i.tagName=="string"}function p0(i){return Sl(i)&&i.tagName.toLowerCase()==="button"}function g0(i){return Sl(i)&&i.tagName.toLowerCase()==="form"}function v0(i){return Sl(i)&&i.tagName.toLowerCase()==="input"}function y0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function b0(i,n){return i.button===0&&(!n||n==="_self")&&!y0(i)}var il=null;function _0(){if(il===null)try{new FormData(document.createElement("form"),0),il=!1}catch{il=!0}return il}var S0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yu(i){return i!=null&&!S0.has(i)?(ta(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hl}"`),null):i}function w0(i,n){let s,l,u,c,h;if(g0(i)){let m=i.getAttribute("action");l=m?Ea(m,n):null,s=i.getAttribute("method")||fl,u=Yu(i.getAttribute("enctype"))||hl,c=new FormData(i)}else if(p0(i)||v0(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(l=p?Ea(p,n):null,s=i.getAttribute("formmethod")||m.getAttribute("method")||fl,u=Yu(i.getAttribute("formenctype"))||Yu(m.getAttribute("enctype"))||hl,c=new FormData(m,i),!_0()){let{name:g,type:y,value:_}=i;if(y==="image"){let j=g?`${g}.`:"";c.append(`${j}x`,"0"),c.append(`${j}y`,"0")}else g&&c.append(g,_)}}else{if(Sl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=fl,l=null,u=hl,h=i}return c&&u==="text/plain"&&(h=c,c=void 0),{action:l,method:s.toLowerCase(),encType:u,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bc(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function j0(i,n,s){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return l.pathname==="/"?l.pathname=`_root.${s}`:n&&Ea(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function x0(i,n){if(i.id in n)return n[i.id];try{let s=await import(i.module);return n[i.id]=s,s}catch(s){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E0(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function T0(i,n,s){let l=await Promise.all(i.map(async u=>{let c=n.routes[u.route.id];if(c){let h=await x0(c,s);return h.links?h.links():[]}return[]}));return O0(l.flat(1).filter(E0).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Dm(i,n,s,l,u,c){let h=(p,g)=>s[g]?p.route.id!==s[g].route.id:!0,m=(p,g)=>s[g].pathname!==p.pathname||s[g].route.path?.endsWith("*")&&s[g].params["*"]!==p.params["*"];return c==="assets"?n.filter((p,g)=>h(p,g)||m(p,g)):c==="data"?n.filter((p,g)=>{let y=l.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function N0(i,n,{includeHydrateFallback:s}={}){return C0(i.map(l=>{let u=n.routes[l.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),s&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function C0(i){return[...new Set(i)]}function A0(i){let n={},s=Object.keys(i).sort();for(let l of s)n[l]=i[l];return n}function O0(i,n){let s=new Set;return new Set(n),i.reduce((l,u)=>{let c=JSON.stringify(A0(u));return s.has(c)||(s.add(c),l.push({key:c,link:u})),l},[])}function _p(){let i=S.useContext(Ar);return bc(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function R0(){let i=S.useContext(_l);return bc(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var _c=S.createContext(void 0);_c.displayName="FrameworkContext";function Sp(){let i=S.useContext(_c);return bc(i,"You must render this element inside a <HydratedRouter> element"),i}function k0(i,n){let s=S.useContext(_c),[l,u]=S.useState(!1),[c,h]=S.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=n,j=S.useRef(null);S.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=L=>{L.forEach(A=>{h(A.isIntersecting)})},x=new IntersectionObserver(z,{threshold:.5});return j.current&&x.observe(j.current),()=>{x.disconnect()}}},[i]),S.useEffect(()=>{if(l){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[l]);let N=()=>{u(!0)},C=()=>{u(!1),h(!1)};return s?i!=="intent"?[c,j,{}]:[c,j,{onFocus:Os(m,N),onBlur:Os(p,C),onMouseEnter:Os(g,N),onMouseLeave:Os(y,C),onTouchStart:Os(_,N)}]:[!1,j,{}]}function Os(i,n){return s=>{i&&i(s),s.defaultPrevented||n(s)}}function D0({page:i,...n}){let{router:s}=_p(),l=S.useMemo(()=>up(s.routes,i,s.basename),[s.routes,i,s.basename]);return l?S.createElement(M0,{page:i,matches:l,...n}):null}function U0(i){let{manifest:n,routeModules:s}=Sp(),[l,u]=S.useState([]);return S.useEffect(()=>{let c=!1;return T0(i,n,s).then(h=>{c||u(h)}),()=>{c=!0}},[i,n,s]),l}function M0({page:i,matches:n,...s}){let l=Tn(),{manifest:u,routeModules:c}=Sp(),{basename:h}=_p(),{loaderData:m,matches:p}=R0(),g=S.useMemo(()=>Dm(i,n,p,u,l,"data"),[i,n,p,u,l]),y=S.useMemo(()=>Dm(i,n,p,u,l,"assets"),[i,n,p,u,l]),_=S.useMemo(()=>{if(i===l.pathname+l.search+l.hash)return[];let C=new Set,z=!1;if(n.forEach(L=>{let A=u.routes[L.route.id];!A||!A.hasLoader||(!g.some(R=>R.route.id===L.route.id)&&L.route.id in m&&c[L.route.id]?.shouldRevalidate||A.hasClientLoader?z=!0:C.add(L.route.id))}),C.size===0)return[];let x=j0(i,h,"data");return z&&C.size>0&&x.searchParams.set("_routes",n.filter(L=>C.has(L.route.id)).map(L=>L.route.id).join(",")),[x.pathname+x.search]},[h,m,l,u,g,n,i,c]),j=S.useMemo(()=>N0(y,u),[y,u]),N=U0(y);return S.createElement(S.Fragment,null,_.map(C=>S.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...s})),j.map(C=>S.createElement("link",{key:C,rel:"modulepreload",href:C,...s})),N.map(({key:C,link:z})=>S.createElement("link",{key:C,nonce:s.nonce,...z})))}function z0(...i){return n=>{i.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var wp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wp&&(window.__reactRouterVersion="7.8.2")}catch{}function L0({basename:i,children:n,window:s}){let l=S.useRef();l.current==null&&(l.current=xy({window:s,v5Compat:!0}));let u=l.current,[c,h]=S.useState({action:u.action,location:u.location}),m=S.useCallback(p=>{S.startTransition(()=>h(p))},[h]);return S.useLayoutEffect(()=>u.listen(m),[u,m]),S.createElement(h0,{basename:i,children:n,location:c.location,navigationType:c.action,navigator:u})}var jp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ks=S.forwardRef(function({onClick:n,discover:s="render",prefetch:l="none",relative:u,reloadDocument:c,replace:h,state:m,target:p,to:g,preventScrollReset:y,viewTransition:_,...j},N){let{basename:C}=S.useContext(aa),z=typeof g=="string"&&jp.test(g),x,L=!1;if(typeof g=="string"&&z&&(x=g,wp))try{let ee=new URL(window.location.href),ue=g.startsWith("//")?new URL(ee.protocol+g):new URL(g),ae=Ea(ue.pathname,C);ue.origin===ee.origin&&ae!=null?g=ae+ue.search+ue.hash:L=!0}catch{ta(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=Iy(g,{relative:u}),[R,P,J]=k0(l,j),G=$0(g,{replace:h,state:m,target:p,preventScrollReset:y,relative:u,viewTransition:_});function X(ee){n&&n(ee),ee.defaultPrevented||G(ee)}let W=S.createElement("a",{...j,...J,href:x||A,onClick:L||c?n:X,ref:z0(N,P),target:p,"data-discover":!z&&s==="render"?"true":void 0});return R&&!z?S.createElement(S.Fragment,null,W,S.createElement(D0,{page:A})):W});ks.displayName="Link";var q0=S.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:l="",end:u=!1,style:c,to:h,viewTransition:m,children:p,...g},y){let _=Hs(h,{relative:g.relative}),j=Tn(),N=S.useContext(_l),{navigator:C,basename:z}=S.useContext(aa),x=N!=null&&Q0(_)&&m===!0,L=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,A=j.pathname,R=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;s||(A=A.toLowerCase(),R=R?R.toLowerCase():null,L=L.toLowerCase()),R&&z&&(R=Ea(R,z)||R);const P=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let J=A===L||!u&&A.startsWith(L)&&A.charAt(P)==="/",G=R!=null&&(R===L||!u&&R.startsWith(L)&&R.charAt(L.length)==="/"),X={isActive:J,isPending:G,isTransitioning:x},W=J?n:void 0,ee;typeof l=="function"?ee=l(X):ee=[l,J?"active":null,G?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let ue=typeof c=="function"?c(X):c;return S.createElement(ks,{...g,"aria-current":W,className:ee,ref:y,style:ue,to:h,viewTransition:m},typeof p=="function"?p(X):p)});q0.displayName="NavLink";var B0=S.forwardRef(({discover:i="render",fetcherKey:n,navigate:s,reloadDocument:l,replace:u,state:c,method:h=fl,action:m,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:_,...j},N)=>{let C=Y0(),z=V0(m,{relative:g}),x=h.toLowerCase()==="get"?"get":"post",L=typeof m=="string"&&jp.test(m),A=R=>{if(p&&p(R),R.defaultPrevented)return;R.preventDefault();let P=R.nativeEvent.submitter,J=P?.getAttribute("formmethod")||h;C(P||R.currentTarget,{fetcherKey:n,method:J,navigate:s,replace:u,state:c,relative:g,preventScrollReset:y,viewTransition:_})};return S.createElement("form",{ref:N,method:x,action:z,onSubmit:l?p:A,...j,"data-discover":!L&&i==="render"?"true":void 0})});B0.displayName="Form";function H0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xp(i){let n=S.useContext(Ar);return Ke(n,H0(i)),n}function $0(i,{target:n,replace:s,state:l,preventScrollReset:u,relative:c,viewTransition:h}={}){let m=en(),p=Tn(),g=Hs(i,{relative:c});return S.useCallback(y=>{if(b0(y,n)){y.preventDefault();let _=s!==void 0?s:zs(p)===zs(g);m(i,{replace:_,state:l,preventScrollReset:u,relative:c,viewTransition:h})}},[p,m,g,s,l,n,i,u,c,h])}var P0=0,G0=()=>`__${String(++P0)}__`;function Y0(){let{router:i}=xp("useSubmit"),{basename:n}=S.useContext(aa),s=u0();return S.useCallback(async(l,u={})=>{let{action:c,method:h,encType:m,formData:p,body:g}=w0(l,n);if(u.navigate===!1){let y=u.fetcherKey||G0();await i.fetch(y,s,u.action||c,{preventScrollReset:u.preventScrollReset,formData:p,body:g,formMethod:u.method||h,formEncType:u.encType||m,flushSync:u.flushSync})}else await i.navigate(u.action||c,{preventScrollReset:u.preventScrollReset,formData:p,body:g,formMethod:u.method||h,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:s,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,n,s])}function V0(i,{relative:n}={}){let{basename:s}=S.useContext(aa),l=S.useContext(na);Ke(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),c={...Hs(i||".",{relative:n})},h=Tn();if(i==null){c.search=h.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(y=>y==="")){m.delete("index"),p.filter(_=>_).forEach(_=>m.append("index",_));let y=m.toString();c.search=y?`?${y}`:""}}return(!i||i===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:ja([s,c.pathname])),zs(c)}function Q0(i,{relative:n}={}){let s=S.useContext(pp);Ke(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=xp("useViewTransitionState"),u=Hs(i,{relative:n});if(!s.isTransitioning)return!1;let c=Ea(s.currentLocation.pathname,l)||s.currentLocation.pathname,h=Ea(s.nextLocation.pathname,l)||s.nextLocation.pathname;return ml(u.pathname,h)!=null||ml(u.pathname,c)!=null}var K0=op();const X0="modulepreload",Z0=function(i){return"/Marketplace/"+i},Um={},$s=function(n,s,l){let u=Promise.resolve();if(s&&s.length>0){let g=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};var h=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");u=g(s.map(y=>{if(y=Z0(y),y in Um)return;Um[y]=!0;const _=y.endsWith(".css"),j=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${j}`))return;const N=document.createElement("link");if(N.rel=_?"stylesheet":X0,_||(N.as="script"),N.crossOrigin="",N.href=y,p&&N.setAttribute("nonce",p),document.head.appendChild(N),_)return new Promise((C,z)=>{N.addEventListener("load",C),N.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return u.then(m=>{for(const p of m||[])p.status==="rejected"&&c(p.reason);return n().catch(c)})},J0=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...s)=>$s(async()=>{const{default:l}=await Promise.resolve().then(()=>Or);return{default:l}},[]).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)};class Sc extends Error{constructor(n,s="FunctionsError",l){super(n),this.name=s,this.context=l}}class I0 extends Sc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Mm extends Sc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class zm extends Sc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var rc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(rc||(rc={}));var F0=function(i,n,s,l){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(y){try{g(l.next(y))}catch(_){h(_)}}function p(y){try{g(l.throw(y))}catch(_){h(_)}}function g(y){y.done?c(y.value):u(y.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};class W0{constructor(n,{headers:s={},customFetch:l,region:u=rc.Any}={}){this.url=n,this.headers=s,this.region=u,this.fetch=J0(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var l;return F0(this,void 0,void 0,function*(){try{const{headers:u,method:c,body:h}=s;let m={},{region:p}=s;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(m["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let y;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",y=h):typeof h=="string"?(m["Content-Type"]="text/plain",y=h):typeof FormData<"u"&&h instanceof FormData?y=h:(m["Content-Type"]="application/json",y=JSON.stringify(h)));const _=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),u),body:y}).catch(z=>{throw new I0(z)}),j=_.headers.get("x-relay-error");if(j&&j==="true")throw new Mm(_);if(!_.ok)throw new zm(_);let N=((l=_.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),C;return N==="application/json"?C=yield _.json():N==="application/octet-stream"?C=yield _.blob():N==="text/event-stream"?C=_:N==="multipart/form-data"?C=yield _.formData():C=yield _.text(),{data:C,error:null,response:_}}catch(u){return{data:null,error:u,response:u instanceof zm||u instanceof Mm?u.context:void 0}}})}}var ct={},mr={},pr={},gr={},vr={},yr={},eb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nr=eb();const tb=Nr.fetch,Ep=Nr.fetch.bind(Nr),Tp=Nr.Headers,ab=Nr.Request,nb=Nr.Response,Or=Object.freeze(Object.defineProperty({__proto__:null,Headers:Tp,Request:ab,Response:nb,default:Ep,fetch:tb},Symbol.toStringTag,{value:"Module"})),rb=my(Or);var ll={},Lm;function Np(){if(Lm)return ll;Lm=1,Object.defineProperty(ll,"__esModule",{value:!0});class i extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ll.default=i,ll}var qm;function Cp(){if(qm)return yr;qm=1;var i=yr&&yr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(yr,"__esModule",{value:!0});const n=i(rb),s=i(Np());class l{constructor(c){var h,m;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(h=c.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=c.signal,this.isMaybeSingle=(m=c.isMaybeSingle)!==null&&m!==void 0?m:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,h){return this.headers=new Headers(this.headers),this.headers.set(c,h),this}then(c,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let p=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,_,j,N;let C=null,z=null,x=null,L=g.status,A=g.statusText;if(g.ok){if(this.method!=="HEAD"){const G=await g.text();G===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?z=G:z=JSON.parse(G))}const P=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),J=(j=g.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");P&&J&&J.length>1&&(x=parseInt(J[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(z)&&(z.length>1?(C={code:"PGRST116",details:`Results contain ${z.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},z=null,x=null,L=406,A="Not Acceptable"):z.length===1?z=z[0]:z=null)}else{const P=await g.text();try{C=JSON.parse(P),Array.isArray(C)&&g.status===404&&(z=[],C=null,L=200,A="OK")}catch{g.status===404&&P===""?(L=204,A="No Content"):C={message:P}}if(C&&this.isMaybeSingle&&(!((N=C?.details)===null||N===void 0)&&N.includes("0 rows"))&&(C=null,L=200,A="OK"),C&&this.shouldThrowOnError)throw new s.default(C)}return{error:C,data:z,count:x,status:L,statusText:A}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,_,j;return{error:{message:`${(y=g?.name)!==null&&y!==void 0?y:"FetchError"}: ${g?.message}`,details:`${(_=g?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(j=g?.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,h)}returns(){return this}overrideTypes(){return this}}return yr.default=l,yr}var Bm;function Ap(){if(Bm)return vr;Bm=1;var i=vr&&vr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(vr,"__esModule",{value:!0});const n=i(Cp());class s extends n.default{select(u){let c=!1;const h=(u??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:h,foreignTable:m,referencedTable:p=m}={}){const g=p?`${p}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${u}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:h=c}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${u}`),this}range(u,c,{foreignTable:h,referencedTable:m=h}={}){const p=typeof m>"u"?"offset":`${m}.offset`,g=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${u}`),this.url.searchParams.set(g,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:h=!1,buffers:m=!1,wal:p=!1,format:g="text"}={}){var y;const _=[u?"analyze":null,c?"verbose":null,h?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),j=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${j}"; options=${_};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return vr.default=s,vr}var Hm;function wc(){if(Hm)return gr;Hm=1;var i=gr&&gr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(gr,"__esModule",{value:!0});const n=i(Ap());class s extends n.default{eq(u,c){return this.url.searchParams.append(u,`eq.${c}`),this}neq(u,c){return this.url.searchParams.append(u,`neq.${c}`),this}gt(u,c){return this.url.searchParams.append(u,`gt.${c}`),this}gte(u,c){return this.url.searchParams.append(u,`gte.${c}`),this}lt(u,c){return this.url.searchParams.append(u,`lt.${c}`),this}lte(u,c){return this.url.searchParams.append(u,`lte.${c}`),this}like(u,c){return this.url.searchParams.append(u,`like.${c}`),this}likeAllOf(u,c){return this.url.searchParams.append(u,`like(all).{${c.join(",")}}`),this}likeAnyOf(u,c){return this.url.searchParams.append(u,`like(any).{${c.join(",")}}`),this}ilike(u,c){return this.url.searchParams.append(u,`ilike.${c}`),this}ilikeAllOf(u,c){return this.url.searchParams.append(u,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(u,c){return this.url.searchParams.append(u,`ilike(any).{${c.join(",")}}`),this}is(u,c){return this.url.searchParams.append(u,`is.${c}`),this}in(u,c){const h=Array.from(new Set(c)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(u,`in.(${h})`),this}contains(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cs.{${c.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(c)}`),this}containedBy(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cd.{${c.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(c)}`),this}rangeGt(u,c){return this.url.searchParams.append(u,`sr.${c}`),this}rangeGte(u,c){return this.url.searchParams.append(u,`nxl.${c}`),this}rangeLt(u,c){return this.url.searchParams.append(u,`sl.${c}`),this}rangeLte(u,c){return this.url.searchParams.append(u,`nxr.${c}`),this}rangeAdjacent(u,c){return this.url.searchParams.append(u,`adj.${c}`),this}overlaps(u,c){return typeof c=="string"?this.url.searchParams.append(u,`ov.${c}`):this.url.searchParams.append(u,`ov.{${c.join(",")}}`),this}textSearch(u,c,{config:h,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const g=h===void 0?"":`(${h})`;return this.url.searchParams.append(u,`${p}fts${g}.${c}`),this}match(u){return Object.entries(u).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(u,c,h){return this.url.searchParams.append(u,`not.${c}.${h}`),this}or(u,{foreignTable:c,referencedTable:h=c}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${u})`),this}filter(u,c,h){return this.url.searchParams.append(u,`${c}.${h}`),this}}return gr.default=s,gr}var $m;function Op(){if($m)return pr;$m=1;var i=pr&&pr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(pr,"__esModule",{value:!0});const n=i(wc());class s{constructor(u,{headers:c={},schema:h,fetch:m}){this.url=u,this.headers=new Headers(c),this.schema=h,this.fetch=m}select(u,{head:c=!1,count:h}={}){const m=c?"HEAD":"GET";let p=!1;const g=(u??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",g),h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:h=!0}={}){var m;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const g=u.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(g.length>0){const y=[...new Set(g)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:h=!1,count:m,defaultToNull:p=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),m&&this.headers.append("Prefer",`count=${m}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const _=u.reduce((j,N)=>j.concat(Object.keys(N)),[]);if(_.length>0){const j=[...new Set(_)].map(N=>`"${N}"`);this.url.searchParams.set("columns",j.join(","))}}return new n.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(u,{count:c}={}){var h;const m="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:u}={}){var c;const h="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return pr.default=s,pr}var Pm;function sb(){if(Pm)return mr;Pm=1;var i=mr&&mr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(mr,"__esModule",{value:!0});const n=i(Op()),s=i(wc());class l{constructor(c,{headers:h={},schema:m,fetch:p}={}){this.url=c,this.headers=new Headers(h),this.schemaName=m,this.fetch=p}from(c){const h=new URL(`${this.url}/${c}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new l(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:m=!1,get:p=!1,count:g}={}){var y;let _;const j=new URL(`${this.url}/rpc/${c}`);let N;m||p?(_=m?"HEAD":"GET",Object.entries(h).filter(([z,x])=>x!==void 0).map(([z,x])=>[z,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([z,x])=>{j.searchParams.append(z,x)})):(_="POST",N=h);const C=new Headers(this.headers);return g&&C.set("Prefer",`count=${g}`),new s.default({method:_,url:j,headers:C,schema:this.schemaName,body:N,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return mr.default=l,mr}var Gm;function ib(){if(Gm)return ct;Gm=1;var i=ct&&ct.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(ct,"__esModule",{value:!0}),ct.PostgrestError=ct.PostgrestBuilder=ct.PostgrestTransformBuilder=ct.PostgrestFilterBuilder=ct.PostgrestQueryBuilder=ct.PostgrestClient=void 0;const n=i(sb());ct.PostgrestClient=n.default;const s=i(Op());ct.PostgrestQueryBuilder=s.default;const l=i(wc());ct.PostgrestFilterBuilder=l.default;const u=i(Ap());ct.PostgrestTransformBuilder=u.default;const c=i(Cp());ct.PostgrestBuilder=c.default;const h=i(Np());return ct.PostgrestError=h.default,ct.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:h.default},ct}var lb=ib();const ob=lp(lb),{PostgrestClient:ub,PostgrestQueryBuilder:QS,PostgrestFilterBuilder:KS,PostgrestTransformBuilder:XS,PostgrestBuilder:ZS,PostgrestError:JS}=ob;class cb{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const l=s.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const l=this.getWebSocketConstructor();return new l(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const db="2.15.5",fb=`realtime-js/${db}`,hb="1.0.0",sc=1e4,mb=1e3,pb=100;var Ds;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Ds||(Ds={}));var rt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(rt||(rt={}));var Kt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Kt||(Kt={}));var ic;(function(i){i.websocket="websocket"})(ic||(ic={}));var xn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(xn||(xn={}));class gb{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),l=new TextDecoder;return this._decodeBroadcast(n,s,l)}_decodeBroadcast(n,s,l){const u=s.getUint8(1),c=s.getUint8(2);let h=this.HEADER_LENGTH+2;const m=l.decode(n.slice(h,h+u));h=h+u;const p=l.decode(n.slice(h,h+c));h=h+c;const g=JSON.parse(l.decode(n.slice(h,n.byteLength)));return{ref:null,topic:m,event:p,payload:g}}}class Rp{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ge||(Ge={}));const Ym=(i,n,s={})=>{var l;const u=(l=s.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(n).reduce((c,h)=>(c[h]=vb(h,i,n,u),c),{})},vb=(i,n,s,l)=>{const u=n.find(m=>m.name===i),c=u?.type,h=s[i];return c&&!l.includes(c)?kp(c,h):lc(h)},kp=(i,n)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return Sb(n,s)}switch(i){case Ge.bool:return yb(n);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return bb(n);case Ge.json:case Ge.jsonb:return _b(n);case Ge.timestamp:return wb(n);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return lc(n);default:return lc(n)}},lc=i=>i,yb=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},bb=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},_b=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},Sb=(i,n)=>{if(typeof i!="string")return i;const s=i.length-1,l=i[s];if(i[0]==="{"&&l==="}"){let c;const h=i.slice(1,s);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(m=>kp(n,m))}return i},wb=i=>typeof i=="string"?i.replace(" ","T"):i,Dp=i=>{let n=i;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Vu{constructor(n,s,l={},u=sc){this.channel=n,this.event=s,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var l;return this._hasReceived(n)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Vm;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Vm||(Vm={}));class Us{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Us.syncState(this.state,u,c,h),this.pendingDiffs.forEach(p=>{this.state=Us.syncDiff(this.state,p,c,h)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Us.syncDiff(this.state,u,c,h),m())}),this.onJoin((u,c,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:h})}),this.onLeave((u,c,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,l,u){const c=this.cloneDeep(n),h=this.transformState(s),m={},p={};return this.map(c,(g,y)=>{h[g]||(p[g]=y)}),this.map(h,(g,y)=>{const _=c[g];if(_){const j=y.map(x=>x.presence_ref),N=_.map(x=>x.presence_ref),C=y.filter(x=>N.indexOf(x.presence_ref)<0),z=_.filter(x=>j.indexOf(x.presence_ref)<0);C.length>0&&(m[g]=C),z.length>0&&(p[g]=z)}else m[g]=y}),this.syncDiff(c,{joins:m,leaves:p},l,u)}static syncDiff(n,s,l,u){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(c,(m,p)=>{var g;const y=(g=n[m])!==null&&g!==void 0?g:[];if(n[m]=this.cloneDeep(p),y.length>0){const _=n[m].map(N=>N.presence_ref),j=y.filter(N=>_.indexOf(N.presence_ref)<0);n[m].unshift(...j)}l(m,y,p)}),this.map(h,(m,p)=>{let g=n[m];if(!g)return;const y=p.map(_=>_.presence_ref);g=g.filter(_=>y.indexOf(_.presence_ref)<0),n[m]=g,u(m,g,p),g.length===0&&delete n[m]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(l=>s(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,l)=>{const u=n[l];return"metas"in u?s[l]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[l]=u,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qm;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Qm||(Qm={}));var Ms;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ms||(Ms={}));var Sa;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Sa||(Sa={}));class jc{constructor(n,s={config:{}},l){this.topic=n,this.params=s,this.socket=l,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Vu(this,Kt.join,this.params,this.timeout),this.rejoinTimer=new Rp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kt.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new Us(this),this.broadcastEndpointURL=Dp(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var l,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:h,presence:m,private:p}}=this.params,g=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(N=>N.filter))!==null&&u!==void 0?u:[],y=!!this.bindings[Ms.PRESENCE]&&this.bindings[Ms.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,_={},j={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(N=>n?.(Sa.CHANNEL_ERROR,N)),this._onClose(()=>n?.(Sa.CLOSED)),this.updateJoinPayload(Object.assign({config:j},_)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:N})=>{var C;if(this.socket.setAuth(),N===void 0){n?.(Sa.SUBSCRIBED);return}else{const z=this.bindings.postgres_changes,x=(C=z?.length)!==null&&C!==void 0?C:0,L=[];for(let A=0;A<x;A++){const R=z[A],{filter:{event:P,schema:J,table:G,filter:X}}=R,W=N&&N[A];if(W&&W.event===P&&W.schema===J&&W.table===G&&W.filter===X)L.push(Object.assign(Object.assign({},R),{id:W.id}));else{this.unsubscribe(),this.state=rt.errored,n?.(Sa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,n&&n(Sa.SUBSCRIBED);return}}).receive("error",N=>{this.state=rt.errored,n?.(Sa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{n?.(Sa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,l){return this.state===rt.joined&&n===Ms.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,l)}async send(n,s={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){const{event:c,payload:h}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=g.body)===null||u===void 0?void 0:u.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,m,p;const g=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=rt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new Vu(this,Kt.leave,{},n),l.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(n,s,l){const u=new AbortController,c=setTimeout(()=>u.abort(),l),h=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),h}_push(n,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Vu(this,n,s,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>pb){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,l){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,l){var u,c;const h=n.toLocaleLowerCase(),{close:m,error:p,leave:g,join:y}=Kt;if(l&&[m,p,g,y].indexOf(h)>=0&&l!==this._joinRef())return;let j=this._onMessage(h,s,l);if(s&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(N=>{var C,z,x;return((C=N.filter)===null||C===void 0?void 0:C.event)==="*"||((x=(z=N.filter)===null||z===void 0?void 0:z.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===h}).map(N=>N.callback(j,l)):(c=this.bindings[h])===null||c===void 0||c.filter(N=>{var C,z,x,L,A,R;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in N){const P=N.id,J=(C=N.filter)===null||C===void 0?void 0:C.event;return P&&((z=s.ids)===null||z===void 0?void 0:z.includes(P))&&(J==="*"||J?.toLocaleLowerCase()===((x=s.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const P=(A=(L=N?.filter)===null||L===void 0?void 0:L.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return P==="*"||P===((R=s?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===h}).map(N=>{if(typeof j=="object"&&"ids"in j){const C=j.data,{schema:z,table:x,commit_timestamp:L,type:A,errors:R}=C;j=Object.assign(Object.assign({},{schema:z,table:x,commit_timestamp:L,eventType:A,new:{},old:{},errors:R}),this._getPayloadRecords(C))}N.callback(j,l)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,l){const u=n.toLocaleLowerCase(),c={type:u,filter:s,callback:l};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(n,s){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&jc.isEqual(u.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const l in n)if(n[l]!==s[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Kt.close,{},n)}_onError(n){this._on(Kt.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=Ym(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=Ym(n.columns,n.old_record)),s}}const Qu=()=>{},ol={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jb=[1e3,2e3,5e3,1e4],xb=1e4,Eb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tb{constructor(n,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sc,this.transport=null,this.heartbeatIntervalMs=ol.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qu,this.ref=0,this.reconnectTimer=null,this.logger=Qu,this.conn=null,this.sendBuffer=[],this.serializer=new gb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let c;return u?c=u:typeof fetch>"u"?c=(...h)=>$s(async()=>{const{default:m}=await Promise.resolve().then(()=>Or);return{default:m}},void 0).then(({default:m})=>m(...h)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...h)=>c(...h)},!(!((l=s?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${ic.websocket}`,this.httpEndpoint=Dp(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cb.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hb}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},n?this.conn.close(n,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,l){this.logger(n,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ds.connecting:return xn.Connecting;case Ds.open:return xn.Open;case Ds.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const l=`realtime:${n}`,u=this.getChannels().find(c=>c.topic===l);if(u)return u;{const c=new jc(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:l,payload:u,ref:c}=n,h=()=>{this.encode(n,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${s} ${l} (${c})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(mb,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ol.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:c,ref:h}=s,m=h?`(${h})`:"",p=c.status||"";this.log("receive",`${p} ${l} ${u} ${m}`.trim(),c),this.channels.filter(g=>g._isMember(l)).forEach(g=>g._trigger(u,c,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Kt.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${n}${l}${u}`}_workerObjectUrl(n){let s;if(n)s=n;else{const l=new Blob([Eb],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const u={access_token:s,version:fb};s&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(Kt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(s)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Rp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ol.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,l,u,c,h,m,p,g,y;if(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:sc,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:ol.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=n?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=n?.heartbeatCallback)!==null&&m!==void 0?m:Qu,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:(_=>jb[_-1]||xb),this.encode=(g=n?.encode)!==null&&g!==void 0?g:((_,j)=>j(JSON.stringify(_))),this.decode=(y=n?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class xc extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function st(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class Nb extends xc{constructor(n,s,l){super(n),this.name="StorageApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oc extends xc{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var Cb=function(i,n,s,l){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(y){try{g(l.next(y))}catch(_){h(_)}}function p(y){try{g(l.throw(y))}catch(_){h(_)}}function g(y){y.done?c(y.value):u(y.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};const Up=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...s)=>$s(async()=>{const{default:l}=await Promise.resolve().then(()=>Or);return{default:l}},void 0).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)},Ab=()=>Cb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $s(()=>Promise.resolve().then(()=>Or),void 0)).Response:Response}),uc=i=>{if(Array.isArray(i))return i.map(s=>uc(s));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([s,l])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[u]=uc(l)}),n},Ob=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)};var Nn=function(i,n,s,l){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(y){try{g(l.next(y))}catch(_){h(_)}}function p(y){try{g(l.throw(y))}catch(_){h(_)}}function g(y){y.done?c(y.value):u(y.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};const Ku=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Rb=(i,n,s)=>Nn(void 0,void 0,void 0,function*(){const l=yield Ab();i instanceof l&&!s?.noResolveJson?i.json().then(u=>{const c=i.status||500,h=u?.statusCode||c+"";n(new Nb(Ku(u),c,h))}).catch(u=>{n(new oc(Ku(u),u))}):n(new oc(Ku(i),i))}),kb=(i,n,s,l)=>{const u={method:i,headers:n?.headers||{}};return i==="GET"||!l?u:(Ob(l)?(u.headers=Object.assign({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,n?.duplex&&(u.duplex=n.duplex),Object.assign(Object.assign({},u),s))};function Ps(i,n,s,l,u,c){return Nn(this,void 0,void 0,function*(){return new Promise((h,m)=>{i(s,kb(n,l,u,c)).then(p=>{if(!p.ok)throw p;return l?.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>Rb(p,m,l))})})}function pl(i,n,s,l){return Nn(this,void 0,void 0,function*(){return Ps(i,"GET",n,s,l)})}function Wt(i,n,s,l,u){return Nn(this,void 0,void 0,function*(){return Ps(i,"POST",n,l,u,s)})}function cc(i,n,s,l,u){return Nn(this,void 0,void 0,function*(){return Ps(i,"PUT",n,l,u,s)})}function Db(i,n,s,l){return Nn(this,void 0,void 0,function*(){return Ps(i,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function Mp(i,n,s,l,u){return Nn(this,void 0,void 0,function*(){return Ps(i,"DELETE",n,l,u,s)})}var yt=function(i,n,s,l){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(y){try{g(l.next(y))}catch(_){h(_)}}function p(y){try{g(l.throw(y))}catch(_){h(_)}}function g(y){y.done?c(y.value):u(y.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};const Ub={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Km={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mb{constructor(n,s={},l,u){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=l,this.fetch=Up(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,l,u){return yt(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},Km),u);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&l instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",l)):typeof FormData<"u"&&l instanceof FormData?(c=l,c.append("cacheControl",h.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=l,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),u?.headers&&(m=Object.assign(Object.assign({},m),u.headers));const g=this._removeEmptyFolders(s),y=this._getFinalPath(g),_=yield(n=="PUT"?cc:Wt)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:g,id:_.Id,fullPath:_.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(st(c))return{data:null,error:c};throw c}})}upload(n,s,l){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,l)})}uploadToSignedUrl(n,s,l,u){return yt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",s);try{let p;const g=Object.assign({upsert:Km.upsert},u),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",g.cacheControl)):(p=l,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const _=yield cc(this.fetch,m.toString(),p,{headers:y});return{data:{path:c,fullPath:_.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(st(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,s){return yt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const u=Object.assign({},this.headers);s?.upsert&&(u["x-upsert"]="true");const c=yield Wt(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),h=new URL(this.url+c.url),m=h.searchParams.get("token");if(!m)throw new xc("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:m},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}update(n,s,l){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,l)})}move(n,s,l){return yt(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(st(u))return{data:null,error:u};throw u}})}copy(n,s,l){return yt(this,void 0,void 0,function*(){try{return{data:{path:(yield Wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(st(u))return{data:null,error:u};throw u}})}createSignedUrl(n,s,l){return yt(this,void 0,void 0,function*(){try{let u=this._getFinalPath(n),c=yield Wt(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:s},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(st(u))return{data:null,error:u};throw u}})}createSignedUrls(n,s,l){return yt(this,void 0,void 0,function*(){try{const u=yield Wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(st(u))return{data:null,error:u};throw u}})}download(n,s){return yt(this,void 0,void 0,function*(){const u=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),h=c?`?${c}`:"";try{const m=this._getFinalPath(n);return{data:yield(yield pl(this.fetch,`${this.url}/${u}/${m}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(st(m))return{data:null,error:m};throw m}})}info(n){return yt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const l=yield pl(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:uc(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}exists(n){return yt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Db(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l)&&l instanceof oc){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,s){const l=this._getFinalPath(n),u=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&u.push(c);const m=typeof s?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(s?.transform||{});p!==""&&u.push(p);let g=u.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${g}`)}}}remove(n){return yt(this,void 0,void 0,function*(){try{return{data:yield Mp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}list(n,s,l){return yt(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},Ub),s),{prefix:n||""});return{data:yield Wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(st(u))return{data:null,error:u};throw u}})}listV2(n,s){return yt(this,void 0,void 0,function*(){try{const l=Object.assign({},n);return{data:yield Wt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const zb="2.12.1",Lb={"X-Client-Info":`storage-js/${zb}`};var br=function(i,n,s,l){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(y){try{g(l.next(y))}catch(_){h(_)}}function p(y){try{g(l.throw(y))}catch(_){h(_)}}function g(y){y.done?c(y.value):u(y.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};class qb{constructor(n,s={},l,u){this.shouldThrowOnError=!1;const c=new URL(n);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},Lb),s),this.fetch=Up(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return br(this,void 0,void 0,function*(){try{return{data:yield pl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}getBucket(n){return br(this,void 0,void 0,function*(){try{return{data:yield pl(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return br(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}updateBucket(n,s){return br(this,void 0,void 0,function*(){try{return{data:yield cc(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}emptyBucket(n){return br(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}deleteBucket(n){return br(this,void 0,void 0,function*(){try{return{data:yield Mp(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}}class Bb extends qb{constructor(n,s={},l,u){super(n,s,l,u)}from(n){return new Mb(this.url,this.headers,n,this.fetch)}}const Hb="2.57.4";let Rs="";typeof Deno<"u"?Rs="deno":typeof document<"u"?Rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rs="react-native":Rs="node";const $b={"X-Client-Info":`supabase-js-${Rs}/${Hb}`},Pb={headers:$b},Gb={schema:"public"},Yb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vb={};var Qb=function(i,n,s,l){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(y){try{g(l.next(y))}catch(_){h(_)}}function p(y){try{g(l.throw(y))}catch(_){h(_)}}function g(y){y.done?c(y.value):u(y.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};const Kb=i=>{let n;return i?n=i:typeof fetch>"u"?n=Ep:n=fetch,(...s)=>n(...s)},Xb=()=>typeof Headers>"u"?Tp:Headers,Zb=(i,n,s)=>{const l=Kb(s),u=Xb();return(c,h)=>Qb(void 0,void 0,void 0,function*(){var m;const p=(m=yield n())!==null&&m!==void 0?m:i;let g=new u(h?.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),l(c,Object.assign(Object.assign({},h),{headers:g}))})};var Jb=function(i,n,s,l){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(y){try{g(l.next(y))}catch(_){h(_)}}function p(y){try{g(l.throw(y))}catch(_){h(_)}}function g(y){y.done?c(y.value):u(y.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};function Ib(i){return i.endsWith("/")?i:i+"/"}function Fb(i,n){var s,l;const{db:u,auth:c,realtime:h,global:m}=i,{db:p,auth:g,realtime:y,global:_}=n,j={db:Object.assign(Object.assign({},p),u),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},y),h),storage:{},global:Object.assign(Object.assign(Object.assign({},_),m),{headers:Object.assign(Object.assign({},(s=_?.headers)!==null&&s!==void 0?s:{}),(l=m?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>Jb(this,void 0,void 0,function*(){return""})};return i.accessToken?j.accessToken=i.accessToken:delete j.accessToken,j}function Wb(i){const n=i?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ib(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const zp="2.71.1",Er=30*1e3,dc=3,Xu=dc*Er,e_="http://localhost:9999",t_="supabase.auth.token",a_={"X-Client-Info":`gotrue-js/${zp}`},fc="X-Supabase-Api-Version",Lp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},n_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,r_=600*1e3;class Ec extends Error{constructor(n,s,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function ve(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class s_ extends Ec{constructor(n,s,l){super(n,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function i_(i){return ve(i)&&i.name==="AuthApiError"}class qp extends Ec{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class tn extends Ec{constructor(n,s,l,u){super(n,l,u),this.name=s,this.status=l}}class Ia extends tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function l_(i){return ve(i)&&i.name==="AuthSessionMissingError"}class ul extends tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cl extends tn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class dl extends tn{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function o_(i){return ve(i)&&i.name==="AuthImplicitGrantRedirectError"}class Xm extends tn{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hc extends tn{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Zu(i){return ve(i)&&i.name==="AuthRetryableFetchError"}class Zm extends tn{constructor(n,s,l){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class mc extends tn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const gl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jm=` 	
\r=`.split(""),u_=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<Jm.length;n+=1)i[Jm[n].charCodeAt(0)]=-2;for(let n=0;n<gl.length;n+=1)i[gl[n].charCodeAt(0)]=n;return i})();function Im(i,n,s){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(gl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(gl[l]),n.queuedBits-=6}}function Bp(i,n,s){const l=u_[i];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Fm(i){const n=[],s=h=>{n.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=h=>{f_(h,l,s)};for(let h=0;h<i.length;h+=1)Bp(i.charCodeAt(h),u,c);return n.join("")}function c_(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function d_(i,n){for(let s=0;s<i.length;s+=1){let l=i.charCodeAt(s);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(i.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}c_(l,n)}}function f_(i,n,s){if(n.utf8seq===0){if(i<=127){s(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function h_(i){const n=[],s={queue:0,queuedBits:0},l=u=>{n.push(u)};for(let u=0;u<i.length;u+=1)Bp(i.charCodeAt(u),s,l);return new Uint8Array(n)}function m_(i){const n=[];return d_(i,s=>n.push(s)),new Uint8Array(n)}function p_(i){const n=[],s={queue:0,queuedBits:0},l=u=>{n.push(u)};return i.forEach(u=>Im(u,s,l)),Im(null,s,l),n.join("")}function g_(i){return Math.round(Date.now()/1e3)+i}function v_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const n=Math.random()*16|0;return(i=="x"?n:n&3|8).toString(16)})}const Qt=()=>typeof window<"u"&&typeof document<"u",Sn={tested:!1,writable:!1},Hp=()=>{if(!Qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sn.tested)return Sn.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Sn.tested=!0,Sn.writable=!0}catch{Sn.tested=!0,Sn.writable=!1}return Sn.writable};function y_(i){const n={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{n[c]=u})}catch{}return s.searchParams.forEach((l,u)=>{n[u]=l}),n}const $p=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...s)=>$s(async()=>{const{default:l}=await Promise.resolve().then(()=>Or);return{default:l}},void 0).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)},b_=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Tr=async(i,n,s)=>{await i.setItem(n,JSON.stringify(s))},wn=async(i,n)=>{const s=await i.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ja=async(i,n)=>{await i.removeItem(n)};class wl{constructor(){this.promise=new wl.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}wl.promiseConstructor=Promise;function Ju(i){const n=i.split(".");if(n.length!==3)throw new mc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!n_.test(n[l]))throw new mc("JWT not in base64url format");return{header:JSON.parse(Fm(n[0])),payload:JSON.parse(Fm(n[1])),signature:h_(n[2]),raw:{header:n[0],payload:n[1]}}}async function __(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function S_(i,n){return new Promise((l,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await i(c);if(!n(c,null,h)){l(h);return}}catch(h){if(!n(c,h)){u(h);return}}})()})}function w_(i){return("0"+i.toString(16)).substr(-2)}function j_(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,w_).join("")}async function x_(i){const s=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(l);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function E_(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await x_(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _r(i,n,s=!1){const l=j_();let u=l;s&&(u+="/PASSWORD_RECOVERY"),await Tr(i,`${n}-code-verifier`,u);const c=await E_(l);return[c,l===c?"plain":"s256"]}const T_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function N_(i){const n=i.headers.get(fc);if(!n||!n.match(T_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function C_(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function A_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const O_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sr(i){if(!O_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Iu(){const i={};return new Proxy(i,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wm(i){return JSON.parse(JSON.stringify(i))}var R_=function(i,n){var s={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(s[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(s[l[u]]=i[l[u]]);return s};const jn=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),k_=[502,503,504];async function ep(i){var n;if(!b_(i))throw new hc(jn(i),0);if(k_.includes(i.status))throw new hc(jn(i),i.status);let s;try{s=await i.json()}catch(c){throw new qp(jn(c),c)}let l;const u=N_(i);if(u&&u.getTime()>=Lp["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Zm(jn(s),i.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Ia}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Zm(jn(s),i.status,s.weak_password.reasons);throw new s_(jn(s),i.status||500,l)}const D_=(i,n,s,l)=>{const u={method:i,headers:n?.headers||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),s))};async function xe(i,n,s,l){var u;const c=Object.assign({},l?.headers);c[fc]||(c[fc]=Lp["2024-01-01"].name),l?.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const h=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await U_(i,n,s+m,{headers:c,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(p):{data:Object.assign({},p),error:null}}async function U_(i,n,s,l,u,c){const h=D_(n,l,u,c);let m;try{m=await i(s,Object.assign({},h))}catch(p){throw console.error(p),new hc(jn(p),0)}if(m.ok||await ep(m),l?.noResolveJson)return m;try{return await m.json()}catch(p){await ep(p)}}function _a(i){var n;let s=null;q_(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=g_(i.expires_in)));const l=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:s,user:l},error:null}}function tp(i){const n=_a(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(n.data.weak_password=i.weak_password),n}function Fa(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function M_(i){return{data:i,error:null}}function z_(i){const{action_link:n,email_otp:s,hashed_token:l,redirect_to:u,verification_type:c}=i,h=R_(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:s,hashed_token:l,redirect_to:u,verification_type:c},p=Object.assign({},h);return{data:{properties:m,user:p},error:null}}function L_(i){return i}function q_(i){return i.access_token&&i.refresh_token&&i.expires_in}const Fu=["global","local","others"];var B_=function(i,n){var s={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(s[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(s[l[u]]=i[l[u]]);return s};class H_{constructor({url:n="",headers:s={},fetch:l}){this.url=n,this.headers=s,this.fetch=$p(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=Fu[0]){if(Fu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fu.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ve(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,s={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Fa})}catch(l){if(ve(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:s}=n,l=B_(n,["options"]),u=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:z_,redirectTo:s?.redirectTo})}catch(s){if(ve(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Fa})}catch(s){if(ve(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,l,u,c,h,m,p;try{const g={nextPage:null,lastPage:0,total:0},y=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:L_});if(y.error)throw y.error;const _=await y.json(),j=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,N=(p=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return N.length>0&&(N.forEach(C=>{const z=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(C.split(";")[1].split("=")[1]);g[`${x}Page`]=z}),g.total=parseInt(j)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ve(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){Sr(n);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Fa})}catch(s){if(ve(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){Sr(n);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:Fa})}catch(l){if(ve(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,s=!1){Sr(n);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:Fa})}catch(l){if(ve(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){Sr(n.userId);try{const{data:s,error:l}=await xe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:l}}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _deleteFactor(n){Sr(n.userId),Sr(n.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}}}function ap(i={}){return{getItem:n=>i[n]||null,setItem:(n,s)=>{i[n]=s},removeItem:n=>{delete i[n]}}}function $_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wr={debug:!!(globalThis&&Hp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pp extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class P_ extends Pp{}async function G_(i,n,s){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await s()}finally{wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(n===0)throw wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new P_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(wr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}$_();const Y_={url:e_,storageKey:t_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function np(i,n,s){return await s()}const jr={};class Ls{constructor(n){var s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ls.nextInstanceID,Ls.nextInstanceID+=1,this.instanceID>0&&Qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},Y_),n);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new H_({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=$p(u.fetch),this.lock=u.lock||np,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:Qt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=G_:this.lock=np,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Hp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ap(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=ap(this.memoryStorage)),Qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var n,s;return(s=(n=jr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=jr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zp}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=y_(window.location.href);let l="none";if(this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce"),Qt()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),o_(c)){const p=(n=c.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ve(s)?{error:s}:{error:new qp("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,l,u;try{const c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:_a}),{data:h,error:m}=c;if(m||!h)return{data:{user:null,session:null},error:m};const p=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(ve(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(n){var s,l,u;try{let c;if("email"in n){const{email:y,password:_,options:j}=n;let N=null,C=null;this.flowType==="pkce"&&([N,C]=await _r(this.storage,this.storageKey)),c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:y,password:_,data:(s=j?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:N,code_challenge_method:C},xform:_a})}else if("phone"in n){const{phone:y,password:_,options:j}=n;c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(l=j?.data)!==null&&l!==void 0?l:{},channel:(u=j?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:_a})}else throw new cl("You must provide either an email or phone number and a password");const{data:h,error:m}=c;if(m||!h)return{data:{user:null,session:null},error:m};const p=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(ve(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:h,options:m}=n;s=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:tp})}else if("phone"in n){const{phone:c,password:h,options:m}=n;s=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:tp})}else throw new cl("You must provide either an email or phone number and a password");const{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ul}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,l,u,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,l,u,c,h,m,p,g,y,_,j,N;let C,z;if("message"in n)C=n.message,z=n.signature;else{const{chain:x,wallet:L,statement:A,options:R}=n;let P;if(Qt())if(typeof L=="object")P=L;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))P=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=L}const J=new URL((s=R?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in P&&P.signIn){const G=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),A?{statement:A}:null));let X;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")X=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)X=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)C=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),z=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${J.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(u=(l=R?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=R?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((m=R?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((g=R?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((_=(y=R?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...R.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const G=await P.signMessage(new TextEncoder().encode(C),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");z=G}}try{const{data:x,error:L}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:p_(z)},!((j=n.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(N=n.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:_a});if(L)throw L;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new ul}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:L})}catch(x){if(ve(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(n){const s=await wn(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(s??"").split("/");try{const{data:c,error:h}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:_a});if(await Ja(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new ul}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:h})}catch(c){if(ve(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(n){try{const{options:s,provider:l,token:u,access_token:c,nonce:h}=n,m=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:_a}),{data:p,error:g}=m;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new ul}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,l,u,c,h;try{if("email"in n){const{email:m,options:p}=n;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await _r(this.storage,this.storageKey));const{error:_}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in n){const{phone:m,options:p}=n,{data:g,error:y}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=p?.data)!==null&&u!==void 0?u:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(h=p?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:y}}throw new cl("You must provide either an email or phone number.")}catch(m){if(ve(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(n){var s,l;try{let u,c;"options"in n&&(u=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:m}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:_a});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,g=h.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(u){if(ve(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(n){var s,l,u;try{let c=null,h=null;return this.flowType==="pkce"&&([c,h]=await _r(this.storage,this.storageKey)),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:M_})}catch(c){if(ve(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;if(l)throw l;if(!s)throw new Ia;const{error:u}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:u}})}catch(n){if(ve(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:c}=n,{error:h}=await xe(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in n){const{phone:l,type:u,options:c}=n,{data:h,error:m}=await xe(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new cl("You must provide either an email or phone number and a type")}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await wn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Xu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const h=await wn(this.userStorage,this.storageKey+"-user");h?.user?n.user=h.user:n.user=Iu()}if(this.storage.isServer&&n.user){let h=this.suppressGetSessionWarning;n=new Proxy(n,{get:(p,g,y)=>(!h&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,y))})}return{data:{session:n},error:null}}const{session:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{session:null},error:c}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Fa}):await this._useSession(async s=>{var l,u,c;const{data:h,error:m}=s;if(m)throw m;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ia}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:Fa})})}catch(s){if(ve(s))return l_(s)&&(await this._removeSession(),await Ja(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async l=>{const{data:u,error:c}=l;if(c)throw c;if(!u.session)throw new Ia;const h=u.session;let m=null,p=null;this.flowType==="pkce"&&n.email!=null&&([m,p]=await _r(this.storage,this.storageKey));const{data:g,error:y}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:Fa});if(y)throw y;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(l){if(ve(l))return{data:{user:null},error:l};throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ia;const s=Date.now()/1e3;let l=s,u=!0,c=null;const{payload:h}=Ju(n.access_token);if(h.exp&&(l=h.exp,u=l<=s),u){const{session:m,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:p}=await this._getUser(n.access_token);if(p)throw p;c={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(ve(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var l;if(!n){const{data:h,error:m}=s;if(m)throw m;n=(l=h.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Ia;const{session:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{user:null,session:null},error:c}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!Qt())throw new dl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new dl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Xm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dl("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Xm("No code detected.");const{data:A,error:R}=await this._exchangeCodeForSession(n.code);if(R)throw R;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:c,refresh_token:h,expires_in:m,expires_at:p,token_type:g}=n;if(!c||!m||!h||!g)throw new dl("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(m);let j=y+_;p&&(j=parseInt(p));const N=j-y;N*1e3<=Er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${_}s`);const C=j-_;y-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,j,y):y-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,j,y);const{data:z,error:x}=await this._getUser(c);if(x)throw x;const L={provider_token:l,provider_refresh_token:u,access_token:c,expires_in:_,expires_at:j,refresh_token:h,token_type:g,user:z.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:n.type},error:null}}catch(l){if(ve(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await wn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return{error:c};const h=(l=u.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:m}=await this.admin.signOut(h,n);if(m&&!(i_(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return n!=="others"&&(await this._removeSession(),await Ja(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=v_(),l={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async s=>{var l,u;try{const{data:{session:c},error:h}=s;if(h)throw h;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await _r(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(ve(c))return{data:null,error:c};throw c}}async getUserIdentities(){var n;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:l,error:u}=await this._useSession(async c=>{var h,m,p,g,y;const{data:_,error:j}=c;if(j)throw j;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",N,{headers:this.headers,jwt:(y=(g=_.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(u)throw u;return Qt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:n.provider,url:l?.url},error:null}}catch(l){if(ve(l))return{data:{provider:n.provider,url:null},error:l};throw l}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var l,u;const{data:c,error:h}=s;if(h)throw h;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await S_(async u=>(u>0&&await __(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:_a})),(u,c)=>{const h=200*Math.pow(2,u);return c&&Zu(c)&&Date.now()+h-l<Er})}catch(l){if(this._debug(s,"error",l),ve(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",l),Qt()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await wn(this.storage,this.storageKey);if(u&&this.userStorage){let h=await wn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await Tr(this.userStorage,this.storageKey+"-user",h)),u.user=(n=h?.user)!==null&&n!==void 0?n:Iu()}else if(u&&!u.user&&!u.user){const h=await wn(this.storage,this.storageKey+"-user");h&&h?.user?(u.user=h.user,await Ja(this.storage,this.storageKey+"-user"),await Tr(this.storage,this.storageKey,u)):u.user=Iu()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const c=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Xu;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${Xu}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Zu(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(u.access_token);!m&&h?.user?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var s,l;if(!n)throw new Ia;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new wl;const{data:c,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!c.session)throw new Ia;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={session:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(u,"error",c),ve(c)){const h={session:null,error:c};return Zu(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,s,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,s)}catch(p){c.push(p)}});if(await Promise.all(h),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await Tr(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const c=Wm(u);await Tr(this.storage,this.storageKey,c)}else{const u=Wm(s);await Tr(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Ja(this.storage,this.storageKey),await Ja(this.storage,this.storageKey+"-code-verifier"),await Ja(this.storage,this.storageKey+"-user"),this.userStorage&&await Ja(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Qt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Er);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/Er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Er}ms, refresh threshold is ${dc} ticks`),u<=dc&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Pp)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,l){const u=[`provider=${encodeURIComponent(s)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,h]=await _r(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(m.toString())}if(l?.queryParams){const c=new URLSearchParams(l.queryParams);u.push(c.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;return c?{data:null,error:c}:await xe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var l,u;const{data:c,error:h}=s;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:p,error:g}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return g?{data:null,error:g}:(n.factorType==="totp"&&(!((u=p?.totp)===null||u===void 0)&&u.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(s){if(ve(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return{data:null,error:c};const{data:h,error:m}=await xe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(s){if(ve(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;return c?{data:null,error:c}:await xe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(ve(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:l}=await this._challenge({factorId:n.factorId});return l?{data:null,error:l}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const l=n?.factors||[],u=l.filter(h=>h.factor_type==="totp"&&h.status==="verified"),c=l.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:l,totp:u,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,l;const{data:{session:u},error:c}=n;if(c)return{data:null,error:c};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Ju(u.access_token);let m=null;h.aal&&(m=h.aal);let p=m;((l=(s=u.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const y=h.amr||[];return{data:{currentLevel:m,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(n,s={keys:[]}){let l=s.keys.find(m=>m.kid===n);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(m=>m.kid===n),l&&this.jwks_cached_at+r_>u)return l;const{data:c,error:h}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,l=c.keys.find(m=>m.kid===n),!l)?null:l}async getClaims(n,s={}){try{let l=n;if(!l){const{data:N,error:C}=await this.getSession();if(C||!N.session)return{data:null,error:C};l=N.session.access_token}const{header:u,payload:c,signature:h,raw:{header:m,payload:p}}=Ju(l);s?.allowExpired||C_(c.exp);const g=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!g){const{error:N}=await this.getUser(l);if(N)throw N;return{data:{claims:c,header:u,signature:h},error:null}}const y=A_(u.alg),_=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,h,m_(`${m}.${p}`)))throw new mc("Invalid JWT signature");return{data:{claims:c,header:u,signature:h},error:null}}catch(l){if(ve(l))return{data:null,error:l};throw l}}}Ls.nextInstanceID=0;const V_=Ls;class Q_ extends V_{constructor(n){super(n)}}var K_=function(i,n,s,l){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(y){try{g(l.next(y))}catch(_){h(_)}}function p(y){try{g(l.throw(y))}catch(_){h(_)}}function g(y){y.done?c(y.value):u(y.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};class X_{constructor(n,s,l){var u,c,h;this.supabaseUrl=n,this.supabaseKey=s;const m=Wb(n);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:Gb,realtime:Vb,auth:Object.assign(Object.assign({},Yb),{storageKey:p}),global:Pb},y=Fb(l??{},g);this.storageKey=(u=y.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(_,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=y.auth)!==null&&h!==void 0?h:{},this.headers,y.global.fetch),this.fetch=Zb(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new ub(new URL("rest/v1",m).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Bb(this.storageUrl.href,this.headers,this.fetch,l?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new W0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},l={}){return this.rest.rpc(n,s,l)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return K_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(s=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:u,userStorage:c,storageKey:h,flowType:m,lock:p,debug:g},y,_){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q_({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),y),storageKey:h,autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:u,userStorage:c,flowType:m,lock:p,debug:g,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Tb(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,l)=>{this._handleTokenChanged(s,"CLIENT",l?.access_token)})}_handleTokenChanged(n,s,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Z_=(i,n,s)=>new X_(i,n,s);function J_(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const n=i.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}J_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const I_="https://fyfxetvbjltqbuljpddq.supabase.co",F_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ5ZnhldHZiamx0cWJ1bGpwZGRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5MTMzOTgsImV4cCI6MjA3OTQ4OTM5OH0.5EVEDAy3AkEKvu0nXfhsGWSSMBsrkejV4FhM42rnoHs",oe=Z_(I_,F_,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}}),En={async signUp(i,n,s){const{data:l,error:u}=await oe.auth.signUp({email:i,password:n,options:{data:{fullname:s}}});return{data:l,error:u}},async signIn(i,n){const{data:s,error:l}=await oe.auth.signInWithPassword({email:i,password:n});return{data:s,error:l}},async signOut(){const{error:i}=await oe.auth.signOut();return{error:i}},async getUser(){const{data:{user:i},error:n}=await oe.auth.getUser();return n?(console.error("Erro ao buscar usurio:",n),null):i},onAuthStateChange(i){const{data:{subscription:n}}=oe.auth.onAuthStateChange(i);return n}},Wu={async getProfile(i){const{data:n,error:s}=await oe.from("users").select("*").eq("id",i).single();return{data:n,error:s}},async updateProfile(i,n){const{data:s,error:l}=await oe.from("users").update(n).eq("id",i).select();return{data:s,error:l}},async checkEmailExists(i){const{data:n,error:s}=await oe.from("users").select("email").eq("email",i).single();return{exists:!!n,error:s}}},Gp=S.createContext({}),Tc=()=>{const i=S.useContext(Gp);if(!i)throw new Error("useAuth deve ser usado dentro de AuthProvider");return i},W_=({children:i})=>{const[n,s]=S.useState(null),[l,u]=S.useState(null),[c,h]=S.useState(!0),[m,p]=S.useState(null),g=()=>{s(null),u(null),p(null)};S.useEffect(()=>{let z=!0;(async()=>{try{const A=await En.getUser();if(!z)return;if(A){s(A);try{const R=Wu.getProfile(A.id),P=new Promise((X,W)=>setTimeout(()=>W(new Error("Timeout ao buscar perfil")),5e3)),{data:J,error:G}=await Promise.race([R,P]);if(!z)return;G||J&&u(J)}catch{}}else g()}catch{z&&(p("Erro ao verificar autenticao"),g())}finally{z&&h(!1)}})();const L=En.onAuthStateChange(async(A,R)=>{if(z)try{R?.user?(s(R.user),p(null),h(!1),setTimeout(async()=>{try{const{data:P,error:J}=await Wu.getProfile(R.user.id);!J&&P&&z&&u(P)}catch{}},100)):(g(),h(!1))}catch(P){console.error("Erro na mudana de auth:",P),z&&(h(!1),g())}});return()=>{z=!1,L&&typeof L.unsubscribe=="function"&&L.unsubscribe()}},[]);const C={user:n,userProfile:l,loading:c,error:m,signUp:async(z,x,L)=>{try{h(!0),p(null);const{data:A,error:R}=await En.signUp(z,x,L);if(R)throw R;return{data:A,error:null}}catch(A){return p(A.message),{data:null,error:A.message}}finally{h(!1)}},signIn:async(z,x)=>{try{h(!0),p(null);const{data:L,error:A}=await En.signIn(z,x);if(A)throw A;return{data:L,error:null}}catch(L){return p(L.message),{data:null,error:L.message}}finally{h(!1)}},signOut:async()=>{try{h(!0);const{error:z}=await En.signOut();if(z)throw z;g()}catch(z){p(z.message)}finally{h(!1)}},updateProfile:async z=>{try{if(!n)throw new Error("Usurio no autenticado");const{data:x,error:L}=await Wu.updateProfile(n.id,z);if(L)throw L;return x&&x[0]&&u(x[0]),{data:x,error:null}}catch(x){return p(x.message),{data:null,error:x.message}}},isAuthenticated:!!n};return f.jsx(Gp.Provider,{value:C,children:i})};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tS=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,l)=>l?l.toUpperCase():s.toLowerCase()),rp=i=>{const n=tS(i);return n.charAt(0).toUpperCase()+n.slice(1)},Yp=(...i)=>i.filter((n,s,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===s).join(" ").trim(),aS=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=S.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:u="",children:c,iconNode:h,...m},p)=>S.createElement("svg",{ref:p,...nS,width:n,height:n,stroke:i,strokeWidth:l?Number(s)*24/Number(n):s,className:Yp("lucide",u),...!c&&!aS(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,y])=>S.createElement(g,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=(i,n)=>{const s=S.forwardRef(({className:l,...u},c)=>S.createElement(rS,{ref:c,iconNode:n,className:Yp(`lucide-${eS(rp(i))}`,`lucide-${i}`,l),...u}));return s.displayName=rp(i),s};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],iS=Cn("eye-off",sS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oS=Cn("eye",lS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],cS=Cn("loader",uS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ec=Cn("search",dS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],hS=Cn("shopping-cart",fS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pS=Cn("user",mS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nc=Cn("x",gS),Vp={async searchCatalog(i,n={}){const{limit:s=20}=n;if(!i||i.trim().length<2)return{produtos:[],error:null};try{const{data:l,error:u}=await oe.from("products").select("id, name, description, category, subcategory, images").or(`name.ilike.%${i}%,category.ilike.%${i}%,subcategory.ilike.%${i}%,description.ilike.%${i}%`).limit(s);if(u)throw u;return{produtos:l||[],error:null}}catch(l){return console.error("Erro busca catlogo:",l),{produtos:[],error:"Erro ao buscar catlogo"}}},async search(i,n={}){const{limit:s=10,offset:l=0}=n;if(!i||i.trim().length<2)return{produtos:[],lojas:[],error:"Termo deve ter no mnimo 2 caracteres"};try{const{data:u,error:c}=await oe.from("products").select(`
        id,
        name,
        description,
        category,
        subcategory,
        images,
        product_listings (
          id,
          price,
          stock,
          is_active,
          store_id,
          stores (
            id,
            name,
            is_approved
          )
        )
      `).or(`name.ilike.%${i}%,category.ilike.%${i}%,description.ilike.%${i}%`).limit(s);u&&u.length>0;const{data:h,error:m}=await oe.from("stores").select("id, name, category, description, email, phone").eq("is_approved",!0).or(`name.ilike.%${i}%,category.ilike.%${i}%`).limit(s);c&&console.error("Erro busca produtos:",c),m&&console.error("Erro busca lojas:",m);let p=this._formatarProdutos(u||[]),g=h||[];p=p.slice(l,l+s),g=g.slice(l,l+s);const y=g.filter(_=>!p.some(j=>j.name.toLowerCase()===_.name.toLowerCase()));return{produtos:p,lojas:y,total:p.length+y.length,error:null}}catch(u){return console.error("Erro geral na busca:",u),{produtos:[],lojas:[],error:"Erro ao realizar busca"}}},async searchProducts(i,n={}){const{limit:s=20,minPrice:l=null,maxPrice:u=null,inStock:c=!1}=n;if(!i||i.trim().length<2)return{produtos:[],error:null};try{const{data:h,error:m}=await oe.from("products").select(`
        id,
        name,
        description,
        category,
        subcategory,
        images,
        created_at,
        product_listings (
          id,
          price,
          stock,
          is_active,
          stores (
            id,
            name,
            is_approved
          )
        )
      `).or(`name.ilike.%${i}%,category.ilike.%${i}%,description.ilike.%${i}%`).limit(s);if(m)throw m;let p=this._formatarProdutos(h||[]);return c&&(p=p.filter(g=>g.emEstoque)),(l||u)&&(p=p.filter(g=>!(l&&g.precoMinimo>0&&g.precoMinimo<l||u&&g.precoMinimo>u))),{produtos:p.slice(0,s),error:null}}catch(h){return console.error("Erro busca produtos:",h),{produtos:[],error:"Erro ao buscar produtos"}}},async searchStores(i,n=null){if(!i||i.trim().length<2)return{lojas:[],error:null};try{let s=oe.from("stores").select("id, name, category, description, email, phone, is_approved").eq("is_approved",!0).or(`name.ilike.%${i}%,category.ilike.%${i}%`);const{data:l,error:u}=await s.limit(20);if(u)throw u;return{lojas:l||[],error:null}}catch(s){return console.error("Erro busca lojas:",s),{lojas:[],error:"Erro ao buscar lojas"}}},async searchByCategory(i,n=20){try{const{data:s,error:l}=await oe.from("products").select(`
        id,
        name,
        description,
        category,
        subcategory,
        images,
        product_listings (
          id,
          price,
          stock,
          is_active,
          stores (
            id,
            name,
            is_approved
          )
        )
      `).ilike("category",`%${i}%`).limit(n);if(l)throw l;return{produtos:this._formatarProdutos(s||[]),error:null}}catch(s){return console.error("Erro busca por categoria:",s),{produtos:[],error:"Erro ao buscar por categoria"}}},async getSearchSuggestions(i,n=8){if(!i||i.length<2)return{suggestions:[],error:null};try{const{data:s}=await oe.from("products").select("id, name").ilike("name",`%${i}%`).limit(Math.ceil(n*.7)),{data:l}=await oe.from("stores").select("id, name").eq("is_approved",!0).ilike("name",`%${i}%`).limit(Math.ceil(n*.3));return{suggestions:[...(s||[]).map(c=>({id:c.id,text:c.name,type:"produto"})),...(l||[]).map(c=>({id:c.id,text:c.name,type:"loja"}))].slice(0,n),error:null}}catch(s){return console.error("Erro ao obter sugestes:",s),{suggestions:[],error:null}}},_formatarProdutos(i){return i.map(n=>{const l=(n.product_listings||[]).filter(m=>m.is_active&&m.stores?.is_approved);if(l.length===0)return null;const u=l.map(m=>m.price).filter(m=>m>0).sort((m,p)=>m-p),c=l.map(m=>m.stock||0);return{id:n.id,name:n.name,description:n.description,category:n.category,subcategory:n.subcategory,images:n.images,precoMinimo:u[0]||0,precoMaximo:u[u.length-1]||0,emEstoque:c.some(m=>m>0),totalEstoque:c.reduce((m,p)=>m+p,0),totalLojas:l.length,listings:l}}).filter(n=>n!==null)}};function Qp(i={}){const{debounceMs:n=300,minChars:s=2,limit:l=10,autoSearch:u=!0}=i,[c,h]=S.useState(""),[m,p]=S.useState([]),[g,y]=S.useState([]),[_,j]=S.useState(!1),[N,C]=S.useState(""),[z,x]=S.useState(!1),[L,A]=S.useState([]),[R,P]=S.useState(-1),J=S.useRef(null);S.useEffect(()=>{const ae=JSON.parse(sessionStorage.getItem("recentSearches")||"[]");A(ae)},[]),S.useEffect(()=>{if(!u)return;const ae=setTimeout(()=>{c.trim().length>=s?G():(p([]),y([]),x(!1))},n);return()=>clearTimeout(ae)},[c,u,s,n]),S.useEffect(()=>{const ae=ne=>{J.current&&!J.current.contains(ne.target)&&x(!1)};return document.addEventListener("mousedown",ae),()=>document.removeEventListener("mousedown",ae)},[]);const G=async()=>{if(!(c.trim().length<s)){j(!0),C(""),P(-1);try{const{produtos:ae,lojas:ne,error:fe}=await Vp.search(c,{limit:l});fe?C(fe):(p(ae||[]),y(ne||[])),x(!0);const De=[c,...L.filter(ge=>ge!==c)].slice(0,5);A(De),sessionStorage.setItem("recentSearches",JSON.stringify(De))}catch(ae){C("Erro ao buscar. Tente novamente."),console.error(ae)}finally{j(!1)}}};return{searchTerm:c,produtos:m,lojas:g,loading:_,error:N,showResults:z,recentSearches:L,selectedIndex:R,searchBoxRef:J,setSearchTerm:h,setShowResults:x,performSearch:G,handleClear:()=>{h(""),p([]),y([]),x(!1),P(-1)},handleSearchClick:ae=>{h(ae)},handleKeyDown:ae=>{const ne=m.length+g.length;if(ae.key==="ArrowDown")ae.preventDefault(),P(fe=>(fe+1)%ne);else if(ae.key==="ArrowUp")ae.preventDefault(),P(fe=>(fe-1+ne)%ne);else{if(ae.key==="Enter"&&R>=0)return ae.preventDefault(),R<m.length?{type:"produto",data:m[R]}:{type:"loja",data:g[R-m.length]};ae.key==="Escape"&&x(!1)}},selectItem:(ae,ne)=>(x(!1),h(""),{type:ae,data:ne}),totalResults:m.length+g.length,hasResults:m.length+g.length>0}}const vl={async getCoordinatesFromCEP(i){try{const{data:n,error:s}=await oe.functions.invoke("geocode",{body:{cep:i.replace(/\D/g,"")}});return s?(console.error("Erro da Edge Function:",s),null):n}catch(n){return console.error("Erro ao buscar coordenadas:",n),null}},async updateUserLocation(i,n){console.log("updateUserLocation chamado:",{userId:i,cep:n});const s=await this.getCoordinatesFromCEP(n);if(!s)return console.error("No foi possvel obter coordenadas"),{error:"No foi possvel obter as coordenadas"};console.log("Coordenadas obtidas:",s);const{data:l,error:u}=await oe.rpc("update_user_location",{p_user_id:i,p_longitude:s.longitude,p_latitude:s.latitude});return console.log("Resultado update location:",u||"sucesso",l),{error:u?.message,coords:s,data:l}},async updateStoreLocation(i,n){if(console.log("updateStoreLocation chamado:",{storeId:i,address:n}),n.zip_code){const s=await this.getCoordinatesFromCEP(n.zip_code);if(!s)return console.error("No foi possvel obter coordenadas"),{error:"No foi possvel obter as coordenadas"};console.log("Coordenadas obtidas:",s);const{data:l,error:u}=await oe.rpc("update_store_location",{p_store_id:i,p_longitude:s.longitude,p_latitude:s.latitude});return console.log("Resultado update location:",u||"sucesso",l),console.log("Data completo:",JSON.stringify(l,null,2)),{error:u?.message,coords:s,data:l}}return{error:"CEP no fornecido"}}},Kp={async createListing(i){const{data:n,error:s}=await oe.from("product_listings").insert(i).select();return{data:n,error:s}},async getActiveListings(){const{data:i,error:n}=await oe.from("product_listings").select(`
      *,
      products!product_listings_product_id_fkey (
        id,
        name,
        description,
        category,
        subcategory,
        images
      ),
      stores!product_listings_store_id_fkey ( name, is_approved )
    `).eq("is_active",!0).gt("stock",0).order("price",{ascending:!0});return{data:i,error:n}},async getStoreListings(i){const{data:n,error:s}=await oe.from("product_listings").select(`
        *,
        products!product_listings_product_id_fkey (*)
      `).eq("store_id",i).eq("is_active",!0).order("created_at",{ascending:!1});return{data:n,error:s}}},ea={async getActiveCart(i){const{data:n,error:s}=await oe.from("carts").select(`
      *,
      cart_items!cart_items_cart_id_fkey (
        id,
        quantity,
        product_listing_id,
        product_listings!cart_items_product_listing_id_fkey (
          id,
          price,
          stock,
          store_id,
          products!product_listings_product_id_fkey (
            id,
            name,
            description,
            category,
            images
          ),
          stores!product_listings_store_id_fkey (
            id,
            name
          )
        )
      )
    `).eq("user_id",i).eq("status","active").maybeSingle();return{data:n,error:s}},async createCart(i){const{data:n,error:s}=await oe.from("carts").insert({user_id:i,status:"active"}).select();return{data:n,error:s}},async addToCart(i,n,s){const{data:l}=await oe.from("cart_items").select("*").eq("cart_id",i).eq("product_listing_id",n).maybeSingle();if(l){const{data:u,error:c}=await oe.from("cart_items").update({quantity:l.quantity+s}).eq("id",l.id).select();return{data:u,error:c}}else{const{data:u,error:c}=await oe.from("cart_items").insert({cart_id:i,product_listing_id:n,quantity:s}).select();return{data:u,error:c}}},async updateCartItem(i,n){if(n<=0)return this.removeCartItem(i);const{data:s,error:l}=await oe.from("cart_items").update({quantity:n}).eq("id",i).select();return{data:s,error:l}},async removeCartItem(i){const{data:n,error:s}=await oe.from("cart_items").delete().eq("id",i);return{data:n,error:s}},async clearCart(i){const{data:n,error:s}=await oe.from("cart_items").delete().eq("cart_id",i);return{data:n,error:s}}},wa={async getUserStores(i){const{data:n,error:s}=await oe.from("stores").select("*").eq("user_id",i).order("created_at",{ascending:!1});return{data:n,error:s?.message}},async getApprovedStores(){const{data:i,error:n}=await oe.from("stores").select("*").eq("is_approved",!0).order("created_at",{ascending:!1});return{data:i,error:n?.message}},async getStoresByUserCity(i){const{data:n,error:s}=await oe.rpc("get_stores_by_user_city",{p_user_id:i});return{data:n,error:s?.message}},async getStoreById(i){const{data:n,error:s}=await oe.from("stores").select("*").eq("id",i).single();return{data:n,error:s?.message}},async getStoreBySlug(i){const{data:n,error:s}=await oe.from("stores").select("*").eq("is_approved",!0);if(s)return{data:null,error:s?.message};const l=n?.find(u=>u.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")===i);return{data:l||null,error:l?null:"Loja no encontrada"}},async createStore(i){const{data:n,error:s}=await oe.from("stores").insert([i]).select();return{data:n,error:s?.message}},async updateStore(i,n){const{data:s,error:l}=await oe.from("stores").update(n).eq("id",i).select();return{data:s,error:l?.message}},async deleteStore(i){const{data:n,error:s}=await oe.from("stores").delete().eq("id",i);return{data:n,error:s?.message}},async getStoresByCategory(i){const{data:n,error:s}=await oe.from("stores").select("*").eq("category",i).eq("is_approved",!0).order("created_at",{ascending:!1});return{data:n,error:s?.message}},async getStoreProducts(i){const{data:n,error:s}=await oe.from("product_listings").select(`
      *,
      products (
        id,
        name,
        description,
        category,
        images
      )
    `).eq("store_id",i).eq("is_active",!0).order("created_at",{ascending:!1});return{data:n,error:s?.message}},async updateProductListing(i,n){const{data:s,error:l}=await oe.from("product_listings").update({price:n.price,stock:n.stock}).eq("id",i).select();return{data:s,error:l?.message}},async deleteProductListing(i){const{data:n,error:s}=await oe.from("product_listings").delete().eq("id",i);return{data:n,error:s?.message}},async getProductListing(i){const{data:n,error:s}=await oe.from("product_listings").select(`
      *,
      products (
        id,
        name,
        description,
        category,
        images
      ),
      stores (
        id,
        name,
        user_id
      )
    `).eq("id",i).single();return{data:n,error:s?.message}},async toggleProductListing(i,n){const{data:s,error:l}=await oe.from("product_listings").update({is_active:n}).eq("id",i).select();return{data:s,error:l?.message}},async createProductListing(i){const{data:n,error:s}=await oe.from("product_listings").insert([{product_id:i.product_id,store_id:i.store_id,price:i.price,stock:i.stock,is_active:i.is_active??!0}]).select(`
      *,
      products (
        id,
        name,
        description,
        category,
        images
      )
    `);return s&&console.error("Erro detalhado do Supabase:",s),{data:n,error:s?.message}}},Xp=S.createContext(),vS=({children:i})=>{const[n,s]=S.useState(!1),[l,u]=S.useState(null),[c,h]=S.useState({}),[m,p]=S.useState(null),[g,y]=S.useState({}),[_,j]=S.useState(null),[N,C]=S.useState(!1);S.useEffect(()=>{(async()=>{try{const X=await En.getUser();p(X),X&&await z(X.id)}catch(X){console.error("Erro ao inicializar contexto:",X)}})()},[]);const z=S.useCallback(async G=>{if(!N)try{C(!0);const{data:X,error:W}=await ea.getActiveCart(G);if(W&&W.code!=="PGRST116"){console.error("Erro ao carregar carrinho:",W);return}if(X&&(j(X.id),X.cart_items)){const ee={};X.cart_items.forEach(ue=>{ee[ue.product_listing_id]=ue.quantity}),y(ee)}}catch(X){console.error("Erro ao carregar quantidades:",X)}finally{C(!1)}},[N]),x=S.useCallback(async()=>{m&&await z(m.id)},[m,z]),L=S.useCallback(async G=>{if(!m)return alert("Faa login para adicionar produtos ao carrinho"),!1;try{let X=_;if(!X){const{data:ae,error:ne}=await ea.createCart(m.id);if(ne)throw ne;X=ae[0].id,j(X)}const W=G.productListingId||G.id,ee=parseFloat(G.preco||G.price||0),ue=g[W]||0;if(ue>0){const{data:ae}=await ea.getActiveCart(m.id),ne=ae?.cart_items?.find(fe=>fe.product_listing_id===W);if(ne){const{error:fe}=await ea.updateCartItem(ne.id,ne.quantity+1);if(fe)throw fe}}else{const{error:ae}=await ea.addToCart(X,W,1,ee);if(ae)throw ae}return y(ae=>({...ae,[W]:ue+1})),!0}catch(X){return console.error("Erro ao adicionar ao carrinho:",X),alert("Erro ao adicionar produto. Tente novamente."),await x(),!1}},[m,_,g,x]),A=S.useCallback(async G=>{if(!m)return!1;try{const{data:X,error:W}=await ea.getActiveCart(m.id);if(W)throw W;if(!X?.cart_items)return!1;const ee=G.productListingId||G.id,ue=X.cart_items.find(fe=>fe.product_listing_id===ee);if(!ue)return!1;const ae=ue.quantity-1,{error:ne}=await ea.updateCartItem(ue.id,ae);if(ne)throw ne;return y(fe=>({...fe,[ee]:Math.max(0,ae)})),!0}catch(X){return console.error("Erro ao remover do carrinho:",X),await x(),!1}},[m,x]),R=S.useCallback(G=>{if(!G)return 0;const X=G.productListingId||G.id;return g[X]||0},[g]),P=S.useCallback((G,X={})=>{if(!G)return;const W=G.images&&Array.isArray(G.images)&&G.images.length>0?G.images:[G.imagem].filter(Boolean),ee={id:G.id||G.listings?.[0]?.id,productId:G.productId||G.id,productListingId:G.productListingId||G.id,nome:G.nome||G.name,descricao:G.descricao||G.description,preco:parseFloat(G.preco||G.precoMinimo||G.price||0),stock:G.stock||G.totalEstoque||0,categoria:G.categoria||G.category,subcategoria:G.subcategoria||G.subcategory,loja:G.loja||G.storeName||G.listings?.[0]?.stores?.name,storeId:G.storeId||G.listings?.[0]?.store_id,imagem:W[0],images:W};u(ee),h(X),s(!0)},[]),J=S.useCallback(()=>{s(!1),u(null),h({})},[]);return f.jsxs(Xp.Provider,{value:{abrirModalProduto:P,fecharModal:J,modalAberto:n,produtoSelecionado:l,adicionarAoCarrinho:L,removerDoCarrinho:A,getQuantidade:R,recarregarCarrinho:x,quantidades:g,user:m},children:[i,n&&l&&f.jsx(Zp,{produto:l,onClose:J,onAdicionar:L,onRemover:A,quantidade:R(l),...c})]})},Gs=()=>{const i=S.useContext(Xp);if(!i)throw new Error("useProductModalContext deve ser usado dentro de ProductModalProvider");return i},Zp=S.memo(({produto:i,onClose:n,onAdicionar:s,onRemover:l,quantidade:u,onStoreClick:c,showControls:h=!0})=>{const[m,p]=S.useState(0),[g,y]=S.useState(!1);if(S.useEffect(()=>{p(0)},[i?.id]),!i)return null;const _=i.images&&i.images.length>0?i.images:[i.imagem].filter(Boolean),j=_.length>1,N=()=>{p(A=>(A+1)%_.length)},C=()=>{p(A=>(A-1+_.length)%_.length)},z=async A=>{A.stopPropagation(),!g&&(y(!0),await s(i),y(!1))},x=async A=>{A.stopPropagation(),!g&&(y(!0),await l(i),y(!1))},L=f.jsx("div",{className:"modal-overlay",onClick:n,children:f.jsxs("div",{className:"modal-content-products",onClick:A=>A.stopPropagation(),children:[f.jsx("button",{className:"modal-fechar",onClick:n,children:""}),f.jsxs("div",{className:"modal-body",children:[f.jsxs("div",{className:"modal-imagem",children:[_[0]?f.jsx("img",{src:_[m],alt:`${i.nome} - ${m+1}`,onError:A=>{A.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="300"><rect fill="%23f0f0f0"/><text x="50%" y="50%" text-anchor="middle" dy=".3em" fill="%23999">Sem imagem</text></svg>'}}):f.jsx("div",{className:"img-fallback",children:"Sem imagem"}),j&&f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"modal-img-nav modal-img-prev",onClick:A=>{A.stopPropagation(),C()},children:""}),f.jsx("button",{className:"modal-img-nav modal-img-next",onClick:A=>{A.stopPropagation(),N()},children:""}),f.jsx("div",{className:"modal-img-indicators",children:_.map((A,R)=>f.jsx("button",{className:`modal-img-dot ${R===m?"active":""}`,onClick:P=>{P.stopPropagation(),p(R)}},R))})]})]}),f.jsxs("div",{className:"modal-info",children:[f.jsx("h2",{className:"modal-titulo",children:i.nome}),i.loja&&f.jsxs("p",{className:"modal-loja",children:["Vendido por:",f.jsx("strong",{onClick:()=>{c&&(c(i.loja||i.storeName),n())},className:c?"store-clickable":"",children:i.loja||i.storeName}),c&&" (Ver mais)"]}),f.jsxs("p",{className:"modal-preco",children:["R$ ",i.preco.toFixed(2).replace(".",",")]}),h&&f.jsxs("div",{className:"modal-controles",children:[f.jsx("button",{className:"btn-carrinho btn-remover",onClick:x,disabled:!u||g,children:"-"}),f.jsx("span",{className:"quantidade-produto",children:u||0}),f.jsx("button",{className:"btn-carrinho btn-adicionar",onClick:z,disabled:i.stock===0||u>=i.stock||g,children:"+"})]}),i.stock===0&&f.jsx("p",{className:"produto-sem-estoque",children:"Sem estoque"})]})]})]})});return K0.createPortal(L,document.body)});Zp.displayName="ProductModalComponent";const Ys=()=>({createSlug:n=>n?n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""):""});function yS({onStoreSelect:i}){const n=en(),{createSlug:s}=Ys(),{abrirModalProduto:l}=Gs(),{searchTerm:u,produtos:c,lojas:h,loading:m,error:p,showResults:g,recentSearches:y,selectedIndex:_,searchBoxRef:j,setSearchTerm:N,setShowResults:C,handleClear:z,handleSearchClick:x,handleKeyDown:L,selectItem:A,totalResults:R,hasResults:P}=Qp({limit:10}),J=ee=>{const ue=s(ee);n(`/loja/${ue}`)},G=async ee=>{A("produto",ee);try{const{data:ue}=await Kp.getActiveListings(),ae=ue?.filter(fe=>fe.products.id===ee.id)||[];if(ae.length===0){alert("Produto no disponvel");return}const ne=ae.reduce((fe,De)=>parseFloat(De.price)<parseFloat(fe.price)?De:fe);l({id:ne.id,productListingId:ne.id,nome:ee.name,preco:parseFloat(ne.price),stock:ne.stock,loja:ne.stores.name,imagem:ee.images?.[0],images:ee.images||[]},{showControls:!0,onStoreClick:J})}catch(ue){console.error("Erro ao carregar produto:",ue)}},X=ee=>{A("loja",ee),J(ee.name)},W=ee=>{const ue=L(ee);ue&&(ue.type==="produto"?G(ue.data):X(ue.data))};return f.jsx("div",{className:"search-system",children:f.jsxs("div",{className:"search-container",ref:j,children:[f.jsxs("div",{className:"search-input-wrapper",children:[!u&&f.jsx(ec,{className:"search-icon",size:20}),f.jsx("input",{type:"text",placeholder:"Encontre produtos ou lojas...",value:u,onChange:ee=>N(ee.target.value),onFocus:()=>C(!0),onKeyDown:W,className:"search-input"}),u&&f.jsx("button",{onClick:z,className:"clear-btn",children:f.jsx(Nc,{size:18})})]}),g&&f.jsxs("div",{className:"search-results-panel",children:[m&&f.jsxs("div",{className:"loading-state",children:[f.jsx(cS,{size:20,className:"spinner"}),f.jsx("span",{children:"Buscando..."})]}),p&&!m&&f.jsx("div",{className:"error-state",children:f.jsx("p",{children:p})}),!m&&!P&&u.trim().length>=2&&f.jsxs("div",{className:"empty-state",children:[f.jsx(ec,{size:32}),f.jsxs("p",{children:['Nenhum resultado encontrado para "',u,'"']})]}),!m&&P&&f.jsxs(f.Fragment,{children:[c.length>0&&f.jsxs("div",{className:"results-section",children:[f.jsxs("h4",{className:"results-title",children:["Produtos (",c.length,")"]}),f.jsx("ul",{className:"results-list",children:c.map((ee,ue)=>f.jsx("li",{className:`result-item ${_===ue?"selected":""}`,onClick:()=>G(ee),children:f.jsxs("div",{className:"result-content",children:[f.jsx("span",{className:"result-name",children:ee.name}),ee.precoMinimo>0&&f.jsxs("span",{className:"result-price",children:["R$ ",ee.precoMinimo.toFixed(2).replace(".",",")]})]})},ee.id))})]}),h.length>0&&f.jsxs("div",{className:"results-section",children:[f.jsxs("h4",{className:"results-title",children:["Lojas (",h.length,")"]}),f.jsx("ul",{className:"results-list",children:h.map((ee,ue)=>f.jsx("li",{className:`result-item ${_===c.length+ue?"selected":""}`,onClick:()=>X(ee),children:f.jsxs("div",{className:"result-content",children:[f.jsx("span",{className:"result-name",children:ee.name}),f.jsx("span",{className:"result-category",children:ee.category})]})},ee.id))})]}),f.jsx("div",{className:"results-footer",children:f.jsxs("p",{className:"results-count",children:[R," resultado",R!==1?"s":""," encontrado",R!==1?"s":""]})})]}),!u&&y.length>0&&f.jsxs("div",{className:"recent-searches",children:[f.jsx("h4",{className:"results-title",children:"Buscas Recentes"}),f.jsx("ul",{className:"results-list",children:y.map((ee,ue)=>f.jsxs("li",{className:"recent-item",children:[f.jsx(ec,{size:16}),f.jsx("button",{onClick:()=>x(ee),className:"recent-btn",children:ee})]},ue))})]})]})]})})}const bS=({categoriaFiltro:i})=>{const n=en(),{createSlug:s}=Ys(),{abrirModalProduto:l,adicionarAoCarrinho:u,removerDoCarrinho:c,getQuantidade:h}=Gs(),[m,p]=S.useState([]),[g,y]=S.useState([]),[_,j]=S.useState(!0);S.useEffect(()=>{N()},[]),S.useEffect(()=>{C()},[m,i]);const N=async()=>{try{const{data:L}=await Kp.getActiveListings();if(!L)return;const A={};L.forEach(R=>{const P=R.products.id;(!A[P]||R.price<A[P].preco)&&(A[P]={id:R.id,productListingId:R.id,nome:R.products.name,preco:parseFloat(R.price),stock:R.stock,categoria:R.products.category,subcategoria:R.products.subcategory,loja:R.stores.name,imagem:R.products.images?.[0],images:R.products.images||[]})}),p(Object.values(A))}catch(L){console.error("Erro ao carregar produtos:",L)}finally{j(!1)}},C=()=>{let L=i?m.filter(A=>A.categoria===i||A.subcategoria===i):m;!i&&L.length>30&&(L=L.sort(()=>.5-Math.random()).slice(0,30)),y(L)},z=L=>{const A=s(L);n(`/loja/${A}`)},x=(L,A)=>{L.target.closest(".produto-controles")||l(A,{showControls:!0,onStoreClick:z})};return _?f.jsx("div",{className:"produtos-container",children:"Carregando..."}):f.jsx("div",{className:"produtos-container",children:f.jsx("div",{className:"produtos-grid",children:g.map(L=>{const A=h(L);return f.jsxs("div",{className:"produto-card",onClick:R=>x(R,L),children:[f.jsx("img",{src:L.imagem,alt:L.nome,className:"produto-imagem"}),f.jsx("h3",{className:"produto-nome-produtos",children:L.nome}),f.jsxs("p",{className:"produto-preco",children:["R$ ",L.preco.toFixed(2).replace(".",",")]}),f.jsxs("div",{className:"produto-controles",children:[f.jsx("button",{className:"btn-carrinho btn-menos",onClick:R=>{R.stopPropagation(),c(L)},disabled:!A,children:"-"}),f.jsx("span",{className:"quantidade-produto",children:A}),f.jsx("button",{className:"btn-carrinho btn-mais",onClick:R=>{R.stopPropagation(),u(L)},disabled:L.stock===0||A>=L.stock,children:"+"})]}),L.stock===0&&f.jsx("p",{className:"produto-sem-estoque",children:"Sem estoque"})]},L.id)})})})},_S=()=>{const[i,n]=S.useState([]),[s,l]=S.useState(!0),[u,c]=S.useState(null);S.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:{user:p}}=await oe.auth.getUser();if(!p){c("Usurio no autenticado"),l(!1);return}const{data:g,error:y}=await wa.getStoresByUserCity(p.id);y?c(y):n(g||[])}catch(p){console.error("Erro ao carregar lojas:",p),c("Erro ao carregar lojas")}finally{l(!1)}};if(s)return f.jsxs("div",{children:[f.jsx("h2",{className:"carrossel-title",children:"Lojas Prximas"}),f.jsx("div",{className:"slider",children:f.jsx("div",{className:"carrossel-loading",children:"Carregando lojas..."})})]});if(!i||i.length===0)return f.jsxs("div",{children:[f.jsx("h2",{className:"carrossel-title",children:"Lojas Prximas"}),f.jsx("div",{className:"slider",children:f.jsx("div",{className:"carrossel-empty",children:"Nenhuma loja cadastrada nessa cidade"})})]});const m=i.length>=3?[...i,...i]:i;return f.jsxs("div",{children:[f.jsx("h2",{className:"carrossel-title",children:"Lojas Prximas"}),f.jsx("div",{className:"slider",children:f.jsx("div",{className:"slide-track",children:m.map((p,g)=>f.jsxs("div",{className:"slide",children:[p.banner_url?f.jsx("img",{src:p.banner_url,alt:"Sem imagem",loading:"lazy"}):null,f.jsx("div",{className:"slide-fallback",children:f.jsx("span",{children:"Sem Imagem"})}),f.jsx("div",{className:"slide-overlay",children:f.jsx("span",{className:"slide-store-name",children:p.name})})]},`${p.id}-${g}`))})})]})};function SS({user:i}){const[n,s]=S.useState(0),{createSlug:l}=Ys(),{abrirModalProduto:u,ProductModal:c}=Gs();S.useEffect(()=>{if(i){h();const p=oe.channel("orders_changes").on("postgres_changes",{event:"*",schema:"public",table:"orders"},g=>{h()}).subscribe();return()=>{p.unsubscribe()}}},[i]);const h=async()=>{try{const{data:p,error:g}=await oe.functions.invoke("get-pending-orders-count",{body:{}});g||s(p?.count||0)}catch(p){console.error("Erro ao carregar pedidos pendentes:",p)}},m=p=>{const g=l(p.name);window.location.href=`/loja/${g}`};return f.jsxs("div",{className:"header",children:[f.jsxs("div",{className:"header-container",children:[f.jsx("div",{className:"header-logo",children:f.jsx(ks,{to:"/",children:f.jsx("h2",{children:"Logo"})})}),f.jsxs("div",{className:"header-actions",children:[f.jsxs(ks,{to:"/Perfil",className:"header-btn",children:[f.jsx(pS,{size:28}),n>0&&f.jsx("span",{className:"header-btn-badge",children:n>99?"99+":n})]}),f.jsx(ks,{to:"Carrinho",className:"header-btn",children:f.jsx(hS,{size:28})})]})]}),f.jsxs("div",{className:"header-search",children:[f.jsx("div",{className:"search-wrapper",children:f.jsx(yS,{onProductSelect:u,onStoreSelect:m})}),f.jsx(_S,{})]}),f.jsx(bS,{onProdutoClick:u})]})}var Jp={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sp=Wa.createContext&&Wa.createContext(Jp),wS=["attr","size","title"];function jS(i,n){if(i==null)return{};var s=xS(i,n),l,u;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(u=0;u<c.length;u++)l=c[u],!(n.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(i,l)&&(s[l]=i[l])}return s}function xS(i,n){if(i==null)return{};var s={};for(var l in i)if(Object.prototype.hasOwnProperty.call(i,l)){if(n.indexOf(l)>=0)continue;s[l]=i[l]}return s}function yl(){return yl=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])}return i},yl.apply(this,arguments)}function ip(i,n){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),s.push.apply(s,l)}return s}function bl(i){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?ip(Object(s),!0).forEach(function(l){ES(i,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ip(Object(s)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(s,l))})}return i}function ES(i,n,s){return n=TS(n),n in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s,i}function TS(i){var n=NS(i,"string");return typeof n=="symbol"?n:n+""}function NS(i,n){if(typeof i!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var l=s.call(i,n);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Ip(i){return i&&i.map((n,s)=>Wa.createElement(n.tag,bl({key:s},n.attr),Ip(n.child)))}function Cc(i){return n=>Wa.createElement(CS,yl({attr:bl({},i.attr)},n),Ip(i.child))}function CS(i){var n=s=>{var{attr:l,size:u,title:c}=i,h=jS(i,wS),m=u||s.size||"1em",p;return s.className&&(p=s.className),i.className&&(p=(p?p+" ":"")+i.className),Wa.createElement("svg",yl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,l,h,{className:p,style:bl(bl({color:i.color||s.color},s.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&Wa.createElement("title",null,c),i.children)};return sp!==void 0?Wa.createElement(sp.Consumer,null,s=>n(s)):n(Jp)}function xa(i){return Cc({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M6.85355 3.14645C7.04882 3.34171 7.04882 3.65829 6.85355 3.85355L3.70711 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H3.70711L6.85355 11.1464C7.04882 11.3417 7.04882 11.6583 6.85355 11.8536C6.65829 12.0488 6.34171 12.0488 6.14645 11.8536L2.14645 7.85355C1.95118 7.65829 1.95118 7.34171 2.14645 7.14645L6.14645 3.14645C6.34171 2.95118 6.65829 2.95118 6.85355 3.14645Z",fill:"currentColor"},child:[]}]})(i)}function AS(i){return Cc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(i)}const OS=()=>{const i=en(),{abrirModalProduto:n,getQuantidade:s,adicionarAoCarrinho:l,removerDoCarrinho:u,recarregarCarrinho:c}=Gs(),{createSlug:h}=Ys(),[m,p]=S.useState([]),[g,y]=S.useState(!0),[_,j]=S.useState(null),[N,C]=S.useState(!1),[z,x]=S.useState(null),[L,A]=S.useState(!1),[R,P]=S.useState(!1),[J,G]=S.useState(""),[X,W]=S.useState(null),[ee,ue]=S.useState(!1),[ae,ne]=S.useState(!1),[fe,De]=S.useState(null);S.useEffect(()=>{(async()=>{try{const Z=await En.getUser();if(!Z){y(!1);return}j(Z),await ge(Z.id)}catch(Z){console.error("Erro ao inicializar carrinho:",Z)}finally{y(!1)}})()},[]);const ge=async se=>{try{const{data:Z,error:qe}=await ea.getActiveCart(se);if(qe&&qe.code!=="PGRST116"){console.error("Erro ao carregar carrinho:",qe);return}if(Z&&Z.cart_items){x(Z.id);const Be=Z.cart_items.map(Ve=>({id:Ve.id,cartId:Z.id,productListingId:Ve.product_listing_id,nome:Ve.product_listings.products.name,descricao:Ve.product_listings.products.description,preco:parseFloat(Ve.product_listings.price),stock:Ve.product_listings.stock,storeName:Ve.product_listings.stores.name,storeId:Ve.product_listings.store_id,imagem:Ve.product_listings.products.images?.[0],images:Ve.product_listings.products.images}));p(Be),await c()}}catch(Z){console.error("Erro ao carregar carrinho:",Z)}},H=()=>{window.history.back()},te=async se=>{try{const{error:Z}=await ea.removeCartItem(se);if(Z){console.error("Erro ao remover item:",Z);return}p(qe=>qe.filter(Be=>Be.id!==se)),await c()}catch(Z){console.error("Erro ao remover item:",Z)}},ie=()=>m.reduce((se,Z)=>{const qe=s({productListingId:Z.productListingId});return se+Z.preco*qe},0),Ee=se=>["phone","cep","cidade","bairro","rua","numero"].every(qe=>se[qe]),E=async()=>{if(!(!_||m.length===0)){C(!0);try{const{data:se,error:Z}=await oe.from("users").select("fullname, email, phone, cep, rua, numero, bairro, cidade").eq("id",_.id).single();if(Z){console.error("Erro ao obter dados do usurio:",Z),G("Erro ao carregar seus dados. Tente novamente."),P(!0),C(!1);return}if(!Ee(se)){ue(!0),C(!1);return}De(se),ne(!0),C(!1)}catch(se){console.error("Erro ao finalizar compra:",se),G("Erro ao finalizar compra. Tente novamente."),P(!0),C(!1)}}},K=async()=>{C(!0),ne(!1);try{const se=ie(),{data:Z,error:qe}=await oe.from("orders").insert([{user_id:_.id,buyer_name:fe.fullname||_.email,buyer_phone:fe.phone,buyer_cep:fe.cep,buyer_rua:fe.rua,buyer_numero:fe.numero,buyer_bairro:fe.bairro,buyer_cidade:fe.cidade,total_amount:se}]).select();if(qe){console.error("Erro ao criar pedido:",qe),G("Erro ao criar o pedido. Tente novamente."),P(!0),C(!1);return}const Be=Z[0].id;W(Be);const Ve=m.map(Je=>{const Ta=s({productListingId:Je.productListingId});return{order_id:Be,product_listing_id:Je.productListingId,product_name:Je.nome,store_id:Je.storeId,store_name:Je.storeName,price:Je.preco,quantity:Ta,subtotal:Je.preco*Ta}}),{error:Pt}=await oe.from("order_items").insert(Ve);if(Pt){console.error("Erro ao adicionar itens do pedido:",Pt),G("Erro ao processar itens do pedido. Tente novamente."),P(!0),C(!1);return}z&&await ea.clearCart(z),p([]),A(!0),await c()}catch(se){console.error("Erro ao confirmar pedido:",se),G("Erro ao confirmar pedido. Tente novamente."),P(!0)}finally{C(!1)}},M=()=>{A(!1),window.location.href="/"},B=(se,Z)=>{se.target.closest(".item-controles")||se.target.closest(".btn-remover")||n({id:Z.productListingId,productListingId:Z.productListingId,nome:Z.nome,preco:Z.preco,stock:Z.stock,loja:Z.storeName,storeId:Z.storeId,imagem:Z.imagem,images:Z.images||[Z.imagem]},{showControls:!0,onStoreClick:$})},$=se=>{const Z=h(se);i(`/loja/${Z}`)},re=()=>{i("/perfil")},I=()=>{const se={};return m.forEach(Z=>{se[Z.storeId]||(se[Z.storeId]={storeName:Z.storeName,items:[]}),se[Z.storeId].items.push(Z)}),se};return g?f.jsxs("div",{className:"carrinho-container",children:[f.jsxs("div",{className:"carrinho-header",children:[f.jsx("button",{className:"btn-voltar",onClick:H,children:f.jsx(xa,{})}),f.jsx("h1",{children:"Carrinho de Compras"})]}),f.jsx("div",{children:f.jsx("p",{children:"Carregando carrinho..."})})]}):_?f.jsxs("div",{className:"carrinho-container",children:[f.jsxs("div",{className:"carrinho-header",children:[f.jsx("button",{className:"btn-voltar",onClick:H,children:f.jsx(xa,{})}),f.jsx("h1",{children:"Carrinho de Compras"})]}),ee&&f.jsx("div",{className:"modal-perfil-incompleto",children:f.jsxs("div",{className:"modal-perfil-content",children:[f.jsx("button",{className:"modal-perfil-fechar",onClick:()=>ue(!1),children:""}),f.jsx("div",{className:"modal-perfil-icone",children:""}),f.jsx("h2",{children:"Complete seu Endereo"}),f.jsxs("div",{className:"seta-animada",children:[f.jsx("span",{children:"Clique aqui para completar"}),f.jsx("span",{className:"seta",children:""})]}),f.jsx("button",{className:"btn btn-primary btn-lg",onClick:re,children:"Completar Cadastro"})]})}),ae&&fe&&f.jsx("div",{className:"modal-perfil-incompleto",children:f.jsxs("div",{className:"modal-perfil-content modal-confirmacao",children:[f.jsx("button",{className:"modal-perfil-fechar",onClick:()=>ne(!1),children:""}),f.jsx("div",{className:"modal-perfil-icone",children:""}),f.jsx("h2",{children:"Confirme seus Dados"}),f.jsxs("div",{className:"campos-faltando",children:[f.jsxs("div",{className:"campo-info",children:[f.jsx("strong",{children:"Nome:"}),f.jsx("p",{children:fe.fullname})]}),f.jsxs("div",{className:"campo-info",children:[f.jsx("strong",{children:"Telefone:"}),f.jsx("p",{children:fe.phone})]}),f.jsxs("div",{className:"campo-info",children:[f.jsx("strong",{children:"Endereo:"}),f.jsxs("p",{children:[fe.rua,", ",fe.numero,f.jsx("br",{}),fe.bairro," - ",fe.cidade,f.jsx("br",{}),"CEP: ",fe.cep]})]})]}),f.jsxs("div",{className:"modal-buttons-carrinho",children:[f.jsx("button",{className:"btn btn-secondary",onClick:()=>ne(!1),children:"Cancelar"}),f.jsx("button",{className:"btn btn-primary",onClick:K,disabled:N,children:N?"Processando...":"Confirmar Pedido"})]})]})}),m.length===0?f.jsxs("div",{className:"carrinho-vazio",children:[f.jsx("div",{className:"carrinho-vazio-icone",children:""}),f.jsx("h2",{children:"Seu carrinho est vazio"}),f.jsx("p",{children:"Adicione alguns produtos ao seu carrinho!"})]}):f.jsxs("div",{className:"carrinho-conteudo",children:[f.jsx("div",{className:"carrinho-itens",children:Object.entries(I()).map(([se,{storeName:Z,items:qe}])=>f.jsxs("div",{className:"loja-grupo",children:[f.jsx("div",{className:"loja-cabecalho",children:f.jsx("h2",{className:"loja-nome2",children:Z})}),f.jsx("div",{className:"loja-produtos",children:qe.map(Be=>{const Ve=s({productListingId:Be.productListingId}),Pt={id:Be.productListingId,productListingId:Be.productListingId,preco:Be.preco,stock:Be.stock};return f.jsxs("div",{className:"carrinho-item",onClick:Je=>B(Je,Be),children:[f.jsx("img",{src:Be.imagem,alt:Be.nome,className:"item-imagem2"}),f.jsxs("div",{className:"item-detalhes",children:[f.jsxs("div",{className:"item-detalhes-header",children:[f.jsx("h3",{className:"item-nome",children:Be.nome}),f.jsxs("div",{className:"precos",children:[f.jsxs("p",{className:"item-preco",children:["R$ ",Be.preco.toFixed(2).replace(".",",")]}),f.jsxs("p",{className:"item-preco2",children:["(R$ ",(Be.preco*Ve).toFixed(2).replace(".",","),")"]})]})]}),f.jsxs("div",{className:"item-controles",children:[f.jsxs("div",{className:"quantidade-controles",children:[f.jsx("button",{className:"btn-quantidade",onClick:Je=>{Je.stopPropagation(),u(Pt)},children:"-"}),f.jsx("span",{className:"quantidade",children:Ve}),f.jsx("button",{className:"btn-quantidade",onClick:Je=>{Je.stopPropagation(),l(Pt)},disabled:Ve>=Be.stock,children:"+"})]}),f.jsx("button",{className:"btn-remover",onClick:Je=>{Je.stopPropagation(),te(Be.id)},children:f.jsx(AS,{})})]})]})]},Be.id)})})]},se))}),f.jsx("div",{className:"carrinho-resumo",children:f.jsxs("div",{className:"resumo-card",children:[f.jsx("h3",{children:"Resumo do Pedido"}),f.jsxs("div",{className:"resumo-linha",children:[f.jsx("span",{children:"Subtotal:"}),f.jsxs("span",{children:["R$ ",ie().toFixed(2).replace(".",",")]})]}),f.jsxs("div",{className:"resumo-linha",children:[f.jsx("span",{children:"Frete:"}),f.jsx("span",{children:"Grtis"})]}),f.jsxs("div",{className:"resumo-total",children:[f.jsx("span",{children:"Total:"}),f.jsxs("span",{children:["R$ ",ie().toFixed(2).replace(".",",")]})]}),f.jsx("button",{className:"btn btn-primary btn-lg carrinho-finalizar",onClick:E,disabled:N,children:N?"Processando...":"Finalizar Compra"})]})})]}),L&&f.jsx("div",{className:"modal-overlay-fixed",children:f.jsxs("div",{className:"modal-content-fixed",children:[f.jsx("div",{className:"modal-icon-success",children:""}),f.jsx("h2",{className:"modal-title",children:"Compra Finalizada!"}),f.jsx("p",{className:"modal-text",children:"Seu pedido foi processado com sucesso."}),f.jsxs("div",{className:"modal-order-id",children:[f.jsx("p",{className:"order-label",children:"ID do Pedido"}),f.jsx("p",{className:"order-number",children:X})]}),f.jsx("button",{onClick:M,className:"btn btn-success",children:"Voltar"})]})}),R&&f.jsx("div",{className:"modal-overlay-fixed",children:f.jsxs("div",{className:"modal-content-fixed",children:[f.jsxs("div",{className:"modal-header-error",children:[f.jsx("h2",{className:"modal-title",children:"Erro na Compra"}),f.jsx("button",{onClick:()=>P(!1),className:"modal-close-btn",children:""})]}),f.jsx("p",{className:"modal-text",children:J}),f.jsx("button",{onClick:()=>P(!1),className:"btn btn-error",children:"Fechar"})]})})]}):f.jsxs("div",{className:"carrinho-container",children:[f.jsxs("div",{className:"carrinho-header",children:[f.jsx("button",{className:"btn-voltar",onClick:H,children:f.jsx(xa,{})}),f.jsx("h1",{children:"Carrinho de Compras"})]}),f.jsxs("div",{className:"carrinho-vazio",children:[f.jsx("div",{className:"carrinho-vazio-icone",children:""}),f.jsx("h2",{children:"Faa login para ver seu carrinho"})]})]})},RS=({user:i,userProfile:n,isVendor:s})=>{const l=en(),[u,c]=S.useState([]),[h,m]=S.useState(!0),[p,g]=S.useState("pendente"),[y,_]=S.useState({}),[j,N]=S.useState(s||!1),[C,z]=S.useState("comprador"),[x,L]=S.useState(!1),[A,R]=S.useState({aberto:!1,itemId:null}),[P,J]=S.useState({aberto:!1,pedidoId:null}),[G,X]=S.useState(0),[W,ee]=S.useState({});S.useEffect(()=>{i&&ue()},[i]),S.useEffect(()=>{i&&j!==null&&ae()},[i,C,j]),S.useEffect(()=>{if(j&&u.length>0){const M=u.filter(B=>B.order_items?.some($=>$.status==="pendente"));X(M.length)}},[u,j]);const ue=async()=>{try{const{data:M}=await oe.from("stores").select("id").eq("user_id",i.id),B=M&&M.length>0;N(B)}catch(M){console.error("Erro ao verificar vendedor:",M)}},ae=async()=>{try{m(!0);const{data:M}=await oe.from("stores").select("id").eq("user_id",i.id),B=M&&M.length>0;N(B);const{data:$,error:re}=await oe.functions.invoke("get-orders",{body:{view:C}});if(re?(console.error("Erro ao chamar Edge Function:",re),c([])):c($?.data||[]),B&&C==="comprador"){const I=M.map(Z=>Z.id),{data:se}=await oe.from("order_items").select("order_id").in("store_id",I).eq("status","pendente");if(se){const Z=[...new Set(se.map(qe=>qe.order_id))];X(Z.length)}}}catch(M){console.error("Erro ao carregar pedidos:",M)}finally{m(!1)}},ne=M=>{_(B=>({...B,[M]:!B[M]}))},fe=M=>{ee(B=>({...B,[M]:!B[M]}))},De=async()=>{try{if(!j||C!=="vendedor"||!A.itemId)return;const{error:M}=await oe.from("order_items").update({status:"cancelado",status_updated_at:new Date().toISOString(),status_updated_by:i.id}).eq("id",A.itemId);if(M)throw M;c(B=>B.map($=>({...$,order_items:$.order_items?.map(re=>re.id===A.itemId?{...re,status:"cancelado",status_updated_at:new Date().toISOString(),status_updated_by:i.id}:re)||[]}))),R({aberto:!1,itemId:null}),await ae()}catch(M){console.error("Erro ao cancelar item:",M)}},ge=async()=>{try{if(!P.pedidoId)return;const{data:M,error:B}=await oe.rpc("mark_order_items_delivered",{p_order_id:P.pedidoId});if(B)throw B;const $=M?.[0];if(!$?.success)throw new Error($?.message||"Erro ao atualizar pedido");J({aberto:!1,pedidoId:null}),await ae()}catch(M){console.error(M)}},H=u.filter(M=>p==="pendente"?M.status==="pendente":p==="completo"?M.status==="completo":!1),te=M=>M?M.reduce((B,$)=>{const re=$.store_name||"Loja Desconhecida";return B[re]||(B[re]={store_name:re,items:[],total:0}),B[re].items.push($),B[re].total+=parseFloat($.subtotal)||0,B},{}):{},ie=M=>new Date(M).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),Ee=M=>M.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),E=M=>{const B=Ee(M);l(`/loja/${B}`)},K=M=>M.order_items?.some(B=>B.status==="pendente")||!1;return h?f.jsx("div",{className:"pedidos-loading",children:"Carregando pedidos..."}):f.jsxs("div",{className:"pedidos-container",children:[f.jsx("div",{className:"pedidos-header",children:f.jsx("button",{className:"btn-ajuda",onClick:()=>L(!0),children:"?"})}),x&&f.jsx("div",{className:"modal-overlay",onClick:()=>L(!1),children:f.jsxs("div",{className:"modal-conteudo",onClick:M=>M.stopPropagation(),children:[f.jsx("h3",{children:"Como funciona?"}),f.jsxs("p",{children:[f.jsx("strong",{children:"Viso Comprador:"})," Veja seus pedidos e marque como entregue quando receber."]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Viso Vendedor:"})," Gerencie os produtos vendidos e atualize o status dos itens."]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Status dos itens:"})," Pendente (aguardando), Entregue (concludo) ou Cancelado."]}),f.jsx("div",{className:"modal-botoes",children:f.jsx("button",{className:"btn-modal btn-modal-fechar",onClick:()=>L(!1),children:"Fechar"})})]})}),A.aberto&&f.jsx("div",{className:"modal-overlay",onClick:()=>R({aberto:!1,itemId:null}),children:f.jsxs("div",{className:"modal-conteudo",onClick:M=>M.stopPropagation(),children:[f.jsx("h3",{children:"Confirmar Cancelamento"}),f.jsx("p",{children:"Esta ao no poder ser desfeita."}),f.jsx("p",{children:"Envie uma mensagem ao comprador para evitar desentendimentos."}),f.jsxs("div",{className:"modal-botoes",children:[f.jsx("button",{className:"btn-modal btn-modal-fechar",onClick:()=>R({aberto:!1,itemId:null}),children:"No, voltar"}),f.jsx("button",{className:"btn-modal btn-modal-confirmar",onClick:De,children:"Sim, cancelar"})]})]})}),P.aberto&&f.jsx("div",{className:"modal-overlay",onClick:()=>J({aberto:!1,pedidoId:null}),children:f.jsxs("div",{className:"modal-conteudo",onClick:M=>M.stopPropagation(),children:[f.jsx("h3",{children:"Confirmar Entrega"}),f.jsx("p",{children:C==="vendedor"?"Marcar seus itens pendentes como entregues?":""}),f.jsxs("div",{className:"modal-botoes",children:[f.jsx("button",{className:"btn-modal btn-modal-fechar",onClick:()=>J({aberto:!1,pedidoId:null}),children:"Cancelar"}),f.jsx("button",{className:"btn-modal btn-modal-confirmar",onClick:ge,children:"Confirmar"})]})]})}),j&&f.jsxs("div",{className:"visao-alternador",children:[f.jsx("button",{className:`visao-btn ${C==="comprador"?"ativo":""}`,onClick:()=>z("comprador"),children:" Minhas Compras"}),f.jsxs("button",{className:`visao-btn ${C==="vendedor"?"ativo":""}`,onClick:()=>z("vendedor"),children:[" Minhas Vendas",G>0&&f.jsx("span",{className:"header-btn-badge3",children:G>99?"99+":G})]})]}),f.jsx("div",{className:"pedidos-filtros",children:["pendente","completo"].map(M=>f.jsx("button",{className:`filtro-btn ${p===M?"ativo":""}`,onClick:()=>g(M),children:M.charAt(0).toUpperCase()+M.slice(1)},M))}),H.length===0?f.jsxs("div",{className:"pedidos-vazio",children:[f.jsx("div",{className:"pedidos-vazio-icone",children:""}),f.jsx("p",{children:"Nenhum pedido encontrado"})]}):f.jsx("div",{className:"pedidos-lista",children:H.map(M=>{const B=te(M.order_items),$=W[M.id],re=K(M);return f.jsxs("div",{className:"pedido-card",children:[f.jsxs("div",{className:"pedido-header",children:[f.jsx("button",{className:"pedido-expandir",onClick:()=>ne(M.id),children:f.jsx("span",{className:`arrow ${y[M.id]?"ativo":""}`,children:""})}),f.jsxs("div",{className:"pedido-info",children:[f.jsxs("h3",{children:["Pedido #",M.id.slice(0,6)]}),f.jsx("p",{className:"pedido-data",children:ie(M.created_at)})]}),f.jsx("div",{className:"pedido-acoes",children:re&&f.jsx("button",{className:"btn-marcar-completo",onClick:()=>J({aberto:!0,pedidoId:M.id}),children:"Marcar como Entregue"})})]}),y[M.id]&&f.jsxs("div",{className:"pedido-expandido",children:[f.jsxs("div",{className:"pedido-endereco",children:[f.jsxs("div",{className:"ocultar",children:[f.jsx("h4",{children:"Dados do Comprador"}),f.jsx("button",{className:"pedido-expandir",onClick:()=>fe(M.id),title:$?"Ocultar Endereo":"Mostrar Endereo",children:$?f.jsx(iS,{size:20,className:"arrow"}):f.jsx(oS,{size:20,className:"arrow"})})]}),$&&f.jsxs("div",{children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Nome:"})," ",M.buyer_name]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Telefone:"})," ",M.buyer_phone||"No informado"]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Endereo:"})," ",M.buyer_rua,", ",M.buyer_numero,M.buyer_bairro&&` - ${M.buyer_bairro}`,M.buyer_cidade&&` - ${M.buyer_cidade}`,M.buyer_cep&&` - ${M.buyer_cep}`]})]})]}),f.jsx("div",{className:"pedido-itens",children:Object.values(B).map((I,se)=>f.jsxs("div",{className:"pedido-produtos",children:[f.jsxs("h5",{onClick:()=>E(I.store_name),title:`Ir para a loja ${I.store_name}`,children:[I.store_name," (",I.items.length," item",I.items.length>1?"s":"",")"]}),I.items.map(Z=>f.jsxs("div",{className:"item-expandido",children:[f.jsxs("div",{className:"item-top",children:[Z.product_listings?.products?.images?.[0]&&f.jsx("img",{src:Z.product_listings.products.images[0],alt:Z.product_name,className:"item-imagem"}),f.jsx("span",{className:"item-nome",children:Z.product_name})]}),f.jsx("div",{className:"item-info",children:f.jsxs("div",{className:"item-status-container",children:[f.jsx("span",{className:`item-status item-status-${Z.status}`,children:Z.status.toUpperCase()}),Z.status_updated_at&&f.jsx("span",{className:"item-status-data",children:new Date(Z.status_updated_at).toLocaleDateString("pt-BR")})]})}),f.jsxs("div",{className:"item-dados",children:[f.jsxs("span",{children:[Z.quantity,"x"]}),f.jsxs("span",{children:["R$ ",parseFloat(Z.price).toFixed(2).replace(".",",")]}),f.jsxs("span",{className:"item-subtotal",children:["R$ ",parseFloat(Z.subtotal).toFixed(2).replace(".",",")]})]}),C==="vendedor"&&Z.status==="pendente"&&f.jsx("button",{className:"btn-status-cancelado",onClick:()=>R({aberto:!0,itemId:Z.id}),children:" Cancelar"})]},Z.id)),f.jsxs("div",{className:"subtotal",children:[f.jsx("span",{children:"Subtotal:"}),f.jsxs("span",{className:"item-subtotal",children:["R$ ",I.total.toFixed(2).replace(".",",")]})]})]},I.store_name))}),f.jsxs("div",{className:"pedido-total-expandido",children:[f.jsx("span",{children:"Total do Pedido:"}),f.jsxs("span",{children:["R$ ",M.order_items?.reduce((I,se)=>I+parseFloat(se.subtotal),0).toFixed(2).replace(".",",")]})]})]})]},M.id)})})]})},kS=()=>{const{user:i,userProfile:n,signUp:s,signIn:l,signOut:u,updateProfile:c,loading:h,error:m,isAuthenticated:p}=Tc(),g=en(),[y,_]=S.useState("menu"),[j,N]=S.useState(!1),[C,z]=S.useState(0),[x,L]=S.useState({email:"",password:"",confirmPassword:"",fullname:"",phone:"",cep:"",cidade:"",bairro:"",rua:"",numero:""}),[A,R]=S.useState({}),[P,J]=S.useState(!1);S.useEffect(()=>{n&&L(B=>({...B,fullname:n.fullname||"",email:n.email||"",phone:n.phone||"",cep:n.cep||"",cidade:n.cidade||"",bairro:n.bairro||"",rua:n.rua||"",numero:n.numero||""}))},[n]),S.useEffect(()=>{i&&G()},[i]);const G=async()=>{try{const{data:B}=await oe.from("stores").select("id").eq("user_id",i.id),$=B&&B.length>0;N($),$&&W(B.map(re=>re.id))}catch(B){console.error("Erro ao verificar vendedor:",B)}},X=async B=>{const $=B.replace(/\D/g,"");if($.length===8)try{const re=await vl.getCoordinatesFromCEP($);if(!re){R(I=>({...I,cep:"CEP no encontrado"}));return}L(I=>({...I,cidade:re.address?.city||I.cidade,bairro:re.address?.neighborhood||I.bairro,rua:re.address?.street||I.rua})),R(I=>{const{cep:se,...Z}=I;return Z})}catch(re){console.error("Erro ao buscar CEP:",re),R(I=>({...I,cep:"Erro ao buscar CEP"}))}},W=async B=>{try{const{data:$,error:re}=await oe.functions.invoke("get-pending-orders-count",{body:{}});if(re){console.error("Erro ao carregar pendentes:",re);return}z($?.count||0)}catch($){console.error("Erro ao carregar pedidos pendentes:",$)}},ee=()=>{y==="menu"?window.history.back():(_("menu"),R({}))},ue=B=>{const $=B.replace(/\D/g,"");return $.length<=2?$:$.length<=7?`(${$.slice(0,2)}) ${$.slice(2)}`:`(${$.slice(0,2)}) ${$.slice(2,7)}-${$.slice(7,11)}`},ae=B=>{const $=B.replace(/\D/g,"");return $.length<=5?$:`${$.slice(0,5)}-${$.slice(5,8)}`},ne=B=>{const{name:$,value:re}=B.target,I=$==="phone"?ue(re):$==="cep"?ae(re):re;L(se=>({...se,[$]:I})),$==="cep"&&I.replace(/\D/g,"").length===8&&X(I),A[$]&&R(se=>({...se,[$]:""}))},fe=B=>{const $={};return B==="cadastro"&&(x.fullname.trim()||($.fullname="Nome  obrigatrio"),x.email.trim()||($.email="Email  obrigatrio"),x.password||($.password="Senha  obrigatria"),x.password.length<6&&($.password="Senha deve ter pelo menos 6 caracteres"),x.password!==x.confirmPassword&&($.confirmPassword="Senhas no coincidem")),B==="login"&&(x.email.trim()||($.email="Email  obrigatrio"),x.password||($.password="Senha  obrigatria")),B==="dados"&&(x.fullname.trim()||($.fullname="Nome  obrigatrio"),x.phone&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(x.phone)&&($.phone="Formato: (11) 99999-9999"),x.cep&&!/^\d{5}-?\d{3}$/.test(x.cep)&&($.cep="Formato: 12345-678")),$},De=async(B,$)=>{B.preventDefault();const re=fe($);if(Object.keys(re).length>0){R(re);return}J(!0),R({});try{if($==="cadastro"){const{error:I}=await s(x.email,x.password,x.fullname);I?R({submit:I}):(_("menu"),L({email:"",password:"",confirmPassword:"",fullname:"",phone:"",cep:"",cidade:"",bairro:"",rua:"",numero:""}))}if($==="login"){const{error:I}=await l(x.email,x.password);I?R({submit:I}):(_("menu"),L({email:"",password:"",confirmPassword:"",fullname:"",phone:"",cep:"",cidade:"",bairro:"",rua:"",numero:""}))}if($==="dados"){const I={};let se=!1;if(x.fullname!==n.fullname&&(I.fullname=x.fullname,se=!0),x.phone!==(n.phone||"")&&(I.phone=x.phone||null,se=!0),x.cep!==(n.cep||"")&&(I.cep=x.cep||null,se=!0),x.cidade!==(n.cidade||"")&&(I.cidade=x.cidade||null,se=!0),x.bairro!==(n.bairro||"")&&(I.bairro=x.bairro||null,se=!0),x.rua!==(n.rua||"")&&(I.rua=x.rua||null,se=!0),x.numero!==(n.numero||"")&&(I.numero=x.numero||null,se=!0),!se){_("menu");return}const{error:Z}=await c(I);Z?R({submit:Z}):(I.cep&&x.cep&&await vl.updateUserLocation(i.id,x.cep),_("menu"))}}catch{R({submit:"Erro inesperado. Tente novamente."})}finally{J(!1)}},ge=async()=>{await u(),_("menu")},H=()=>{g("/loja")},te=()=>f.jsx("div",{className:"conta-menu",children:p?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"conta-opcao",onClick:()=>_("dados"),children:[f.jsx("span",{className:"opcao-icone",children:""}),f.jsxs("div",{children:[f.jsx("h3",{children:"Meus Dados"}),f.jsx("p",{children:"Edite suas informaes"})]})]}),f.jsxs("div",{className:"conta-opcao",onClick:()=>_("pedidos"),style:{position:"relative"},children:[f.jsx("span",{className:"opcao-icone",children:""}),f.jsxs("div",{children:[f.jsx("h3",{children:"Pedidos"}),f.jsx("p",{children:"Histrico de Vendas"})]}),j&&C>0&&f.jsx("span",{className:"header-btn-badge2",children:C>99?"99+":C})]}),f.jsxs("div",{className:"conta-opcao",onClick:H,children:[f.jsx("span",{className:"opcao-icone",children:""}),f.jsxs("div",{children:[f.jsx("h3",{children:"Minha Loja"}),f.jsx("p",{children:"Gerenciar lojas e produtos"})]})]}),f.jsxs("div",{className:"conta-opcao",onClick:ge,children:[f.jsx("span",{className:"opcao-icone",children:""}),f.jsxs("div",{children:[f.jsx("h3",{children:"Sair"}),f.jsx("p",{children:"Fazer logout"})]})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"conta-opcao",onClick:()=>_("login"),children:[f.jsx("span",{className:"opcao-icone",children:""}),f.jsxs("div",{children:[f.jsx("h3",{children:"Entrar"}),f.jsx("p",{children:"Acesse sua conta"})]})]}),f.jsxs("div",{className:"conta-opcao",onClick:()=>_("cadastro"),children:[f.jsx("span",{className:"opcao-icone",children:""}),f.jsxs("div",{children:[f.jsx("h3",{children:"Cadastrar"}),f.jsx("p",{children:"Crie sua conta"})]})]})]})}),ie=()=>f.jsxs("form",{className:"conta-form",onSubmit:B=>De(B,"cadastro"),children:[f.jsx("h2",{children:"Criar Conta"}),A.submit&&f.jsx("div",{className:"error-message",children:A.submit}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Nome Completo"}),f.jsx("input",{type:"text",name:"fullname",value:x.fullname,onChange:ne,placeholder:"Digite seu nome completo"}),A.fullname&&f.jsx("span",{className:"field-error",children:A.fullname})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Email"}),f.jsx("input",{type:"email",name:"email",value:x.email,onChange:ne,placeholder:"Digite seu email"}),A.email&&f.jsx("span",{className:"field-error",children:A.email})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Senha"}),f.jsx("input",{type:"password",name:"password",value:x.password,onChange:ne,placeholder:"Digite sua senha"}),A.password&&f.jsx("span",{className:"field-error",children:A.password})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Confirmar Senha"}),f.jsx("input",{type:"password",name:"confirmPassword",value:x.confirmPassword,onChange:ne,placeholder:"Confirme sua senha"}),A.confirmPassword&&f.jsx("span",{className:"field-error",children:A.confirmPassword})]}),f.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:P,children:P?"Criando...":"Criar Conta"})]}),Ee=()=>f.jsxs("form",{className:"conta-form",onSubmit:B=>De(B,"login"),children:[f.jsx("h2",{children:"Entrar"}),A.submit&&f.jsx("div",{className:"error-message",children:A.submit}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Email"}),f.jsx("input",{type:"email",name:"email",value:x.email,onChange:ne,placeholder:"Digite seu email"}),A.email&&f.jsx("span",{className:"field-error",children:A.email})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Senha"}),f.jsx("input",{type:"password",name:"password",value:x.password,onChange:ne,placeholder:"Digite sua senha"}),A.password&&f.jsx("span",{className:"field-error",children:A.password})]}),f.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:P,children:P?"Entrando...":"Entrar"}),f.jsx("button",{type:"button",className:"btn-link",onClick:()=>_("cadastro"),children:"No tem conta? Cadastre-se"})]}),E=()=>f.jsxs("form",{className:"conta-form",onSubmit:B=>De(B,"dados"),children:[A.submit&&f.jsx("div",{className:"error-message",children:A.submit}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Nome "}),f.jsx("input",{type:"text",name:"fullname",value:x.fullname,onChange:ne}),A.fullname&&f.jsx("span",{className:"field-error",children:A.fullname})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Email"}),f.jsx("input",{type:"email",value:x.email,disabled:!0,className:"disabled-field"}),f.jsx("small",{children:"Email no pode ser alterado"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Telefone"}),f.jsx("input",{type:"tel",name:"phone",value:x.phone,onChange:ne,placeholder:"(11) 99999-9999",maxLength:"15"}),A.phone&&f.jsx("span",{className:"field-error",children:A.phone})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"CEP"}),f.jsx("input",{type:"text",name:"cep",value:x.cep,onChange:ne,placeholder:"12345-678",maxLength:"9",inputMode:"numeric",pattern:"\\d{5}-\\d{3}"}),A.cep&&f.jsx("span",{className:"field-error",children:A.cep})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Cidade"}),f.jsx("input",{type:"text",name:"cidade",value:x.cidade,onChange:ne,placeholder:"Digite sua cidade"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Bairro"}),f.jsx("input",{type:"text",name:"bairro",value:x.bairro,onChange:ne,placeholder:"Digite seu bairro"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Rua"}),f.jsx("input",{type:"text",name:"rua",value:x.rua,onChange:ne,placeholder:"Digite sua rua"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Nmero"}),f.jsx("input",{type:"text",name:"numero",value:x.numero,onChange:ne,placeholder:"Digite o nmero"})]}),f.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:P,children:P?"Salvando...":"Salvar Alteraes"})]}),K=()=>{if(h)return f.jsx("div",{className:"loading-message",children:"Carregando..."});switch(y){case"cadastro":return ie();case"login":return Ee();case"dados":return E();case"pedidos":return f.jsx(RS,{user:i,userProfile:n,isVendor:j});default:return te()}},M=()=>{switch(y){case"cadastro":return"Criar Conta";case"login":return"Entrar";case"dados":return"Meus Dados";case"pedidos":return"Pedidos";default:return p?"Minha Conta":"Conta"}};return f.jsxs("div",{className:"conta-container",children:[f.jsxs("div",{className:"conta-header",children:[f.jsx("button",{className:"btn-voltar",onClick:ee,children:f.jsx(xa,{})}),f.jsx("h1",{children:M()})]}),f.jsx("div",{className:"conta-conteudo",children:K()})]})};function DS(i={}){const{debounceMs:n=300,minChars:s=2,limit:l=20,autoSearch:u=!0}=i,[c,h]=S.useState(""),[m,p]=S.useState([]),[g,y]=S.useState(!1),[_,j]=S.useState(""),[N,C]=S.useState(!1),[z,x]=S.useState(-1);S.useEffect(()=>{if(!u)return;const P=setTimeout(()=>{c.trim().length>=s?L():(p([]),C(!1))},n);return()=>clearTimeout(P)},[c,u,s,n]);const L=async()=>{if(!(c.trim().length<s)){y(!0),j(""),x(-1);try{const{produtos:P,error:J}=await Vp.searchCatalog(c,{limit:l});J?j(J):p(P||[]),C(!0)}catch(P){j("Erro ao buscar. Tente novamente."),console.error(P)}finally{y(!1)}}};return{searchTerm:c,produtos:m,loading:g,error:_,showResults:N,selectedIndex:z,setSearchTerm:h,setShowResults:C,performSearch:L,handleClear:()=>{h(""),p([]),C(!1),x(-1)},handleKeyDown:P=>{const J=m.length;if(P.key==="ArrowDown")P.preventDefault(),x(G=>(G+1)%J);else if(P.key==="ArrowUp")P.preventDefault(),x(G=>(G-1+J)%J);else{if(P.key==="Enter"&&z>=0)return P.preventDefault(),m[z];P.key==="Escape"&&C(!1)}},totalResults:m.length,hasResults:m.length>0}}const tc=({message:i,type:n,onClose:s})=>i?f.jsxs("div",{className:`notification notification-${n}`,children:[f.jsx("span",{className:"notification-message",children:i}),f.jsx("button",{className:"notification-close",onClick:s,children:""})]}):null,Fp=()=>{const[i,n]=S.useState(null);return{notification:i,showNotification:(u,c="info")=>{n({message:u,type:c}),setTimeout(()=>{n(null)},4e3)},hideNotification:()=>{n(null)}}},US=({value:i=[],onChange:n,onSave:s})=>{const l=()=>{n([...i,{dias:"",horario:""}])},u=m=>{n(i.filter((p,g)=>g!==m))},c=(m,p,g)=>{const y=i.map((_,j)=>j===m?{..._,[p]:g}:_);n(y)},h=()=>{s&&s(i)};return f.jsxs("div",{className:"business-hours-container",children:[f.jsxs("div",{className:"business-hours-list",children:[i.map((m,p)=>f.jsx("div",{className:"day-row",children:f.jsxs("div",{className:"day-row-content",children:[f.jsxs("div",{className:"period-line",children:[f.jsxs("div",{className:"input-group",children:[f.jsx("span",{className:"field-label",children:"Dias:"}),f.jsx("input",{type:"text",className:"free-text-input",placeholder:"Ex: Segunda  Sexta",value:m.dias||"",onChange:g=>c(p,"dias",g.target.value)})]}),f.jsx("button",{type:"button",className:"remove-day-btn",onClick:()=>u(p),title:"Remover linha",children:""})]}),f.jsx("div",{className:"period-line",children:f.jsxs("div",{className:"input-group",children:[f.jsx("span",{className:"field-label",children:"Horrio:"}),f.jsx("input",{type:"text",className:"free-text-input",placeholder:"Ex: 09:00 s 18:00 (Almoo 12h-13h)",value:m.horario||"",onChange:g=>c(p,"horario",g.target.value)})]})})]})},p)),f.jsx("div",{className:"add-day-container",children:f.jsx("button",{type:"button",className:"add-day-btn",onClick:l,children:"+ Adicionar novo perodo"})})]}),i.length===0&&f.jsx("div",{className:"empty-hours",children:"Nenhum horrio definido."}),f.jsx("div",{className:"save-actions",children:f.jsx("button",{type:"button",className:"save-btn",onClick:h,children:"Salvar Alteraes"})})]})},MS=({formData:i,formErrors:n,isSubmitting:s,categories:l,editingStore:u,creatingStore:c,handleVoltar:h,handleInputChange:m,handleSubmit:p,resetForm:g,handleSaveBusinessHours:y})=>{const _=N=>{const C=N.replace(/\D/g,"");return C.length<=5?C:C.replace(/(\d{5})(\d{1,3})/,"$1-$2")},j=N=>{const C=_(N.target.value);m({target:{name:"address.zip_code",value:C}})};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"stores-header",children:[f.jsx("button",{className:"btn-voltar",onClick:h,children:f.jsx(xa,{})}),f.jsx("h1",{children:u?"Editar Loja":c?"Nova Loja":"Minha Loja"})]}),f.jsxs("form",{className:"store-form",onSubmit:p,children:[n.submit&&f.jsx("div",{className:"error-message",children:n.submit}),f.jsxs("div",{className:"form-section",children:[f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Nome da Loja *"}),f.jsx("input",{type:"text",name:"name",value:i.name,onChange:m,placeholder:"Nome fantasia da loja"}),n.name&&f.jsx("span",{className:"field-error",children:n.name})]}),f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Razo Social"}),f.jsx("input",{type:"text",name:"business_name",value:i.business_name,onChange:m,placeholder:"Razo social completa"})]}),f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Categoria *"}),f.jsxs("select",{name:"category",value:i.category,onChange:m,children:[f.jsx("option",{value:"",children:"Selecione uma categoria"}),l.map(N=>f.jsx("option",{value:N,children:N},N))]}),n.category&&f.jsx("span",{className:"field-error",children:n.category})]}),f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Descrio"}),f.jsx("textarea",{name:"description",value:i.description,onChange:m,placeholder:"Descreva sua loja e produtos",rows:"3"})]}),f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"CNPJ"}),f.jsx("input",{type:"text",name:"cnpj",value:i.cnpj,onChange:m,placeholder:"00.000.000/0001-00"}),n.cnpj&&f.jsx("span",{className:"field-error",children:n.cnpj})]})]}),f.jsxs("div",{className:"form-section",children:[f.jsx("h3",{children:"Horrio de Funcionamento"}),f.jsx(US,{value:i.business_hours,onChange:N=>m({target:{name:"business_hours",value:N}}),onSave:y}),f.jsx("h3",{children:"Contato"}),f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Email"}),f.jsx("input",{type:"email",name:"email",value:i.email,onChange:m,placeholder:"contato@loja.com"}),n.email&&f.jsx("span",{className:"field-error",children:n.email})]}),f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Telefone"}),f.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:m,placeholder:"(11) 99999-9999"}),n.phone&&f.jsx("span",{className:"field-error",children:n.phone})]})]}),f.jsxs("div",{className:"form-section",children:[f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"CEP"}),f.jsx("input",{type:"text",name:"address.zip_code",value:i.address.zip_code,onChange:j,placeholder:"00000-000",maxLength:9})]}),f.jsx("h3",{children:"Endereo"}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Rua"}),f.jsx("input",{type:"text",name:"address.street",value:i.address.street,onChange:m,placeholder:"Nome da rua"})]}),f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Nmero"}),f.jsx("input",{type:"text",name:"address.number",value:i.address.number,onChange:m,placeholder:"123"})]})]}),f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Complemento"}),f.jsx("input",{type:"text",name:"address.complement",value:i.address.complement,onChange:m,placeholder:"Sala, andar, etc."})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Bairro"}),f.jsx("input",{type:"text",name:"address.neighborhood",value:i.address.neighborhood,onChange:m,placeholder:"Nome do bairro"})]}),f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Cidade"}),f.jsx("input",{type:"text",name:"address.city",value:i.address.city,onChange:m,placeholder:"Nome da cidade"})]})]}),f.jsx("div",{className:"form-row",children:f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Estado"}),f.jsx("input",{type:"text",name:"address.state",value:i.address.state,onChange:m,placeholder:"SP",maxLength:"2"})]})})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"button",className:"btn btn-secondary",onClick:g,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s,children:s?"Salvando...":u?"Atualizar":"Criar Loja"})]})]})]})};function zS(i){return Cc({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 25 4.03125 C 24.234375 4.03125 23.484375 4.328125 22.90625 4.90625 L 13 14.78125 L 12.78125 15 L 12.71875 15.3125 L 12.03125 18.8125 L 11.71875 20.28125 L 13.1875 19.96875 L 16.6875 19.28125 L 17 19.21875 L 17.21875 19 L 27.09375 9.09375 C 28.246094 7.941406 28.246094 6.058594 27.09375 4.90625 C 26.515625 4.328125 25.765625 4.03125 25 4.03125 Z M 25 5.96875 C 25.234375 5.96875 25.464844 6.089844 25.6875 6.3125 C 26.132813 6.757813 26.132813 7.242188 25.6875 7.6875 L 16 17.375 L 14.28125 17.71875 L 14.625 16 L 24.3125 6.3125 C 24.535156 6.089844 24.765625 5.96875 25 5.96875 Z M 4 8 L 4 28 L 24 28 L 24 14.8125 L 22 16.8125 L 22 26 L 6 26 L 6 10 L 15.1875 10 L 17.1875 8 Z"},child:[]}]})(i)}const LS=({store:i,onEdit:n,onVisit:s})=>f.jsx("div",{className:"store-card",children:f.jsx("div",{className:"store-card-header",children:f.jsxs("div",{className:"store-info",children:[f.jsxs("div",{className:"store-details",children:[f.jsx("h3",{children:i.name}),i.business_name&&f.jsx("p",{className:"business-name",children:i.business_name}),f.jsx("p",{className:"category",children:i.category}),f.jsx("div",{className:"store-status",children:i.is_approved?f.jsx("span",{className:"status approved",children:" Aprovada"}):f.jsx("span",{className:"status pending",children:" Aguardando aprovao"})})]}),f.jsxs("div",{className:"store-card-controls",children:[f.jsx("button",{className:"btn btn-sm",onClick:l=>{l.stopPropagation(),n(i)},children:f.jsx(zS,{size:28})}),f.jsx("div",{className:"btn-visit-store",onClick:()=>s(i.name),children:"Visitar Loja"})]})]})})}),qS=({product:i,onClose:n,onSave:s})=>{const[l,u]=S.useState({price:i.price?.toString()||"",stock:i.stock?.toString()||""}),[c,h]=S.useState(!1),m=y=>{const{name:_,value:j}=y.target;u(N=>({...N,[_]:j}))},p=async y=>{y.preventDefault(),h(!0);const _={price:parseFloat(l.price)||0,stock:parseInt(l.stock)||0},j=await s(i.id,_);h(!1),j&&n()},g=i.products?.name||i.product?.name||i.name||"Produto sem nome";return f.jsx("div",{className:"modal-overlay-loja",onClick:n,children:f.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h3",{children:"Editar Produto"}),f.jsx("button",{className:"modal-close",onClick:n,children:""})]}),f.jsxs("form",{className:"modal-form",onSubmit:p,children:[f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Produto"}),f.jsx("input",{type:"text",value:g,disabled:!0})]}),f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Preo (R$)"}),f.jsx("input",{type:"number",name:"price",step:"0.01",min:"0",value:l.price,onChange:m,placeholder:"0.00",required:!0})]}),f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Estoque"}),f.jsx("input",{type:"number",name:"stock",min:"0",value:l.stock,onChange:m,placeholder:"0",required:!0})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?"Salvando...":"Atualizar"})]})]})]})})},BS=({productInfo:i,onClose:n,onAdd:s})=>{const{product:l,store:u}=i,[c,h]=S.useState({price:"",stock:""}),[m,p]=S.useState(!1),g=_=>{const{name:j,value:N}=_.target;h(C=>({...C,[j]:N}))},y=async _=>{_.preventDefault(),p(!0);const j={price:parseFloat(c.price)||0,stock:parseInt(c.stock)||0},N=await s(l,u,j);p(!1),N&&n()};return f.jsx("div",{className:"modal-overlay-loja",onClick:n,children:f.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h3",{children:"Adicionar Produto"}),f.jsx("button",{className:"modal-close",onClick:n,children:""})]}),f.jsxs("form",{className:"modal-form",onSubmit:y,children:[f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Produto"}),f.jsx("input",{type:"text",value:l.name||"Produto sem nome",disabled:!0})]}),f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Categoria"}),f.jsx("input",{type:"text",value:l.category||"",disabled:!0})]}),f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Preo (R$)"}),f.jsx("input",{type:"number",name:"price",step:"0.01",min:"0",value:c.price,onChange:g,placeholder:"0.00",required:!0})]}),f.jsxs("div",{className:"form-group-loja",children:[f.jsx("label",{children:"Estoque"}),f.jsx("input",{type:"number",name:"stock",min:"0",value:c.stock,onChange:g,placeholder:"0",required:!0})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Adicionando...":"Adicionar"})]})]})]})})},HS=({store:i,expanded:n,onToggle:s,products:l,loading:u,searchTerm:c,onSearchChange:h,onClearSearch:m,onEditProduct:p,onDeleteProduct:g,confirmingDelete:y,setConfirmingDelete:_})=>f.jsxs("div",{className:"store-products-container",children:[f.jsxs("div",{className:"store-products-header",onClick:()=>s(i),children:[f.jsx("h3",{className:"store-products-title",children:"Produtos Cadastrados"}),f.jsx("button",{className:`products-expand-btn ${n?"expanded":""}`,type:"button",children:""})]}),n&&f.jsxs("div",{className:"store-products-content",children:[f.jsx("div",{className:"search-container",children:f.jsxs("div",{className:"search-input-wrapper",children:[f.jsx("input",{type:"text",className:"search-input",placeholder:"Buscar produtos...",value:c,onChange:j=>h(j.target.value)}),c&&f.jsx("button",{className:"clear-btn",onClick:m,children:f.jsx(Nc,{size:18})})]})}),f.jsx("div",{className:"store-products",children:u?f.jsx("p",{className:"loading-products",children:"Carregando produtos..."}):l.length>0?f.jsx("div",{className:"products-list",children:l.map(j=>{const N=j.products?.name||j.product?.name||j.name||"Produto sem nome",C=j.products?.category||j.product?.category||"",z=j.products?.description||j.product?.description||"",x=typeof j.price=="number"?j.price.toFixed(2):"";return f.jsxs("div",{className:"product-item",children:[f.jsxs("div",{className:"product-info",children:[f.jsx("h5",{children:N}),C&&f.jsx("p",{className:"product-category",children:C}),z&&f.jsx("p",{className:"product-description",children:z})]}),f.jsxs("div",{className:"product-details",children:[f.jsxs("div",{className:"product-bottom",children:[f.jsxs("span",{className:"product-price",children:["R$ ",x]}),f.jsxs("span",{className:"product-stock",children:["Estoque: ",j.stock??""]})]}),f.jsxs("div",{className:"product-actions",children:[f.jsx("button",{className:"btn-edit-product",onClick:()=>p(j),children:"Editar"}),y===j.id?f.jsx("button",{className:"btn-delete-product",onClick:()=>{g(j),_(null)},children:"Certeza?"}):f.jsx("button",{className:"btn-delete-product",onClick:()=>_(j.id),children:"Excluir"})]})]})]},j.id)})}):f.jsx("p",{className:"no-products",children:c?`Nenhum produto encontrado para "${c}"`:"Nenhum produto cadastrado nesta loja."})})]})]}),$S=({store:i,expanded:n,onToggle:s,catalogProducts:l,loading:u,searchTerm:c,onSearchChange:h,onClearSearch:m,storeProducts:p,onAddProduct:g})=>f.jsxs("div",{className:"store-products-container",children:[f.jsxs("div",{className:"store-products-header catalog-header",onClick:()=>s(i),children:[f.jsx("h3",{className:"store-products-title",children:"Adicionar Produtos"}),f.jsx("button",{className:`products-expand-btn ${n?"expanded":""}`,type:"button",children:""})]}),n&&f.jsxs("div",{className:"store-products-content",children:[f.jsx("div",{className:"search-container",children:f.jsxs("div",{className:"search-input-wrapper",children:[f.jsx("input",{type:"text",className:"search-input",placeholder:"Buscar produtos no catlogo...",value:c,onChange:y=>h(y.target.value)}),c&&f.jsx("button",{className:"clear-btn",onClick:m,children:f.jsx(Nc,{size:18})})]})}),f.jsx("div",{className:"store-products",children:u?f.jsx("p",{className:"loading-products",children:"Carregando catlogo..."}):l.length>0?f.jsxs(f.Fragment,{children:[c&&f.jsxs("p",{className:"search-results-count",children:[l.length," produto",l.length!==1?"s":""," encontrado",l.length!==1?"s":""]}),f.jsx("div",{className:"products-list",children:l.map(y=>{const _=p.find(C=>C.products?.id===y.id||C.product_id===y.id),j=_&&_.is_active!==!1,N=_&&_.is_active===!1;return f.jsxs("div",{className:`product-item ${N?"inactive-product":""}`,children:[f.jsxs("div",{className:"product-info",children:[f.jsxs("h5",{children:[y.name,N&&f.jsx("span",{className:"inactive-badge",children:" Desativado"})]}),y.category&&f.jsx("p",{className:"product-category",children:y.subcategory}),y.description&&f.jsx("p",{className:"product-description",children:y.description}),N&&f.jsx("p",{className:"reactivate-hint",children:'Este produto foi removido da sua loja. Clique em "Reativar" para adicion-lo novamente.'})]}),f.jsx("div",{className:"product-details",children:j?f.jsx("span",{className:"product-status",children:" Ativo na loja"}):N?f.jsx("button",{className:"btn-reactivate-product",onClick:()=>g(y),children:" Reativar Produto"}):f.jsx("button",{className:"btn-add-product",onClick:()=>g(y),children:"+ Adicionar"})})]},y.id)})})]}):c?f.jsxs("p",{className:"no-products",children:['Nenhum produto encontrado para "',c,'"']}):f.jsx("p",{className:"no-products",children:"Pesquise para adicionar produtos."})})]})]}),PS=()=>{const{notification:i,showNotification:n,hideNotification:s}=Fp(),{user:l,isAuthenticated:u}=Tc(),c=en(),{createSlug:h}=Ys(),[m,p]=S.useState([]),[g,y]=S.useState(!0),[_,j]=S.useState(null),[N,C]=S.useState(!1),[z,x]=S.useState(null),[L,A]=S.useState(null),[R,P]=S.useState({}),[J,G]=S.useState({}),[X,W]=S.useState(null),[ee,ue]=S.useState(null),[ae,ne]=S.useState(null),fe=Qp({autoSearch:!1,limit:50}),De=DS({autoSearch:!0,limit:20,minChars:2}),[ge,H]=S.useState({name:"",business_name:"",description:"",category:"",cnpj:"",email:"",phone:"",address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zip_code:""},business_hours:[]}),[te,ie]=S.useState({}),[Ee,E]=S.useState(!1),K=["Mercearia","Aougue","Padaria","Farmcia","Construo","Eletrnicos","Roupas","Casa e Decorao","Outros"];S.useEffect(()=>{u&&l?.id?M():y(!1)},[u,l]),S.useEffect(()=>{m.length>0&&m.forEach(F=>B(F.id))},[m]);const M=async()=>{try{const{data:F,error:ce}=await wa.getUserStores(l.id);ce||p(F||[])}catch(F){console.error("Erro ao carregar lojas:",F)}finally{y(!1)}},B=async F=>{if(!R[F]){G(ce=>({...ce,[F]:!0}));try{const{data:ce,error:Ne}=await oe.from("product_listings").select("*, products (id, name, description, category, images)").eq("store_id",F);if(!Ne){const _e=ce||[],Ue=_e.filter(Ce=>Ce.is_active!==!1);P(Ce=>({...Ce,[F]:Ue,[`${F}_all`]:_e}))}}catch(ce){console.error("Erro ao carregar produtos:",ce)}finally{G(ce=>({...ce,[F]:!1}))}}},$=()=>{_||N?Rr():window.history.back()},re=F=>{const ce=h(F);c(`/loja/${ce}`)},I=async F=>{z===F.id?(x(null),fe.handleClear()):(x(F.id),await B(F.id))},se=async F=>{L===F.id?(A(null),De.handleClear()):(A(F.id),await B(F.id))},Z=F=>{const ce=R[F]||[],Ne=fe.searchTerm.toLowerCase().trim();return Ne?ce.filter(_e=>{const Ue=(_e.products?.name||_e.product?.name||_e.name||"").toLowerCase(),Ce=(_e.products?.category||_e.product?.category||"").toLowerCase();return Ue.includes(Ne)||Ce.includes(Ne)}):ce},qe=F=>{const{name:ce,value:Ne}=F.target;if(ce==="business_hours")H(_e=>({..._e,business_hours:Ne}));else if(ce.startsWith("address.")){const _e=ce.split(".")[1];H(Ue=>({...Ue,address:{...Ue.address,[_e]:Ne}}))}else H(_e=>({..._e,[ce]:Ne}));te[ce]&&ie(_e=>({..._e,[ce]:""}))},Be=()=>{const F={};return ge.name.trim()||(F.name="Nome da loja  obrigatrio"),ge.category||(F.category="Categoria  obrigatria"),ge.cnpj&&!/^\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}$/.test(ge.cnpj)&&(F.cnpj="CNPJ invlido"),ge.email&&!/\S+@\S+\.\S+/.test(ge.email)&&(F.email="Email invlido"),ge.phone&&!/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(ge.phone)&&(F.phone="Formato: (11) 99999-9999"),F},Ve=async F=>{F.preventDefault();const ce=Be();if(Object.keys(ce).length>0){ie(ce);return}E(!0),ie({});try{_?await Pt():await Je(),await M(),Rr()}catch(Ne){console.error("Erro ao salvar loja:",Ne),ie({submit:"Erro inesperado. Tente novamente."})}finally{E(!1)}},Pt=async()=>{const F={};let ce=!1,Ne=!1;if(Object.keys(ge).forEach(Ue=>{if(Ue==="address"){const Ce=_.address||{},$e=ge.address;JSON.stringify(Ce)!==JSON.stringify($e)&&(F.address=$e.street?$e:null,ce=!0,Ne=$e.zip_code!==(Ce.zip_code||""))}else ge[Ue]!==(_[Ue]||"")&&(F[Ue]=ge[Ue],ce=!0)}),!ce)return;const _e=await wa.updateStore(_.id,F);if(_e.error){ie({submit:_e.error});return}Ne&&ge.address.zip_code&&await vl.updateStoreLocation(_.id,ge.address)},Je=async()=>{const F={...ge,user_id:l.id,address:ge.address.street?ge.address:null,business_hours:ge.business_hours},ce=await wa.createStore(F);if(ce.error){ie({submit:ce.error});return}if(ce.data&&ge.address.zip_code){const Ne=ce.data[0]?.id;await vl.updateStoreLocation(Ne,ge.address)}},Ta=F=>{j(F),H({name:F.name||"",business_name:F.business_name||"",description:F.description||"",category:F.category||"",cnpj:F.cnpj||"",email:F.email||"",phone:F.phone||"",address:F.address||{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zip_code:""},business_hours:F.business_hours||[]})},jl=()=>{C(!0),H({name:"",business_name:"",description:"",category:"",cnpj:"",email:"",phone:"",address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zip_code:""},business_hours:[]})},Rr=()=>{H({name:"",business_name:"",description:"",category:"",cnpj:"",email:"",phone:"",address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zip_code:""},business_hours:[]}),ie({}),j(null),C(!1)},kt=async F=>{if(_?.id)try{const{error:ce}=await wa.updateStore(_.id,{business_hours:F});ce?n("Erro ao salvar horrios: "+ce,"error"):(n("Horrios salvos com sucesso!","success"),p(Ne=>Ne.map(_e=>_e.id===_.id?{..._e,business_hours:F}:_e)),j(Ne=>({...Ne,business_hours:F})))}catch(ce){console.error("Erro ao salvar horrios:",ce),n("Erro inesperado ao salvar horrios","error")}},xl=async F=>{try{const{data:ce,error:Ne}=await oe.from("product_listings").update({is_active:!1}).eq("id",F.id).select("*, products (id, name, description, category, images)");if(Ne){n("Erro ao remover produto. Tente novamente.","error");return}const _e=F.store_id||Object.keys(R).find(Ue=>R[Ue].some(Ce=>Ce.id===F.id));if(_e){const Ue=ce[0];P(Ce=>({...Ce,[_e]:Ce[_e].filter($e=>$e.id!==F.id),[`${_e}_all`]:[...(Ce[`${_e}_all`]||[]).filter($e=>$e.id!==F.id),Ue]})),n("Produto removido com sucesso!","success")}}catch(ce){console.error("Erro ao remover produto:",ce),n("Erro ao remover produto. Tente novamente.","error")}},Vs=async(F,ce)=>{try{const{error:Ne}=await wa.updateProductListing(F,ce);if(Ne)return console.error("Erro ao atualizar produto:",Ne),!1;const _e=Object.keys(R).find(Ue=>R[Ue].some(Ce=>Ce.id===F));return _e&&P(Ue=>({...Ue,[_e]:Ue[_e].map(Ce=>Ce.id===F?{...Ce,...ce}:Ce)})),!0}catch(Ne){return console.error("Erro ao atualizar produto:",Ne),!1}},Qs=async(F,ce,Ne)=>{try{const Ue=(R[`${ce.id}_all`]||[]).find(Ce=>Ce.products?.id===F.id||Ce.product_id===F.id);if(Ue){const{data:Ce,error:$e}=await oe.from("product_listings").update({...Ne,is_active:!0}).eq("id",Ue.id).select("*, products (id, name, description, category, images)");if($e)return n("Erro ao reativar produto.","error"),!1;const xt=Ce[0];P(We=>({...We,[ce.id]:[...(We[ce.id]||[]).filter(ra=>ra.id!==Ue.id),xt],[`${ce.id}_all`]:[...(We[`${ce.id}_all`]||[]).filter(ra=>ra.id!==Ue.id),xt]})),n("Produto reativado com sucesso!","success")}else{const Ce={product_id:F.id,store_id:ce.id,...Ne,is_active:!0},{data:$e,error:xt}=await wa.createProductListing(Ce);if(xt)return n("Erro ao adicionar produto.","error"),!1;const We={...$e[0],products:F};P(ra=>({...ra,[ce.id]:[...ra[ce.id]||[],We],[`${ce.id}_all`]:[...ra[`${ce.id}_all`]||[],We]})),n("Produto adicionado com sucesso!","success")}return!0}catch(_e){return console.error("Erro ao adicionar produto:",_e),n("Erro ao adicionar produto.","error"),!1}};return u?g?f.jsxs("div",{className:"stores-container",children:[i&&f.jsx(tc,{message:i.message,type:i.type,onClose:s}),f.jsxs("div",{className:"stores-header",children:[f.jsx("button",{className:"btn-voltar",onClick:$,children:f.jsx(xa,{})}),f.jsx("h1",{children:"Minha Loja"})]}),f.jsx("div",{className:"loading-message",children:"Carregando lojas..."})]}):f.jsxs("div",{className:"stores-container",children:[i&&f.jsx(tc,{message:i.message,type:i.type,onClose:s}),_||N?f.jsx(MS,{formData:ge,formErrors:te,isSubmitting:Ee,categories:K,editingStore:_,creatingStore:N,handleVoltar:$,handleInputChange:qe,handleSubmit:Ve,resetForm:Rr,handleSaveBusinessHours:kt}):f.jsxs("div",{className:"stores-header",children:[f.jsx("button",{className:"btn-voltar",onClick:$,children:f.jsx(xa,{})}),f.jsx("h1",{children:"Minha Loja"})]}),ee&&f.jsx(qS,{product:ee,onClose:()=>ue(null),onSave:Vs}),ae&&f.jsx(BS,{productInfo:ae,onClose:()=>ne(null),onAdd:Qs}),!_&&!N&&f.jsx("div",{className:"stores-list",children:m.length===0?f.jsxs("div",{className:"empty-state",children:[f.jsx("h3",{children:"Voc ainda no tem lojas criadas"}),f.jsx("p",{children:"Crie sua primeira loja para comear a vender seus produtos"}),f.jsx("button",{className:"btn btn-primary",onClick:jl,children:"Criar Nova Loja"})]}):m.map(F=>f.jsxs(Wa.Fragment,{children:[f.jsx(LS,{store:F,onEdit:Ta,onVisit:re}),f.jsx(HS,{store:F,expanded:z===F.id,onToggle:I,products:Z(F.id),loading:J[F.id],searchTerm:fe.searchTerm,onSearchChange:fe.setSearchTerm,onClearSearch:fe.handleClear,onEditProduct:ue,onDeleteProduct:xl,confirmingDelete:X,setConfirmingDelete:W}),f.jsx($S,{store:F,expanded:L===F.id,onToggle:se,catalogProducts:De.produtos,loading:De.loading,searchTerm:De.searchTerm,onSearchChange:De.setSearchTerm,onClearSearch:De.handleClear,storeProducts:R[`${F.id}_all`]||[],onAddProduct:ce=>ne({product:ce,store:F})})]},F.id))})]}):f.jsxs("div",{className:"stores-container",children:[i&&f.jsx(tc,{message:i.message,type:i.type,onClose:s}),f.jsxs("div",{className:"stores-header",children:[f.jsx("button",{className:"btn-voltar",onClick:$,children:f.jsx(xa,{})}),f.jsx("h1",{children:"Minha Loja"})]}),f.jsx("div",{className:"auth-required",children:f.jsx("p",{children:"Voc precisa estar logado para gerenciar lojas."})})]})},GS=()=>{const{storeSlug:i}=Wy(),n=en(),{notification:s,showNotification:l}=Fp(),{abrirModalProduto:u,adicionarAoCarrinho:c,removerDoCarrinho:h,getQuantidade:m,user:p}=Gs(),[g,y]=S.useState(null),[_,j]=S.useState([]),[N,C]=S.useState(!0),[z,x]=S.useState({});S.useEffect(()=>{L()},[i]);const L=async()=>{try{const{data:X}=await wa.getApprovedStores(),W=X?.find(ue=>A(ue.name)===i);if(!W){n("/");return}y(W);const{data:ee}=await wa.getStoreProducts(W.id);j(ee||[])}catch(X){console.error("Erro ao carregar loja:",X)}finally{C(!1)}},A=X=>X.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),R=async(X,W)=>{if(X.stopPropagation(),!p){l("Faa login para adicionar produtos ao carrinho","warning");return}const ee=W.id;if(z[ee])return;x(ne=>({...ne,[ee]:!0}));const ue={id:W.id,productListingId:W.id,nome:W.products.name,preco:parseFloat(W.price),stock:W.stock,loja:g.name,storeId:g.id,imagem:W.products.images?.[0],images:W.products.images||[]},ae=await c(ue);x(ne=>({...ne,[ee]:!1})),ae&&l("Produto adicionado!","success")},P=async(X,W)=>{X.stopPropagation();const ee=W.id;if(z[ee])return;x(ae=>({...ae,[ee]:!0}));const ue={id:W.id,productListingId:W.id};await h(ue),x(ae=>({...ae,[ee]:!1}))},J=()=>{window.history.back()},G=(X,W)=>{X.target.closest(".produto-controles-loja")||u({id:W.id,productListingId:W.id,nome:W.products.name,descricao:W.products.description,preco:parseFloat(W.price),stock:W.stock,loja:g.name,storeId:g.id,imagem:W.products.images?.[0],images:W.products.images||[]},{showControls:!0,onStoreClick:()=>{}})};return N?f.jsx("div",{className:"perfil-loja-container",children:"Carregando..."}):g?f.jsxs("div",{className:"perfil-loja-container",children:[s&&f.jsx("div",{className:`notification notification-${s.type}`,children:s.message}),f.jsxs("div",{className:"loja-header",children:[f.jsxs("div",{className:"loja-header-1",children:[f.jsx("button",{className:"btn-voltar",onClick:J,children:f.jsx(xa,{})}),f.jsx("h1",{className:"loja-nome",children:g.name})]}),f.jsxs("div",{className:"loja-info",children:[g.description&&f.jsx("p",{className:"loja-descricao",children:g.description}),f.jsxs("div",{className:"loja-detalhes",children:[g.email&&f.jsxs("span",{className:"loja-contato",children:[" ",g.email]}),g.phone&&f.jsxs("span",{className:"loja-contato",children:[" ",g.phone]})]})]})]}),f.jsx("div",{className:"loja-produtos-section",children:_.length===0?f.jsx("p",{className:"sem-produtos",children:"Esta loja ainda no possui produtos cadastrados."}):f.jsx("div",{className:"produtos-grid",children:_.map(X=>{const W=m({id:X.id,productListingId:X.id}),ee=X.id,ue=z[ee];return f.jsxs("div",{className:"produto-card",onClick:ae=>G(ae,X),children:[f.jsx("img",{src:X.products.images?.[0],alt:X.products.name,className:"produto-imagem"}),f.jsx("h3",{className:"produto-nome-produtos",children:X.products.name}),f.jsxs("p",{className:"produto-preco",children:["R$ ",parseFloat(X.price).toFixed(2).replace(".",",")]}),f.jsxs("div",{className:"produto-controles-loja",children:[f.jsx("button",{className:"btn-carrinho",onClick:ae=>P(ae,X),disabled:!W||ue,children:"-"}),f.jsx("span",{className:"quantidade-produto",children:W}),f.jsx("button",{className:"btn-carrinho",onClick:ae=>R(ae,X),disabled:X.stock===0||W>=X.stock||ue,children:"+"})]}),X.stock===0&&f.jsx("p",{className:"produto-sem-estoque",children:"Sem estoque"})]},X.id)})})})]}):f.jsx("div",{className:"perfil-loja-container",children:"Loja no encontrada"})};function YS(){const{user:i}=Tc();return f.jsxs(m0,{children:[f.jsx(xr,{path:"/",element:f.jsx(SS,{user:i})}),f.jsx(xr,{path:"/carrinho",element:f.jsx(OS,{})}),f.jsx(xr,{path:"/perfil",element:f.jsx(kS,{})}),f.jsx(xr,{path:"/loja",element:f.jsx(PS,{})}),f.jsx(xr,{path:"/loja/:storeSlug",element:f.jsx(GS,{})})]})}function VS(){return f.jsx(vS,{children:f.jsx(W_,{children:f.jsx(L0,{basename:"/Marketplace",children:f.jsx(YS,{})})})})}jy.createRoot(document.getElementById("root")).render(f.jsx(S.StrictMode,{children:f.jsx(VS,{})}));
